
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create and manipulate an ARMA process &#8212; OpenTURNS 1.19 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/openturns.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/mysearchtools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Trend computation" href="plot_trend_transform.html" />
    <link rel="prev" title="Draw fields" href="plot_process_manipulation.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="http://www.openturns.org/">Home</a></li>
    <li><a href="../../install.html">Get it</a></li>
    <li><a href="../../contents.html">Doc</a></li>
    <li><a href="https://openturns.discourse.group/">Forum</a></li>
    <li><a href="https://gitter.im/openturns/community">Chat</a></li>
    <li><a href="https://github.com/openturns/openturns/wiki/Modules">Modules</a></li>
    <li><a href="https://github.com/openturns">Code</a></li>
    <li><a href="https://github.com/openturns/openturns/issues">Bugs</a></li>
  </ul>
  <a href="../../index.html">
    <h1>
      <img src="../../_static/logo-openturns-wo-bg.png" alt="" width=100px height=100px />
      OpenTURNS
    </h1>
    <h2> An Open source initiative for the Treatment of Uncertainties, Risks'N Statistics</h2>
  </a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="plot_trend_transform.html" title="Trend computation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="plot_process_manipulation.html" title="Draw fields"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenTURNS 1.19 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../examples/examples.html" >Examples</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../index.html" accesskey="U">Probabilistic modeling</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Create and manipulate an ARMA process</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Create and manipulate an ARMA process</a><ul>
<li><a class="reference internal" href="#create-an-arma-process">Create an ARMA process</a></li>
<li><a class="reference internal" href="#arma-process-manipulation">ARMA process manipulation</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="plot_process_manipulation.html"
                          title="previous chapter">Draw fields</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="plot_trend_transform.html"
                          title="next chapter">Trend computation</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/auto_probabilistic_modeling/stochastic_processes/plot_create_and_manipulate_arma_process.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-probabilistic-modeling-stochastic-processes-plot-create-and-manipulate-arma-process-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="create-and-manipulate-an-arma-process">
<span id="sphx-glr-auto-probabilistic-modeling-stochastic-processes-plot-create-and-manipulate-arma-process-py"></span><h1>Create and manipulate an ARMA process<a class="headerlink" href="#create-and-manipulate-an-arma-process" title="Permalink to this headline">¶</a></h1>
<p>In this example we first create an ARMA process and then manipulate it.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openturns</span> <span class="k">as</span> <span class="nn">ot</span>
<span class="kn">import</span> <span class="nn">openturns.viewer</span> <span class="k">as</span> <span class="nn">viewer</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pylab</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">math</span> <span class="k">as</span> <span class="nn">m</span>
<span class="n">ot</span><span class="o">.</span><span class="n">Log</span><span class="o">.</span><span class="n">Show</span><span class="p">(</span><span class="n">ot</span><span class="o">.</span><span class="n">Log</span><span class="o">.</span><span class="n">NONE</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="create-an-arma-process">
<h2>Create an ARMA process<a class="headerlink" href="#create-an-arma-process" title="Permalink to this headline">¶</a></h2>
<p>In this example we are going to build an ARMA process defined by its linear recurrence coefficients.</p>
<p>The creation of an ARMA model requires the data of the AR and MA
coefficients which are:</p>
<ul class="simple">
<li><p>a list of scalars in the unidmensional case :
<img class="math" src="../../_images/math/c00fdb2f76418218bdb15d5d2337ecd2e197366c.svg" alt="(a_1, \dots, a_p)"/> for the AR-coefficients and
<img class="math" src="../../_images/math/0c15b99104681557be12b4f6f4e91553dfe1a09b.svg" alt="(b_1, \dots, b_q)"/> for the MA-coefficients</p></li>
<li><p>a list of square matrix
<img class="math" src="../../_images/math/c07b0f977528aa4a85c7dd8bf0d6cfc0ecbbb269.svg" alt="(\underline{\underline{A}}_{\, 1}, \dots, \underline{\underline{A}}{\, _p})"/> for the
AR-coefficients and
<img class="math" src="../../_images/math/11cdcace96bcf518bc29c09608f23f7211ff575a.svg" alt="(\underline{\underline{B}}_{\, 1}\, \dots, \underline{\underline{B}}_{\, q})"/> for the
MA-coefficients</p></li>
</ul>
<p>It also requires the definition of a white noise
<img class="math" src="../../_images/math/908d60bd08325dda7b56c778efd41f03ff30f472.svg" alt="\underline{\varepsilon}"/> that contains the same time grid as the
one of the process.
The current state of an ARMA model is characterized by its last
<img class="math" src="../../_images/math/17b12496a489ee11edbaa2998e911d495fddf5be.svg" alt="p"/> values and the last <img class="math" src="../../_images/math/0673f3d4e1420605f352372985b6a22266d58cd4.svg" alt="q"/> values of its white noise. It
is possible to get that state thanks to the methods <em>getState</em>.
It is possible to create an ARMA with a specific current state. That
specific current state is taken into account to generate possible
futurs but not to generate realizations (in order to respect the
stationarity property of the model).
At the creation step, we check whether the process
<img class="math" src="../../_images/math/226d13d2920a173e8b55e79daf7e3d3f7e793d31.svg" alt="ARMA(p,q)"/> is stationnary.
When the process is not stationary, the user is warned by a message.</p>
<p>We build the 1D ARMA process defined by :</p>
<div class="math">
<p><img src="../../_images/math/853c7c96323369ff7af4c13c87a710474ea0404e.svg" alt="X_{0,t} + 0.4 X_{0,t-1} + 0.3 X_{0,t-2} + 0.2 X_{0,t-3} + 0.1 X_{0,t-4} = E_{0,t} + 0.4 E_{0,t-1} + 0.3 E_{0,t-2}"/></p>
</div><p>where the white noise <img class="math" src="../../_images/math/ea2254be94400bde8e1814c9c0431e3341291d0c.svg" alt="E_t"/> is defined by <img class="math" src="../../_images/math/a6b718e1f954bafadaa61c776225e0910c3d2b10.svg" alt="E_t \approx \mathrm{Triangular}(a = -1, m = 0, b = 1)"/>.</p>
<p>The definition of the recurrence coefficients AR, MA (4,2) is simple :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">myARCoef</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">ARMACoefficients</span><span class="p">([</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
<span class="n">myMACoef</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">ARMACoefficients</span><span class="p">([</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])</span>
</pre></div>
</div>
<p>We build a regular time discretization of the interval [0,1] with 10 time steps.
We also set up the white noise distribution of the recurrence relation :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">myTimeGrid</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">RegularGrid</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">myWhiteNoise</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">WhiteNoise</span><span class="p">(</span><span class="n">ot</span><span class="o">.</span><span class="n">Triangular</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="n">myTimeGrid</span><span class="p">)</span>
</pre></div>
</div>
<p>We are now ready to create the ARMA-process :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">process</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">ARMA</span><span class="p">(</span><span class="n">myARCoef</span><span class="p">,</span> <span class="n">myMACoef</span><span class="p">,</span> <span class="n">myWhiteNoise</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">process</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>ARMA(X_{0,t} + 0.4 X_{0,t-1} + 0.3 X_{0,t-2} + 0.2 X_{0,t-3} + 0.1 X_{0,t-4} = E_{0,t} + 0.4 E_{0,t-1} + 0.3 E_{0,t-2}, E_t ~ Triangular(a = -1, m = 0, b = 1))
</pre></div>
</div>
</div>
<div class="section" id="arma-process-manipulation">
<h2>ARMA process manipulation<a class="headerlink" href="#arma-process-manipulation" title="Permalink to this headline">¶</a></h2>
<p>In this paragraph we shall expose some of the services exposed by an <img class="math" src="../../_images/math/226d13d2920a173e8b55e79daf7e3d3f7e793d31.svg" alt="ARMA(p,q)"/> object, namely :</p>
<ul class="simple">
<li><p>its AR and MA coefficients thanks to the methods <em>getARCoefficients,
getMACoefficients</em>,</p></li>
<li><p>its white noise thanks to the method <em>getWhiteNoise</em>, that contains
the time grid of the process,</p></li>
<li><p>its current state, that is its last <img class="math" src="../../_images/math/17b12496a489ee11edbaa2998e911d495fddf5be.svg" alt="p"/> values and the last
<img class="math" src="../../_images/math/0673f3d4e1420605f352372985b6a22266d58cd4.svg" alt="q"/> values of its white noise, thanks to the method <em>getState</em>,</p></li>
<li><p>a realization thanks to the method <em>getRealization</em> or a sample of realizations thanks to the method <em>getSample</em>,</p></li>
<li><p>a possible future of the model, which is a possible prolongation of
the current state on the next <img class="math" src="../../_images/math/3c182c54ac120819226c85e45c95dc452a9da923.svg" alt="n_{prol}"/> instants, thanks to
the method <em>getFuture</em>.</p></li>
<li><p><img class="math" src="../../_images/math/80b394abd4fb264a3879675f92f191c3e346c3a0.svg" alt="n"/> possible futures of the model, which correspond to
<img class="math" src="../../_images/math/80b394abd4fb264a3879675f92f191c3e346c3a0.svg" alt="n"/> possible prolongations of the current state on the next
<img class="math" src="../../_images/math/3c182c54ac120819226c85e45c95dc452a9da923.svg" alt="n_{prol}"/> instants, thanks to the method
<em>getFuture</em> (<img class="math" src="../../_images/math/3c182c54ac120819226c85e45c95dc452a9da923.svg" alt="n_{prol}"/>, <img class="math" src="../../_images/math/80b394abd4fb264a3879675f92f191c3e346c3a0.svg" alt="n"/>).</p></li>
</ul>
<p>First we get the coefficients AR and MA of the recurrence :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;AR coeff = &#39;</span><span class="p">,</span> <span class="n">process</span><span class="o">.</span><span class="n">getARCoefficients</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;MA coeff = &#39;</span><span class="p">,</span> <span class="n">process</span><span class="o">.</span><span class="n">getMACoefficients</span><span class="p">())</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>AR coeff =  shift = 0
[[ 0.4 ]]
shift = 1
[[ 0.3 ]]
shift = 2
[[ 0.2 ]]
shift = 3
[[ 0.1 ]]

MA coeff =  shift = 0
[[ 0.4 ]]
shift = 1
[[ 0.3 ]]
</pre></div>
</div>
<p>We check that the white noise is the one we have previously defined :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">myWhiteNoise</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">getWhiteNoise</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">myWhiteNoise</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>WhiteNoise(Triangular(a = -1, m = 0, b = 1))
</pre></div>
</div>
<p>We generate a possible time series realization :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ts</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">getRealization</span><span class="p">()</span>
<span class="n">ts</span><span class="o">.</span><span class="n">setName</span><span class="p">(</span><span class="s1">&#39;ARMA realization&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>We draw this time series by specifying the wanted marginal index (only 0 is available here).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">graph0</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">drawMarginal</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">graph0</span><span class="o">.</span><span class="n">setTitle</span><span class="p">(</span><span class="s2">&quot;One ARMA realization&quot;</span><span class="p">)</span>
<span class="n">graph0</span><span class="o">.</span><span class="n">setXTitle</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">)</span>
<span class="n">graph0</span><span class="o">.</span><span class="n">setYTitle</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$X_t$&quot;</span><span class="p">)</span>
<span class="n">view</span> <span class="o">=</span> <span class="n">viewer</span><span class="o">.</span><span class="n">View</span><span class="p">(</span><span class="n">graph0</span><span class="p">)</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_plot_create_and_manipulate_arma_process_001.png" srcset="../../_images/sphx_glr_plot_create_and_manipulate_arma_process_001.png" alt="One ARMA realization" class = "sphx-glr-single-img"/><p>Generate a k time series
k = 5
myProcessSample = process.getSample(k)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Then get the current state of the ARMA</span>
<span class="c1">#armaState = process.getState()</span>
<span class="c1">#print(&quot;armaState = &quot;)</span>
<span class="c1"># print(armaState)</span>
</pre></div>
</div>
<p>We draw a sample of size 6 : it is six different time series.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">size</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">sample</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">getSample</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
<span class="n">graph</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">drawMarginal</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">graph</span><span class="o">.</span><span class="n">setTitle</span><span class="p">(</span><span class="s2">&quot;Six realizations of the ARMA process&quot;</span><span class="p">)</span>
<span class="n">graph</span><span class="o">.</span><span class="n">setXTitle</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">)</span>
<span class="n">graph</span><span class="o">.</span><span class="n">setYTitle</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$X_t$&quot;</span><span class="p">)</span>
<span class="n">view</span> <span class="o">=</span> <span class="n">viewer</span><span class="o">.</span><span class="n">View</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
<span class="c1"># plt.show()</span>

<span class="c1"># We can obtain the current state of the ARMA process :</span>
<span class="n">armaState</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">getState</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ARMA state : &quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">armaState</span><span class="p">)</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_plot_create_and_manipulate_arma_process_002.png" srcset="../../_images/sphx_glr_plot_create_and_manipulate_arma_process_002.png" alt="Six realizations of the ARMA process" class = "sphx-glr-single-img"/><p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>ARMA state :
X(t-4) = class=Point name=Unnamed dimension=1 values=[-0.579445]
X(t-3) = class=Point name=Unnamed dimension=1 values=[0.391824]
X(t-2) = class=Point name=Unnamed dimension=1 values=[0.481961]
X(t-1) = class=Point name=Unnamed dimension=1 values=[0.0131063]
epsilon(t-2) = class=Point name=Unnamed dimension=1 values=[0.53092]
epsilon(t-1) = class=Point name=Unnamed dimension=1 values=[-0.0920367]
</pre></div>
</div>
<p>Note that if we use the process in the meantime and ask for the current state again, it will be different.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ts</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">getRealization</span><span class="p">()</span>
<span class="n">armaState</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">getState</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ARMA state : &quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">armaState</span><span class="p">)</span>


<span class="c1"># From the aforementioned `armaState`, we can get the last values of :math:`X_t` and the last values</span>
<span class="c1"># of the white noise :math:`E_t`.</span>
<span class="n">myLastValues</span> <span class="o">=</span> <span class="n">armaState</span><span class="o">.</span><span class="n">getX</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">myLastValues</span><span class="p">)</span>
<span class="n">myLastEpsilonValues</span> <span class="o">=</span> <span class="n">armaState</span><span class="o">.</span><span class="n">getEpsilon</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">myLastEpsilonValues</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>ARMA state :
X(t-4) = class=Point name=Unnamed dimension=1 values=[0.0635381]
X(t-3) = class=Point name=Unnamed dimension=1 values=[-0.594203]
X(t-2) = class=Point name=Unnamed dimension=1 values=[0.740754]
X(t-1) = class=Point name=Unnamed dimension=1 values=[-0.178577]
epsilon(t-2) = class=Point name=Unnamed dimension=1 values=[0.662273]
epsilon(t-1) = class=Point name=Unnamed dimension=1 values=[-0.143989]
0 : [  0.0635381 ]
1 : [ -0.594203  ]
2 : [  0.740754  ]
3 : [ -0.178577  ]
0 : [  0.662273 ]
1 : [ -0.143989 ]
</pre></div>
</div>
<p>We have access to the number of iterations before getting a stationary state with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Ntherm</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">getNThermalization</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ThermalValue : </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">Ntherm</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>ThermalValue : 75
</pre></div>
</div>
<p>This may be important to evaluate it with another precision epsilon :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">epsilon</span> <span class="o">=</span> <span class="mf">1e-8</span>
<span class="n">newThermalValue</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">computeNThermalization</span><span class="p">(</span><span class="n">epsilon</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;newThermalValue : </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">newThermalValue</span><span class="p">)</span>
<span class="n">process</span><span class="o">.</span><span class="n">setNThermalization</span><span class="p">(</span><span class="n">newThermalValue</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>newThermalValue : 38
</pre></div>
</div>
<p>An important feature of an ARMA process is the future prediction from its current state over the next# <cite>Nit</cite> instants, say Nit=20.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Nit</span> <span class="o">=</span> <span class="mi">21</span>
</pre></div>
</div>
<p>First we specify a current state armaState and build the corresponding ARMA process <cite>arma</cite> :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arma</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">ARMA</span><span class="p">(</span><span class="n">myARCoef</span><span class="p">,</span> <span class="n">myMACoef</span><span class="p">,</span> <span class="n">myWhiteNoise</span><span class="p">,</span> <span class="n">armaState</span><span class="p">)</span>

<span class="c1"># Then, we generate a possible future. The last instant was :math:`t=0.9` so the future starts at</span>
<span class="c1"># :math:`t=1.0`. We represent the ARMA process with a solid line and its possible future as a dashed</span>
<span class="c1"># curve.</span>
<span class="n">future</span> <span class="o">=</span> <span class="n">arma</span><span class="o">.</span><span class="n">getFuture</span><span class="p">(</span><span class="n">Nit</span><span class="p">)</span>
<span class="n">graph</span> <span class="o">=</span> <span class="n">future</span><span class="o">.</span><span class="n">drawMarginal</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">curve</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">getDrawable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">curve</span><span class="o">.</span><span class="n">setLineStyle</span><span class="p">(</span><span class="s2">&quot;dashed&quot;</span><span class="p">)</span>
<span class="n">graph0</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">curve</span><span class="p">)</span>
<span class="n">graph0</span><span class="o">.</span><span class="n">setTitle</span><span class="p">(</span><span class="s2">&quot;One ARMA realization and a possible future&quot;</span><span class="p">)</span>
<span class="n">view</span> <span class="o">=</span> <span class="n">viewer</span><span class="o">.</span><span class="n">View</span><span class="p">(</span><span class="n">graph0</span><span class="p">)</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_plot_create_and_manipulate_arma_process_003.png" srcset="../../_images/sphx_glr_plot_create_and_manipulate_arma_process_003.png" alt="One ARMA realization and a possible future" class = "sphx-glr-single-img"/><p>It is of course possible to generate N different possible futures over the Nit next instants.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">N</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">possibleFuture_N</span> <span class="o">=</span> <span class="n">arma</span><span class="o">.</span><span class="n">getFuture</span><span class="p">(</span><span class="n">Nit</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
<span class="n">possibleFuture_N</span><span class="o">.</span><span class="n">setName</span><span class="p">(</span><span class="s1">&#39;Possible futures&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Here we only show the future.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">graph</span> <span class="o">=</span> <span class="n">possibleFuture_N</span><span class="o">.</span><span class="n">drawMarginal</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">graph</span><span class="o">.</span><span class="n">setTitle</span><span class="p">(</span><span class="s2">&quot;Six possible futures of the ARMA process&quot;</span><span class="p">)</span>
<span class="n">graph</span><span class="o">.</span><span class="n">setXTitle</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">)</span>
<span class="n">graph</span><span class="o">.</span><span class="n">setYTitle</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$X_t$&quot;</span><span class="p">)</span>
<span class="n">view</span> <span class="o">=</span> <span class="n">viewer</span><span class="o">.</span><span class="n">View</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_plot_create_and_manipulate_arma_process_004.png" srcset="../../_images/sphx_glr_plot_create_and_manipulate_arma_process_004.png" alt="Six possible futures of the ARMA process" class = "sphx-glr-single-img"/><p>Display all figures</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  0.292 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-probabilistic-modeling-stochastic-processes-plot-create-and-manipulate-arma-process-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/0bb017ea7e467b8d7d848bcdea189990/plot_create_and_manipulate_arma_process.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_create_and_manipulate_arma_process.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/ed02b2511e2e8d828fa34ce307dd187b/plot_create_and_manipulate_arma_process.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_create_and_manipulate_arma_process.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="plot_trend_transform.html" title="Trend computation"
             >next</a> |</li>
        <li class="right" >
          <a href="plot_process_manipulation.html" title="Draw fields"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenTURNS 1.19 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../examples/examples.html" >Examples</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../index.html" >Probabilistic modeling</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Create and manipulate an ARMA process</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005-2022 Airbus-EDF-IMACS-ONERA-Phimeca.
      Last updated on May 10, 2022.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>
  </body>
</html>