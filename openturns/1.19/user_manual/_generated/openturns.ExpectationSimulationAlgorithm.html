
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ExpectationSimulationAlgorithm &#8212; OpenTURNS 1.19 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/openturns.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/mysearchtools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ExpectationSimulationResult" href="openturns.ExpectationSimulationResult.html" />
    <link rel="prev" title="TaylorExpansionMoments" href="openturns.TaylorExpansionMoments.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="http://www.openturns.org/">Home</a></li>
    <li><a href="../../install.html">Get it</a></li>
    <li><a href="../../contents.html">Doc</a></li>
    <li><a href="https://openturns.discourse.group/">Forum</a></li>
    <li><a href="https://gitter.im/openturns/community">Chat</a></li>
    <li><a href="https://github.com/openturns/openturns/wiki/Modules">Modules</a></li>
    <li><a href="https://github.com/openturns">Code</a></li>
    <li><a href="https://github.com/openturns/openturns/issues">Bugs</a></li>
  </ul>
  <a href="../../index.html">
    <h1>
      <img src="../../_static/logo-openturns-wo-bg.png" alt="" width=100px height=100px />
      OpenTURNS
    </h1>
    <h2> An Open source initiative for the Treatment of Uncertainties, Risks'N Statistics</h2>
  </a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="openturns.ExpectationSimulationResult.html" title="ExpectationSimulationResult"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="openturns.TaylorExpansionMoments.html" title="TaylorExpansionMoments"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenTURNS 1.19 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../user_manual.html" >API</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../central_tendency.html" accesskey="U">Central tendency analysis</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">ExpectationSimulationAlgorithm</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="openturns.TaylorExpansionMoments.html"
                          title="previous chapter">TaylorExpansionMoments</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="openturns.ExpectationSimulationResult.html"
                          title="next chapter">ExpectationSimulationResult</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/user_manual/_generated/openturns.ExpectationSimulationAlgorithm.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="expectationsimulationalgorithm">
<h1>ExpectationSimulationAlgorithm<a class="headerlink" href="#expectationsimulationalgorithm" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ExpectationSimulationAlgorithm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm" title="Permalink to this definition">¶</a></dt>
<dd><p>Expectation computation using sampling.</p>
<p>Incremental Monte Carlo sampling algorithm to estimate the mean <img class="math" src="../../_images/math/01600ee34045c3f1dd6d14273a236de619979712.svg" alt="\Expect{\vect{X}}"/> of a random vector
<img class="math" src="../../_images/math/2bcbd5b2b78ef65f3c1a1987095a65863870aa77.svg" alt="\vect{X}"/>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>X</strong><span class="classifier"><a class="reference internal" href="openturns.RandomVector.html#openturns.RandomVector" title="openturns.RandomVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomVector</span></code></a></span></dt><dd><p>The random vector to study.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="openturns.ExpectationSimulationResult.html#openturns.ExpectationSimulationResult" title="openturns.ExpectationSimulationResult"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ExpectationSimulationResult</span></code></a>, <a class="reference internal" href="openturns.SimulationAlgorithm.html#openturns.SimulationAlgorithm" title="openturns.SimulationAlgorithm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimulationAlgorithm</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>Let <img class="math" src="../../_images/math/c268dc6fc35451b4612e3eb6710346d25078ac29.svg" alt="\vect{X}\in\Rset^{n_X}"/> be a random vector. 
This algorithm estimates <img class="math" src="../../_images/math/01600ee34045c3f1dd6d14273a236de619979712.svg" alt="\Expect{\vect{X}}"/> using the smallest possible sample 
size which satisfies pre-defined stopping rules. 
It increases the sample size <img class="math" src="../../_images/math/80b394abd4fb264a3879675f92f191c3e346c3a0.svg" alt="n"/> incrementally until a stopping criterion is met. 
Hence, both the mean and the variance must be finite. 
For example, consider the Student distribution with <img class="math" src="../../_images/math/45bc5b23a1507ae9dc517d85a584c4cfc5c3d8ab.svg" alt="\nu"/> degrees of freedom. 
If <img class="math" src="../../_images/math/cad8435db060027720be911886be9d2246993aac.svg" alt="\nu=1"/> (where the expectation is undefined) 
or <img class="math" src="../../_images/math/23a68ce8c1a0f11a39f349abd2c9aa6b91a42d63.svg" alt="\nu=2"/> (where the variance is undefined), 
then the algorithm cannot succeed.</p>
<p>The algorithm is based on two nested loops:</p>
<ul class="simple">
<li><p>the outer loop sets the number of iterations of the algorithm; 
this can be configured using <a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setMaximumOuterSampling" title="openturns.ExpectationSimulationAlgorithm.setMaximumOuterSampling"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setMaximumOuterSampling()</span></code></a>,</p></li>
<li><p>the inner loop sets the number of function calls which can be parallelized; 
this can be configured using <a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setBlockSize" title="openturns.ExpectationSimulationAlgorithm.setBlockSize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setBlockSize()</span></code></a>.</p></li>
</ul>
<p>The algorithm allows one to get the best possible performance on distributed
supercomputers and multi-core workstations. 
For example, if the block size is equal to 100, then the sample size 
is successively equal to 100, 200, etc… 
Each block of evaluation of the outputs can be parallelized, which may improve the performance of the algorithm.
We suggest to set the block size as a multiple of the number of cores.</p>
<p>The algorithm stops either when the maximum number of outer iterations is reached or when the target precision is met. 
The latter stopping criterion is based on either the coefficient of variation of the 
sample mean (relative criterion) or the standard deviation of the sample 
mean (absolute criterion).</p>
<p>We consider <img class="math" src="../../_images/math/1e3720a3e32bcab09606bd34191f085d6cd075e6.svg" alt="\vect{n}"/> independent realizations <img class="math" src="../../_images/math/7d683d785a3f7ba3a3d96ece9b43cff89a78b805.svg" alt="\vect{x}^{(1)}"/>, 
…, <img class="math" src="../../_images/math/3120692a243854c7a6b3f722531656ec111ad745.svg" alt="\vect{x}^{(n)}\in\Rset^{n_X}"/> of the random vector <img class="math" src="../../_images/math/2bcbd5b2b78ef65f3c1a1987095a65863870aa77.svg" alt="\vect{X}"/>. 
We estimate <img class="math" src="../../_images/math/01600ee34045c3f1dd6d14273a236de619979712.svg" alt="\Expect{\vect{X}}"/> with the sample mean:</p>
<div class="math">
<p><img src="../../_images/math/f3bc9656afa3f06b73f04149f0bf1a719de32fd1.svg" alt="\overline{\vect{x}} = \frac{1}{n} \sum_{j=1}^n \vect{x}^{(j)}."/></p>
</div><p>We estimate <img class="math" src="../../_images/math/387e5d1d368ed9a1d893ed29684a5a9230d172d3.svg" alt="\Var{X_i}"/> for <img class="math" src="../../_images/math/9ae2f0dd904dd092b80235034547c1fd6cd161ef.svg" alt="i = 1, \ldots, n_X"/> 
with the unbiased sample variance:</p>
<div class="math">
<p><img src="../../_images/math/dbd6458241ac2866847b21ef24be5b6f33ac1b54.svg" alt="\hat{\sigma}^2_i = \frac{1}{n - 1} \sum_{j=1}^n \left(x^{(j)}_i - \overline{x}_i\right)^2."/></p>
</div><p>for <img class="math" src="../../_images/math/9ae2f0dd904dd092b80235034547c1fd6cd161ef.svg" alt="i = 1, \ldots, n_X"/>.</p>
<p>The expected value of the sample mean is:</p>
<div class="math">
<p><img src="../../_images/math/3aad92ac48ff09b84bdd5e21b18938cb300322a0.svg" alt="\Expect{\overline{X}_i} = \Expect{X_i}"/></p>
</div><p>and, since the observations are independent, the variance of the sample mean is:</p>
<div class="math">
<p><img src="../../_images/math/e9f98171314b517b94578d17754b95d25d304a17.svg" alt="\Var{\overline{X}_i} = \frac{\Var{X_i}}{n}."/></p>
</div><p>for <img class="math" src="../../_images/math/9ae2f0dd904dd092b80235034547c1fd6cd161ef.svg" alt="i = 1, \ldots, n_X"/>, since the observations are independent.</p>
<p>Moreover, we can estimate the standard deviation of the sample mean with:</p>
<div class="math">
<p><img src="../../_images/math/84b36b357b545a15726a80a92b76019eed4245dc.svg" alt="\hat{\sigma}\left(\overline{X}_i\right) = \frac{\hat{\sigma}_i}{\sqrt{n}}"/></p>
</div><p>for <img class="math" src="../../_images/math/9ae2f0dd904dd092b80235034547c1fd6cd161ef.svg" alt="i = 1, \ldots, n_X"/>.</p>
<p>If the expectation <img class="math" src="../../_images/math/6cff6f9015a42f79fb6f0ef7b6c05fb4cb9e4ba6.svg" alt="\Expect{X_i}"/> is nonzero, the coefficient of variation of the sample mean is:</p>
<div class="math">
<p><img src="../../_images/math/7980ac0188fc9c3480d3eacd3df29c2b56674423.svg" alt="CV\left(\overline{X}_i\right) = \frac{\sqrt{\Var{\overline{X}_i}}}{\left|\Expect{\overline{X}_i}\right|} = \frac{\sqrt{\Var{X_i}}/\sqrt{n}}{\left|\Expect{X_i}\right|}"/></p>
</div><p>for <img class="math" src="../../_images/math/9ae2f0dd904dd092b80235034547c1fd6cd161ef.svg" alt="i = 1, \ldots, n_X"/>.</p>
<p>We can estimate it with</p>
<div class="math">
<p><img src="../../_images/math/224ea4a7b541eff2ddd3aaeb7e96fa5438ca5eb3.svg" alt="\widehat{CV}\left(\overline{X}_i\right) = \frac{\hat{\sigma}_i/\sqrt{n}}{\left|\overline{x}_i\right|}"/></p>
</div><p>for <img class="math" src="../../_images/math/9ae2f0dd904dd092b80235034547c1fd6cd161ef.svg" alt="i = 1, \ldots, n_X"/>.</p>
<p>When the sample size <img class="math" src="../../_images/math/80b394abd4fb264a3879675f92f191c3e346c3a0.svg" alt="n"/> increases, the sample standard deviation and the sample coefficient of variation decrease to zero at the Monte-Carlo rate of <img class="math" src="../../_images/math/2dbd5c1d99ba64332999583685baf9f7df8d70c1.svg" alt="1/\sqrt{n}"/>.</p>
<p>There are 3 mathematical stopping criteria available:</p>
<ul class="simple">
<li><p>through an operator on the componentwise coefficients of variation (by default),</p></li>
<li><p>through an operator on the componentwise standard deviations,</p></li>
<li><p>on the maximum standard deviation per component.</p></li>
</ul>
<p>A low coefficient of variation guarantees relative accuracy, while a low standard deviation guarantees absolute accuracy.</p>
<p>If the chosen condition is found to be true, the algorithm stops.</p>
<p>Let <img class="math" src="../../_images/math/5ac9d70eac0f1684fa94289372de8f83888492f7.svg" alt="n_X"/> be the dimension of the random vector <img class="math" src="../../_images/math/2bcbd5b2b78ef65f3c1a1987095a65863870aa77.svg" alt="\vect{X}"/>. 
Let <img class="math" src="../../_images/math/0c3477150dab39e03aef4ba3bd24d326c47014af.svg" alt="\max_{cov}\in\Rset"/> be the maximum coefficient of variation. 
The criterion on the componentwise coefficients of variation is defined using either:</p>
<ul class="simple">
<li><p>the maximum (by default):</p></li>
</ul>
<div class="math">
<p><img src="../../_images/math/818c27f6ca8786b3103efc20344ff74ac3f5552b.svg" alt="\max_{i=1,\ldots,n_X} \frac{\hat{\sigma}_i / \sqrt{n}}{|\overline{x}_i|} \leq \max_{cov},"/></p>
</div><ul class="simple">
<li><p>the norm-1:</p></li>
</ul>
<div class="math">
<p><img src="../../_images/math/86682ff8e85c5fba84de8edbbef99bdeb2bdeef0.svg" alt="\sum_{i=1}^{n_X} \frac{\hat{\sigma}_i / \sqrt{n}}{|\overline{x}_i|} \leq \max_{cov},"/></p>
</div><ul class="simple">
<li><p>the norm-2:</p></li>
</ul>
<div class="math">
<p><img src="../../_images/math/4896b524f58123ca5e5bc2063d99e4b3c510b9db.svg" alt="\sqrt{\sum_{i=1}^{n_X} \left(\frac{\hat{\sigma}_i / \sqrt{n}}{|\overline{x}_i|}\right)^2} \leq \max_{cov},"/></p>
</div><ul class="simple">
<li><p>or disabled.</p></li>
</ul>
<p>The type of operator on the coefficient of variation is set using <a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setCoefficientOfVariationCriterionType" title="openturns.ExpectationSimulationAlgorithm.setCoefficientOfVariationCriterionType"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setCoefficientOfVariationCriterionType()</span></code></a>.</p>
<p>The default type is set by the <cite>ExpectationSimulationAlgorithm-DefaultCoefficientOfVariationCriterionType</cite> key of the <a class="reference internal" href="openturns.ResourceMap.html#openturns.ResourceMap" title="openturns.ResourceMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResourceMap</span></code></a>.</p>
<p>The threshold <img class="math" src="../../_images/math/cdb182bb65be25473c7e1a37a53eaee515f889b6.svg" alt="\max_{cov}"/> can be set using <a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setMaximumCoefficientOfVariation" title="openturns.ExpectationSimulationAlgorithm.setMaximumCoefficientOfVariation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setMaximumCoefficientOfVariation()</span></code></a>.</p>
<p>Let <img class="math" src="../../_images/math/b9fe2e642bb7d20750e36daeb1823c1da1f995a4.svg" alt="\max_{\sigma}\in\Rset"/> be the maximum value of the standard deviation. 
The criterion on the componentwise standard deviations is defined using either:</p>
<ul class="simple">
<li><p>the maximum (by default):</p></li>
</ul>
<div class="math">
<p><img src="../../_images/math/8fff5ffa9040ac3759fd1008333d473a0c70865f.svg" alt="\max_{i=1,\ldots,n_X} \hat{\sigma}_i / \sqrt{n} \leq \max_{\sigma},"/></p>
</div><ul class="simple">
<li><p>the norm-1:</p></li>
</ul>
<div class="math">
<p><img src="../../_images/math/0bd0d840936404ab503ac8c873d1433ac1f0ae20.svg" alt="\sum_{i=1}^{n_X} \left|\hat{\sigma}_i / \sqrt{n}\right| \leq \max_{\sigma},"/></p>
</div><ul class="simple">
<li><p>the norm-2:</p></li>
</ul>
<div class="math">
<p><img src="../../_images/math/2d7a00227a9685d16f34141113f22855f0a436eb.svg" alt="\sqrt{\sum_{i=1}^{n_X} \left(\hat{\sigma}_i / \sqrt{n} \right)^2} \leq \max_{\sigma},"/></p>
</div><ul class="simple">
<li><p>or disabled.</p></li>
</ul>
<p>The type of operator on the coefficient of variation can be set using <a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setStandardDeviationCriterionType" title="openturns.ExpectationSimulationAlgorithm.setStandardDeviationCriterionType"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setStandardDeviationCriterionType()</span></code></a>.</p>
<p>The default type is set by the <cite>ExpectationSimulationAlgorithm-DefaultStandardDeviationCriterionType</cite> key of the <a class="reference internal" href="openturns.ResourceMap.html#openturns.ResourceMap" title="openturns.ResourceMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResourceMap</span></code></a>.</p>
<p>The threshold <img class="math" src="../../_images/math/9e7123242aeddaaa411fec8c99e8207406c66d9a.svg" alt="\max_{\sigma}"/> can be set using <a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setMaximumStandardDeviation" title="openturns.ExpectationSimulationAlgorithm.setMaximumStandardDeviation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setMaximumStandardDeviation()</span></code></a>.</p>
<p>Let <img class="math" src="../../_images/math/7a60ec6fed274f1d8aec6d3f9669ba69028ce1a5.svg" alt="\max_{\sigma_1}, \ldots, \max_{\sigma_{n_X}}"/> be the 
componentwise maximum standard deviations. 
The criterion on the maximum deviation per component is defined by:</p>
<div class="math">
<p><img src="../../_images/math/45af4802367da247152432ed634145271c17e6ee.svg" alt="\sigma_i \leq \max_{\sigma_i}"/></p>
</div><p>for <img class="math" src="../../_images/math/9ae2f0dd904dd092b80235034547c1fd6cd161ef.svg" alt="i = 1, \ldots, n_X"/>.</p>
<p>The threshold vector <img class="math" src="../../_images/math/87bfab76a697c8390f2ca61c5a2c89139f647327.svg" alt="\max_{\sigma_i}"/> can be set using <a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setMaximumStandardDeviationPerComponent" title="openturns.ExpectationSimulationAlgorithm.setMaximumStandardDeviationPerComponent"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setMaximumStandardDeviationPerComponent()</span></code></a>.</p>
<p>By default this criterion is disabled.</p>
<p>The default values of the parameters are based on the 
following keys of the <a class="reference internal" href="openturns.ResourceMap.html#openturns.ResourceMap" title="openturns.ResourceMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResourceMap</span></code></a>:</p>
<ul class="simple">
<li><p><cite>SimulationAlgorithm-DefaultMaximumOuterSampling</cite>,</p></li>
<li><p><cite>SimulationAlgorithm-DefaultMaximumCoefficientOfVariation</cite>,</p></li>
<li><p><cite>SimulationAlgorithm-DefaultMaximumStandardDeviation</cite>.</p></li>
</ul>
<p>In general, criteria based on coefficients of variation (C.O.V.) should be used because
they guarantee a relative accuracy on the estimate of the mean.
However, we may happen to estimate an expected value equal to zero
(perhaps for teaching or research purposes).
The default value of <cite>SimulationAlgorithm-DefaultMaximumStandardDeviation</cite> is
<img class="math" src="../../_images/math/919aee1dbe276bb63ee7a88b62487eea3957e41e.svg" alt="0"/>, which means that standard deviation-based criteria are disabled by default
(in order to let C.O.V.-based criteria be used by default).
If the expected value of <img class="math" src="../../_images/math/2bcbd5b2b78ef65f3c1a1987095a65863870aa77.svg" alt="\vect{X}"/> is zero,
the algorithm is likely to reach the maximum number of outer iterations.
If this happens, please configure the maximum standard deviation
in order to match the scale of the random variable at hand.</p>
<p class="rubric">Examples</p>
<p>In the following example, we perform at most <img class="math" src="../../_images/math/0d8ed85b2cb4bb4ae21bb3a6470cabe5e75ceeef.svg" alt="8 \times 10000 = 80000"/> evaluations 
of the model. 
However, the algorithm may stop earlier if the coefficient of variation 
of the sample mean falls below the threshold.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openturns</span> <span class="k">as</span> <span class="nn">ot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ot</span><span class="o">.</span><span class="n">RandomGenerator</span><span class="o">.</span><span class="n">SetSeed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create a composite random vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">SymbolicFunction</span><span class="p">([</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;I&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;-F*L^3/(3*E*I)&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">distribution</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Normal</span><span class="p">([</span><span class="mf">50.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">4</span><span class="p">,</span> <span class="n">ot</span><span class="o">.</span><span class="n">IdentityMatrix</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vect</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">RandomVector</span><span class="p">(</span><span class="n">distribution</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">CompositeRandomVector</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">vect</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">ExpectationSimulationAlgorithm</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">setMaximumOuterSampling</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">setBlockSize</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>  <span class="c1"># The number of cores we usually have.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">setMaximumCoefficientOfVariation</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>  <span class="c1"># 1% C.O.V.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">algo</span><span class="o">.</span><span class="n">getResult</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expectation</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">getExpectationEstimate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">expectation</span><span class="p">)</span>
<span class="go">[-1.41067]</span>
</pre></div>
</div>
<p>The following statement retrieves the asymptotically Gaussian distribution 
of the sample mean. 
This may be useful for users who want to compute a confidence interval of 
the sample mean. 
&gt;&gt;&gt; expectationDistribution = result.getExpectationDistribution()</p>
<p>The following code prints the outer sample (i.e. the number of outer iterations 
of the algorithm) and the sample size. 
We see that the algorithm stops based on the accuracy criterion.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">outer_sampling</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">getOuterSampling</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;outer_sampling=&#39;</span><span class="p">,</span> <span class="n">outer_sampling</span><span class="p">)</span>
<span class="go">outer_sampling= 1662</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">block_size</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">getBlockSize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample_size</span> <span class="o">=</span> <span class="n">outer_sampling</span> <span class="o">*</span> <span class="n">block_size</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sample_size=&#39;</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">)</span>
<span class="go">sample_size= 13296</span>
</pre></div>
</div>
<p>In the following example, we disable the coefficient of variation criterion. 
Therefore, the only remaining criterion is based on the number of iterations.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">ExpectationSimulationAlgorithm</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">setMaximumOuterSampling</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">setBlockSize</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">setCoefficientOfVariationCriterionType</span><span class="p">(</span><span class="s1">&#39;NONE&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">algo</span><span class="o">.</span><span class="n">getResult</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outer_sampling</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">getOuterSampling</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;outer_sampling=&#39;</span><span class="p">,</span> <span class="n">outer_sampling</span><span class="p">)</span>
<span class="go">outer_sampling= 1000</span>
</pre></div>
</div>
<p>In the following example, we compute the mean of a dimension 4 random vector. 
We use a standard deviation-based stopping criterion with a different threshold for every component. 
We must disable the coefficient of variation-based stopping criterion, otherwise,
in this example, it will trigger first.
The comparison with the exact mean is satisfactory, given the relatively 
small sample size.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">openturns.usecases</span> <span class="kn">import</span> <span class="n">cantilever_beam</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cb</span> <span class="o">=</span> <span class="n">cantilever_beam</span><span class="o">.</span><span class="n">CantileverBeam</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span> <span class="o">=</span> <span class="n">cb</span><span class="o">.</span><span class="n">distribution</span><span class="o">.</span><span class="n">getStandardDeviation</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sigma=&#39;</span><span class="p">,</span> <span class="n">sigma</span><span class="p">)</span>
<span class="go">sigma= [1.73582e+09,30,0.0288675,7.10585e-09]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">componentwise_max_sigma</span> <span class="o">=</span> <span class="n">sigma</span> <span class="o">/</span> <span class="mf">32.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;componentwise_max_sigma=&#39;</span><span class="p">,</span> <span class="n">componentwise_max_sigma</span><span class="p">)</span>
<span class="go">componentwise_max_sigma= [5.42445e+07,0.9375,0.00090211,2.22058e-10]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">RandomVector</span><span class="p">(</span><span class="n">cb</span><span class="o">.</span><span class="n">distribution</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">ExpectationSimulationAlgorithm</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">setMaximumOuterSampling</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">setBlockSize</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">setCoefficientOfVariationCriterionType</span><span class="p">(</span><span class="s1">&#39;NONE&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">setMaximumStandardDeviationPerComponent</span><span class="p">(</span><span class="n">componentwise_max_sigma</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">algo</span><span class="o">.</span><span class="n">getResult</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expectation</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">getExpectationEstimate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">expectation</span><span class="p">)</span>
<span class="go">[6.7125e+10,298.637,2.55074,1.45427e-07]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">cb</span><span class="o">.</span><span class="n">distribution</span><span class="o">.</span><span class="n">getMean</span><span class="p">())</span>
<span class="go">[6.70455e+10,300,2.55,1.45385e-07]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outer_sampling</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">getOuterSampling</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;outer_sampling=&#39;</span><span class="p">,</span> <span class="n">outer_sampling</span><span class="p">)</span>
<span class="go">outer_sampling= 126</span>
</pre></div>
</div>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.drawExpectationConvergence" title="openturns.ExpectationSimulationAlgorithm.drawExpectationConvergence"><code class="xref py py-obj docutils literal notranslate"><span class="pre">drawExpectationConvergence</span></code></a>(*args)</p></td>
<td><p>Draw the expectation convergence at a given level.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.getBlockSize" title="openturns.ExpectationSimulationAlgorithm.getBlockSize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getBlockSize</span></code></a>()</p></td>
<td><p>Accessor to the block size.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.getClassName" title="openturns.ExpectationSimulationAlgorithm.getClassName"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getClassName</span></code></a>()</p></td>
<td><p>Accessor to the object's name.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.getCoefficientOfVariationCriterionType" title="openturns.ExpectationSimulationAlgorithm.getCoefficientOfVariationCriterionType"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getCoefficientOfVariationCriterionType</span></code></a>()</p></td>
<td><p>Accessor to the criterion operator.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.getConvergenceStrategy" title="openturns.ExpectationSimulationAlgorithm.getConvergenceStrategy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getConvergenceStrategy</span></code></a>()</p></td>
<td><p>Accessor to the convergence strategy.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.getId" title="openturns.ExpectationSimulationAlgorithm.getId"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getId</span></code></a>()</p></td>
<td><p>Accessor to the object's id.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.getMaximumCoefficientOfVariation" title="openturns.ExpectationSimulationAlgorithm.getMaximumCoefficientOfVariation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getMaximumCoefficientOfVariation</span></code></a>()</p></td>
<td><p>Accessor to the maximum coefficient of variation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.getMaximumOuterSampling" title="openturns.ExpectationSimulationAlgorithm.getMaximumOuterSampling"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getMaximumOuterSampling</span></code></a>()</p></td>
<td><p>Accessor to the maximum sample size.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.getMaximumStandardDeviation" title="openturns.ExpectationSimulationAlgorithm.getMaximumStandardDeviation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getMaximumStandardDeviation</span></code></a>()</p></td>
<td><p>Accessor to the maximum standard deviation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.getMaximumStandardDeviationPerComponent" title="openturns.ExpectationSimulationAlgorithm.getMaximumStandardDeviationPerComponent"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getMaximumStandardDeviationPerComponent</span></code></a>()</p></td>
<td><p>Accessor to the maximum standard deviation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.getName" title="openturns.ExpectationSimulationAlgorithm.getName"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getName</span></code></a>()</p></td>
<td><p>Accessor to the object's name.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.getRandomVector" title="openturns.ExpectationSimulationAlgorithm.getRandomVector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getRandomVector</span></code></a>()</p></td>
<td><p>Accessor to the random vector.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.getResult" title="openturns.ExpectationSimulationAlgorithm.getResult"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getResult</span></code></a>()</p></td>
<td><p>Accessor to the result.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.getShadowedId" title="openturns.ExpectationSimulationAlgorithm.getShadowedId"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getShadowedId</span></code></a>()</p></td>
<td><p>Accessor to the object's shadowed id.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.getStandardDeviationCriterionType" title="openturns.ExpectationSimulationAlgorithm.getStandardDeviationCriterionType"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getStandardDeviationCriterionType</span></code></a>()</p></td>
<td><p>Accessor to the criterion operator.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.getVerbose" title="openturns.ExpectationSimulationAlgorithm.getVerbose"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getVerbose</span></code></a>()</p></td>
<td><p>Accessor to verbosity.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.getVisibility" title="openturns.ExpectationSimulationAlgorithm.getVisibility"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getVisibility</span></code></a>()</p></td>
<td><p>Accessor to the object's visibility state.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.hasName" title="openturns.ExpectationSimulationAlgorithm.hasName"><code class="xref py py-obj docutils literal notranslate"><span class="pre">hasName</span></code></a>()</p></td>
<td><p>Test if the object is named.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.hasVisibleName" title="openturns.ExpectationSimulationAlgorithm.hasVisibleName"><code class="xref py py-obj docutils literal notranslate"><span class="pre">hasVisibleName</span></code></a>()</p></td>
<td><p>Test if the object has a distinguishable name.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.run" title="openturns.ExpectationSimulationAlgorithm.run"><code class="xref py py-obj docutils literal notranslate"><span class="pre">run</span></code></a>()</p></td>
<td><p>Launch simulation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setBlockSize" title="openturns.ExpectationSimulationAlgorithm.setBlockSize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setBlockSize</span></code></a>(blockSize)</p></td>
<td><p>Accessor to the block size.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setCoefficientOfVariationCriterionType" title="openturns.ExpectationSimulationAlgorithm.setCoefficientOfVariationCriterionType"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setCoefficientOfVariationCriterionType</span></code></a>(...)</p></td>
<td><p>Accessor to the criterion operator.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setConvergenceStrategy" title="openturns.ExpectationSimulationAlgorithm.setConvergenceStrategy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setConvergenceStrategy</span></code></a>(convergenceStrategy)</p></td>
<td><p>Accessor to the convergence strategy.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setMaximumCoefficientOfVariation" title="openturns.ExpectationSimulationAlgorithm.setMaximumCoefficientOfVariation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setMaximumCoefficientOfVariation</span></code></a>(...)</p></td>
<td><p>Accessor to the maximum coefficient of variation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setMaximumOuterSampling" title="openturns.ExpectationSimulationAlgorithm.setMaximumOuterSampling"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setMaximumOuterSampling</span></code></a>(maximumOuterSampling)</p></td>
<td><p>Accessor to the maximum sample size.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setMaximumStandardDeviation" title="openturns.ExpectationSimulationAlgorithm.setMaximumStandardDeviation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setMaximumStandardDeviation</span></code></a>(...)</p></td>
<td><p>Accessor to the maximum standard deviation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setMaximumStandardDeviationPerComponent" title="openturns.ExpectationSimulationAlgorithm.setMaximumStandardDeviationPerComponent"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setMaximumStandardDeviationPerComponent</span></code></a>(...)</p></td>
<td><p>Accessor to the maximum standard deviation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setName" title="openturns.ExpectationSimulationAlgorithm.setName"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setName</span></code></a>(name)</p></td>
<td><p>Accessor to the object's name.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setProgressCallback" title="openturns.ExpectationSimulationAlgorithm.setProgressCallback"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setProgressCallback</span></code></a>(*args)</p></td>
<td><p>Set up a progress callback.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setShadowedId" title="openturns.ExpectationSimulationAlgorithm.setShadowedId"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setShadowedId</span></code></a>(id)</p></td>
<td><p>Accessor to the object's shadowed id.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setStandardDeviationCriterionType" title="openturns.ExpectationSimulationAlgorithm.setStandardDeviationCriterionType"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setStandardDeviationCriterionType</span></code></a>(criterionType)</p></td>
<td><p>Accessor to the criterion operator.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setStopCallback" title="openturns.ExpectationSimulationAlgorithm.setStopCallback"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setStopCallback</span></code></a>(*args)</p></td>
<td><p>Set up a stop callback.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setVerbose" title="openturns.ExpectationSimulationAlgorithm.setVerbose"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setVerbose</span></code></a>(verbose)</p></td>
<td><p>Accessor to verbosity.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setVisibility" title="openturns.ExpectationSimulationAlgorithm.setVisibility"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setVisibility</span></code></a>(visible)</p></td>
<td><p>Accessor to the object's visibility state.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.drawExpectationConvergence">
<span class="sig-name descname"><span class="pre">drawExpectationConvergence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.drawExpectationConvergence" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw the expectation convergence at a given level.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>marginalIndex</strong><span class="classifier">int</span></dt><dd><p>Index of the random vector component to consider</p>
</dd>
<dt><strong>level</strong><span class="classifier">float, optional</span></dt><dd><p>The expectation convergence is drawn at this given confidence length
<em>level</em>. By default <em>level</em> is 0.95.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>graph</strong><span class="classifier">a <a class="reference internal" href="openturns.Graph.html#openturns.Graph" title="openturns.Graph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Graph</span></code></a></span></dt><dd><p>expectation convergence graph</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.getBlockSize">
<span class="sig-name descname"><span class="pre">getBlockSize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.getBlockSize" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the block size.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>blockSize</strong><span class="classifier">int</span></dt><dd><p>Number of terms in the probability simulation estimator grouped together.
It is set by default to 1.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.getClassName">
<span class="sig-name descname"><span class="pre">getClassName</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.getClassName" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the object’s name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>class_name</strong><span class="classifier">str</span></dt><dd><p>The object class name (<cite>object.__class__.__name__</cite>).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.getCoefficientOfVariationCriterionType">
<span class="sig-name descname"><span class="pre">getCoefficientOfVariationCriterionType</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.getCoefficientOfVariationCriterionType" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the criterion operator.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>result</strong><span class="classifier">str</span></dt><dd><p>The criterion operator.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.getConvergenceStrategy">
<span class="sig-name descname"><span class="pre">getConvergenceStrategy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.getConvergenceStrategy" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the convergence strategy.</p>
<dl class="field-list">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl>
<dt><strong>storage_strategy</strong><span class="classifier"><a class="reference internal" href="openturns.HistoryStrategy.html#openturns.HistoryStrategy" title="openturns.HistoryStrategy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HistoryStrategy</span></code></a></span></dt><dd><p>Storage strategy used to store the values of the probability estimator
and its variance during the simulation algorithm.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.getId">
<span class="sig-name descname"><span class="pre">getId</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.getId" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the object’s id.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>id</strong><span class="classifier">int</span></dt><dd><p>Internal unique identifier.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.getMaximumCoefficientOfVariation">
<span class="sig-name descname"><span class="pre">getMaximumCoefficientOfVariation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.getMaximumCoefficientOfVariation" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the maximum coefficient of variation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>coefficient</strong><span class="classifier">float</span></dt><dd><p>Maximum coefficient of variation of the simulated sample.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.getMaximumOuterSampling">
<span class="sig-name descname"><span class="pre">getMaximumOuterSampling</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.getMaximumOuterSampling" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the maximum sample size.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>outerSampling</strong><span class="classifier">int</span></dt><dd><p>Maximum number of groups of terms in the probability simulation estimator.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.getMaximumStandardDeviation">
<span class="sig-name descname"><span class="pre">getMaximumStandardDeviation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.getMaximumStandardDeviation" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the maximum standard deviation.</p>
<dl class="field-list">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl>
<dt><strong>sigma</strong><span class="classifier">float, <img class="math" src="../../_images/math/0975adfc27f6bb7b0a8f9a7dab285241110554aa.svg" alt="\sigma &gt; 0"/></span></dt><dd><p>Maximum standard deviation of the estimator.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.getMaximumStandardDeviationPerComponent">
<span class="sig-name descname"><span class="pre">getMaximumStandardDeviationPerComponent</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.getMaximumStandardDeviationPerComponent" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the maximum standard deviation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>sigmaMax</strong><span class="classifier">sequence of float</span></dt><dd><p>The maximum standard deviation on each component.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.getName">
<span class="sig-name descname"><span class="pre">getName</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.getName" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the object’s name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>name</strong><span class="classifier">str</span></dt><dd><p>The name of the object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.getRandomVector">
<span class="sig-name descname"><span class="pre">getRandomVector</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.getRandomVector" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the random vector.</p>
<dl class="field-list">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl>
<dt><strong>X</strong><span class="classifier"><a class="reference internal" href="openturns.RandomVector.html#openturns.RandomVector" title="openturns.RandomVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandomVector</span></code></a></span></dt><dd><p>Random vector we want to study.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.getResult">
<span class="sig-name descname"><span class="pre">getResult</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.getResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the result.</p>
<dl class="field-list">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl>
<dt><strong>result</strong><span class="classifier"><a class="reference internal" href="openturns.ExpectationSimulationResult.html#openturns.ExpectationSimulationResult" title="openturns.ExpectationSimulationResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExpectationSimulationResult</span></code></a></span></dt><dd><p>The simulation result.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.getShadowedId">
<span class="sig-name descname"><span class="pre">getShadowedId</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.getShadowedId" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the object’s shadowed id.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>id</strong><span class="classifier">int</span></dt><dd><p>Internal unique identifier.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.getStandardDeviationCriterionType">
<span class="sig-name descname"><span class="pre">getStandardDeviationCriterionType</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.getStandardDeviationCriterionType" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the criterion operator.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>result</strong><span class="classifier">str</span></dt><dd><p>The criterion operator.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.getVerbose">
<span class="sig-name descname"><span class="pre">getVerbose</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.getVerbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to verbosity.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>verbosity_enabled</strong><span class="classifier">bool</span></dt><dd><p>If <em>True</em>, the computation is verbose. By default it is verbose.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.getVisibility">
<span class="sig-name descname"><span class="pre">getVisibility</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.getVisibility" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the object’s visibility state.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>visible</strong><span class="classifier">bool</span></dt><dd><p>Visibility flag.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.hasName">
<span class="sig-name descname"><span class="pre">hasName</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.hasName" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if the object is named.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>hasName</strong><span class="classifier">bool</span></dt><dd><p>True if the name is not empty.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.hasVisibleName">
<span class="sig-name descname"><span class="pre">hasVisibleName</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.hasVisibleName" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if the object has a distinguishable name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>hasVisibleName</strong><span class="classifier">bool</span></dt><dd><p>True if the name is not empty and not the default one.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Launch simulation.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setBlockSize" title="openturns.ExpectationSimulationAlgorithm.setBlockSize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setBlockSize</span></code></a>, <a class="reference internal" href="#openturns.ExpectationSimulationAlgorithm.setMaximumOuterSampling" title="openturns.ExpectationSimulationAlgorithm.setMaximumOuterSampling"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setMaximumOuterSampling</span></code></a>, <a class="reference internal" href="openturns.ResourceMap.html#openturns.ResourceMap" title="openturns.ResourceMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ResourceMap</span></code></a>, <a class="reference internal" href="openturns.SimulationResult.html#openturns.SimulationResult" title="openturns.SimulationResult"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimulationResult</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>It launches the simulation on a sample of size at most <em>outerSampling * blockSize</em>,
this sample being built by blocks of size <em>blockSize</em>. It allows one to use
efficiently the distribution of the computation as well as it allows one to deal
with a sample size <img class="math" src="../../_images/math/214d34ca8b7f5d6ba05b082a980e23b1cca61bde.svg" alt="&gt; 2^{32}"/> by a combination of <em>blockSize</em> and
<em>outerSampling</em>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.setBlockSize">
<span class="sig-name descname"><span class="pre">setBlockSize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blockSize</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.setBlockSize" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the block size.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>blockSize</strong><span class="classifier">int, <img class="math" src="../../_images/math/9b0b4845db3f2bdfa4a2bfbdfd3688069f427344.svg" alt="blockSize \geq 1"/></span></dt><dd><p>Number of terms in the probability simulation estimator grouped together.
It is set by default to 1.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>For Monte Carlo, LHS and Importance Sampling methods, this allows one to save space
while allowing multithreading, when available we recommend
to use the number of available CPUs; for the Directional Sampling, we recommend
to set it to 1.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.setCoefficientOfVariationCriterionType">
<span class="sig-name descname"><span class="pre">setCoefficientOfVariationCriterionType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">criterionType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.setCoefficientOfVariationCriterionType" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the criterion operator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>result</strong><span class="classifier">str</span></dt><dd><p>The criterion operator, either NONE, MAX, NORM1 or NORM2.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.setConvergenceStrategy">
<span class="sig-name descname"><span class="pre">setConvergenceStrategy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">convergenceStrategy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.setConvergenceStrategy" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the convergence strategy.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>storage_strategy</strong><span class="classifier"><a class="reference internal" href="openturns.HistoryStrategy.html#openturns.HistoryStrategy" title="openturns.HistoryStrategy"><code class="xref py py-class docutils literal notranslate"><span class="pre">HistoryStrategy</span></code></a></span></dt><dd><p>Storage strategy used to store the values of the probability estimator
and its variance during the simulation algorithm.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.setMaximumCoefficientOfVariation">
<span class="sig-name descname"><span class="pre">setMaximumCoefficientOfVariation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maximumCoefficientOfVariation</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.setMaximumCoefficientOfVariation" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the maximum coefficient of variation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>coefficient</strong><span class="classifier">float</span></dt><dd><p>Maximum coefficient of variation of the simulated sample.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.setMaximumOuterSampling">
<span class="sig-name descname"><span class="pre">setMaximumOuterSampling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maximumOuterSampling</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.setMaximumOuterSampling" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the maximum sample size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>outerSampling</strong><span class="classifier">int</span></dt><dd><p>Maximum number of groups of terms in the probability simulation estimator.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.setMaximumStandardDeviation">
<span class="sig-name descname"><span class="pre">setMaximumStandardDeviation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maximumStandardDeviation</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.setMaximumStandardDeviation" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the maximum standard deviation.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>sigma</strong><span class="classifier">float, <img class="math" src="../../_images/math/0975adfc27f6bb7b0a8f9a7dab285241110554aa.svg" alt="\sigma &gt; 0"/></span></dt><dd><p>Maximum standard deviation of the estimator.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.setMaximumStandardDeviationPerComponent">
<span class="sig-name descname"><span class="pre">setMaximumStandardDeviationPerComponent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maximumStandardDeviation</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.setMaximumStandardDeviationPerComponent" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the maximum standard deviation.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>sigmaMax</strong><span class="classifier">sequence of float</span></dt><dd><p>The maximum standard deviation on each component.</p>
<p>If empty, the stopping criterion is not applied.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.setName">
<span class="sig-name descname"><span class="pre">setName</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.setName" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the object’s name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>name</strong><span class="classifier">str</span></dt><dd><p>The name of the object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.setProgressCallback">
<span class="sig-name descname"><span class="pre">setProgressCallback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.setProgressCallback" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up a progress callback.</p>
<p>Can be used to programmatically report the progress of a simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>callback</strong><span class="classifier">callable</span></dt><dd><p>Takes a float as argument as percentage of progress.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openturns</span> <span class="k">as</span> <span class="nn">ot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">experiment</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">MonteCarloExperiment</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">RandomVector</span><span class="p">(</span><span class="n">ot</span><span class="o">.</span><span class="n">Normal</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Y</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">CompositeRandomVector</span><span class="p">(</span><span class="n">ot</span><span class="o">.</span><span class="n">SymbolicFunction</span><span class="p">([</span><span class="s1">&#39;X&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;1.1*X&#39;</span><span class="p">]),</span> <span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">event</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">ThresholdEvent</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="n">ot</span><span class="o">.</span><span class="n">Less</span><span class="p">(),</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">ProbabilitySimulationAlgorithm</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">experiment</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">setMaximumOuterSampling</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">setMaximumCoefficientOfVariation</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">report_progress</span><span class="p">(</span><span class="n">progress</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;-- progress=&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">progress</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;%</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">setProgressCallback</span><span class="p">(</span><span class="n">report_progress</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.setShadowedId">
<span class="sig-name descname"><span class="pre">setShadowedId</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.setShadowedId" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the object’s shadowed id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>id</strong><span class="classifier">int</span></dt><dd><p>Internal unique identifier.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.setStandardDeviationCriterionType">
<span class="sig-name descname"><span class="pre">setStandardDeviationCriterionType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">criterionType</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.setStandardDeviationCriterionType" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the criterion operator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>result</strong><span class="classifier">str</span></dt><dd><p>The criterion operator, either NONE, MAX, NORM1 or NORM2</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.setStopCallback">
<span class="sig-name descname"><span class="pre">setStopCallback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.setStopCallback" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up a stop callback.</p>
<p>Can be used to programmatically stop a simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>callback</strong><span class="classifier">callable</span></dt><dd><p>Returns an int deciding whether to stop or continue.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Stop a Monte Carlo simulation algorithm using a time limit</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openturns</span> <span class="k">as</span> <span class="nn">ot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">experiment</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">MonteCarloExperiment</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">RandomVector</span><span class="p">(</span><span class="n">ot</span><span class="o">.</span><span class="n">Normal</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Y</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">CompositeRandomVector</span><span class="p">(</span><span class="n">ot</span><span class="o">.</span><span class="n">SymbolicFunction</span><span class="p">([</span><span class="s1">&#39;X&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;1.1*X&#39;</span><span class="p">]),</span> <span class="n">X</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">event</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">ThresholdEvent</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="n">ot</span><span class="o">.</span><span class="n">Less</span><span class="p">(),</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">ProbabilitySimulationAlgorithm</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">experiment</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">setMaximumOuterSampling</span><span class="p">(</span><span class="mi">10000000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">setMaximumCoefficientOfVariation</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timer</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">TimerCallback</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">setStopCallback</span><span class="p">(</span><span class="n">timer</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">algo</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.setVerbose">
<span class="sig-name descname"><span class="pre">setVerbose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.setVerbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to verbosity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>verbosity_enabled</strong><span class="classifier">bool</span></dt><dd><p>If <em>True</em>, make the computation verbose. By default it is verbose.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.ExpectationSimulationAlgorithm.setVisibility">
<span class="sig-name descname"><span class="pre">setVisibility</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">visible</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.ExpectationSimulationAlgorithm.setVisibility" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the object’s visibility state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>visible</strong><span class="classifier">bool</span></dt><dd><p>Visibility flag.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="openturns.ExpectationSimulationResult.html" title="ExpectationSimulationResult"
             >next</a> |</li>
        <li class="right" >
          <a href="openturns.TaylorExpansionMoments.html" title="TaylorExpansionMoments"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenTURNS 1.19 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../user_manual.html" >API</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../central_tendency.html" >Central tendency analysis</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">ExpectationSimulationAlgorithm</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005-2022 Airbus-EDF-IMACS-ONERA-Phimeca.
      Last updated on May 10, 2022.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>
  </body>
</html>