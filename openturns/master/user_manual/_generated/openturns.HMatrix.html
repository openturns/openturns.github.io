
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>HMatrix &#8212; OpenTURNS 1.20dev documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/openturns.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/mysearchtools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Tensor" href="openturns.Tensor.html" />
    <link rel="prev" title="HMatrixFactory" href="openturns.HMatrixFactory.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="http://www.openturns.org/">Home</a></li>
    <li><a href="../../install.html">Get it</a></li>
    <li><a href="../../contents.html">Doc</a></li>
    <li><a href="https://openturns.discourse.group/">Forum</a></li>
    <li><a href="https://gitter.im/openturns/community">Chat</a></li>
    <li><a href="https://github.com/openturns/openturns/wiki/Modules">Modules</a></li>
    <li><a href="https://github.com/openturns">Code</a></li>
    <li><a href="https://github.com/openturns/openturns/issues">Bugs</a></li>
  </ul>
  <a href="../../index.html">
    <h1>
      <img src="../../_static/logo-openturns-wo-bg.png" alt="" width=100px height=100px />
      OpenTURNS
    </h1>
    <h2> An Open source initiative for the Treatment of Uncertainties, Risks'N Statistics</h2>
  </a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="openturns.Tensor.html" title="Tensor"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="openturns.HMatrixFactory.html" title="HMatrixFactory"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenTURNS 1.20dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../user_manual.html" >API</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../base_objects.html" accesskey="U">Base objects</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">HMatrix</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">HMatrix</a><ul>
<li><a class="reference internal" href="#openturns.HMatrix"><code class="docutils literal notranslate"><span class="pre">HMatrix</span></code></a><ul>
<li><a class="reference internal" href="#openturns.HMatrix.__init__"><code class="docutils literal notranslate"><span class="pre">HMatrix.__init__()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.addIdentity"><code class="docutils literal notranslate"><span class="pre">HMatrix.addIdentity()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.assemble"><code class="docutils literal notranslate"><span class="pre">HMatrix.assemble()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.assembleReal"><code class="docutils literal notranslate"><span class="pre">HMatrix.assembleReal()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.assembleTensor"><code class="docutils literal notranslate"><span class="pre">HMatrix.assembleTensor()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.compressionRatio"><code class="docutils literal notranslate"><span class="pre">HMatrix.compressionRatio()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.copy"><code class="docutils literal notranslate"><span class="pre">HMatrix.copy()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.dump"><code class="docutils literal notranslate"><span class="pre">HMatrix.dump()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.factorize"><code class="docutils literal notranslate"><span class="pre">HMatrix.factorize()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.fullrkRatio"><code class="docutils literal notranslate"><span class="pre">HMatrix.fullrkRatio()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.gemm"><code class="docutils literal notranslate"><span class="pre">HMatrix.gemm()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.gemv"><code class="docutils literal notranslate"><span class="pre">HMatrix.gemv()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.getClassName"><code class="docutils literal notranslate"><span class="pre">HMatrix.getClassName()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.getDiagonal"><code class="docutils literal notranslate"><span class="pre">HMatrix.getDiagonal()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.getId"><code class="docutils literal notranslate"><span class="pre">HMatrix.getId()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.getImplementation"><code class="docutils literal notranslate"><span class="pre">HMatrix.getImplementation()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.getName"><code class="docutils literal notranslate"><span class="pre">HMatrix.getName()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.getNbColumns"><code class="docutils literal notranslate"><span class="pre">HMatrix.getNbColumns()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.getNbRows"><code class="docutils literal notranslate"><span class="pre">HMatrix.getNbRows()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.norm"><code class="docutils literal notranslate"><span class="pre">HMatrix.norm()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.scale"><code class="docutils literal notranslate"><span class="pre">HMatrix.scale()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.setName"><code class="docutils literal notranslate"><span class="pre">HMatrix.setName()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.solve"><code class="docutils literal notranslate"><span class="pre">HMatrix.solve()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.solveLower"><code class="docutils literal notranslate"><span class="pre">HMatrix.solveLower()</span></code></a></li>
<li><a class="reference internal" href="#openturns.HMatrix.transpose"><code class="docutils literal notranslate"><span class="pre">HMatrix.transpose()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="openturns.HMatrixFactory.html"
                          title="previous chapter">HMatrixFactory</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="openturns.Tensor.html"
                          title="next chapter">Tensor</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/user_manual/_generated/openturns.HMatrix.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="hmatrix">
<h1>HMatrix<a class="headerlink" href="#hmatrix" title="Permalink to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="openturns.HMatrix">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HMatrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Hierarchical matrices.</p>
<p>Hierarchical matrices (or HMatrix) are a compressed representation of dense
matrices.  In many applications, matrix coefficients represent an interaction
between two degrees of freedom; when these interactions are smooth, it is
possible to approximate sub-blocks by a local low-rank approximation B =~ UV^T
where B has dimension (m,n), U (m,k), and V (n,k).
Of course, this is interesting only if k is much lower than m and n.</p>
<p>In order to obtain this compressed representation, several different steps must
be performed:</p>
<ol class="arabic simple">
<li><p>Clustering: creation of rows and columns cluster trees
Vertices where interactions are computed are reordered to improve locality.
A binary space partition algorithm is used to recursively divide vertex set.
Root cell contains all vertices.  At each recursion step, a cell is divided
into two new cells until it contains less than a given number of vertices.
Space partition is performed orthogonally to original axis, by cutting its
longest dimension.</p>
<ul class="simple">
<li><p>The ‘median’ clustering algorithm divides a cell into two cells containing
the same number of degrees of freedom.</p></li>
<li><p>The ‘geometric’ clustering algorithm divides a cell into two cells of the
same geometric size</p></li>
<li><p>The ‘hybrid’ clustering algorithm is a mix.  It first performs a ‘median’
bisection; if volumes of these new cells are very different, a ‘geometric’
clustering is performed instead.</p></li>
</ul>
</li>
<li><p>Admissibility: creation of an empty HMatrix structure
The first step created a full binary tree for rows and columns degrees of
freedom.  We will now create a hierarchical representation of our matrix by
checking whether some blocks can be replaced by low-rank approximations.
The whole matrix represents the interactions of all rows degrees of freedom
against all columns degrees of freedom.  It can not be approximated by a
low-rank approximation, and thus it is replaced by 4 blocks obtained by
considering interactions between rows and columns children nodes.  This
operation is performed recursively.  At each step, we compute axis aligned
bounding boxes rows_bbox and cols_bbox: if
min(diameter(rows_bbox), diameter(cols_bbox)) &lt;= eta*distance(rows_bbox, cols_bbox)
then we consider that interaction between rows and columns degrees of
freedom can have a local low-rank approximation, and recursion is stopped.
Otherwise, we recurse until bottom cluster tree is reached.
The whole matrix is thus represented by a 4-tree where leaves will contain
either low-rank approximation or full blocks.
The eta parameter is called the admissibility factor, and it can be modified.</p></li>
<li><p>Assembly: coefficients computations
The hierarchical structure of the matrix has been computed during step 2.
To compute coefficients, we call the assemble method and provide a callable
to compute interaction between two nodes.  Full blocks are computed by
calling this callable for the whole block.  If compression method is ‘SVD’,
low-rank approximation is computed by first computing the whole block, then
finding its singular value decomposition, and rank is truncated so that
error does not exceed assemblyEpsilon.  This method is precise, but very
costly.  If compression method is a variant of ACA, only few rows and
columns are computed.  This is much more efficient, but error may be larger
than expected on some problems.</p></li>
<li><p>Matrix computations
Once an HMatrix is computed, usual linear algebra operations can be
performed.  Matrix can be factorized in-place, in order to solve systems.
Or we can compute its product by a matrix or vector.  But keep in mind that
rows and columns are reordered internally, and thus results may differ
sensibly from standard dense representation (for instance when computing a
Cholesky or LU decomposition).</p></li>
</ol>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="openturns.HMatrixFactory.html#openturns.HMatrixFactory" title="openturns.HMatrixFactory"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HMatrixFactory</span></code></a>, <a class="reference internal" href="openturns.HMatrixParameters.html#openturns.HMatrixParameters" title="openturns.HMatrixParameters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HMatrixParameters</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.HMatrix.addIdentity" title="openturns.HMatrix.addIdentity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">addIdentity</span></code></a>(alpha)</p></td>
<td><p>Add alpha*Identity to the Matrix.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.HMatrix.assemble" title="openturns.HMatrix.assemble"><code class="xref py py-obj docutils literal notranslate"><span class="pre">assemble</span></code></a>(*args)</p></td>
<td><p>Assemble matrix.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.HMatrix.assembleReal" title="openturns.HMatrix.assembleReal"><code class="xref py py-obj docutils literal notranslate"><span class="pre">assembleReal</span></code></a>(callable, symmetry)</p></td>
<td><p>Assemble matrix.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.HMatrix.assembleTensor" title="openturns.HMatrix.assembleTensor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">assembleTensor</span></code></a>(callable, outputDimension, ...)</p></td>
<td><p>Assemble matrix by block.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.HMatrix.compressionRatio" title="openturns.HMatrix.compressionRatio"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compressionRatio</span></code></a>()</p></td>
<td><p>Compression ratio accessor.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.HMatrix.copy" title="openturns.HMatrix.copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code></a>()</p></td>
<td><p>Copy matrix.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.HMatrix.dump" title="openturns.HMatrix.dump"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dump</span></code></a>(name)</p></td>
<td><p>Save matrix to a file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.HMatrix.factorize" title="openturns.HMatrix.factorize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">factorize</span></code></a>(method)</p></td>
<td><p>Factorize matrix.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.HMatrix.fullrkRatio" title="openturns.HMatrix.fullrkRatio"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fullrkRatio</span></code></a>()</p></td>
<td><p>Block ratio accessor.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.HMatrix.gemm" title="openturns.HMatrix.gemm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gemm</span></code></a>(transA, transB, alpha, a, b, beta)</p></td>
<td><p>Multiply matrix in-place self=alpha*op(A)*op(B)+beta*self.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.HMatrix.gemv" title="openturns.HMatrix.gemv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gemv</span></code></a>(trans, alpha, x, beta, y)</p></td>
<td><p>Multiply vector in-place y=alpha*op(A)*x+beta*y.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.HMatrix.getClassName" title="openturns.HMatrix.getClassName"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getClassName</span></code></a>()</p></td>
<td><p>Accessor to the object's name.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.HMatrix.getDiagonal" title="openturns.HMatrix.getDiagonal"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getDiagonal</span></code></a>()</p></td>
<td><p>Diagonal values accessor.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.HMatrix.getId" title="openturns.HMatrix.getId"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getId</span></code></a>()</p></td>
<td><p>Accessor to the object's id.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.HMatrix.getImplementation" title="openturns.HMatrix.getImplementation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getImplementation</span></code></a>()</p></td>
<td><p>Accessor to the underlying implementation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.HMatrix.getName" title="openturns.HMatrix.getName"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getName</span></code></a>()</p></td>
<td><p>Accessor to the object's name.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.HMatrix.getNbColumns" title="openturns.HMatrix.getNbColumns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getNbColumns</span></code></a>()</p></td>
<td><p>Accessor to the number of columns.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.HMatrix.getNbRows" title="openturns.HMatrix.getNbRows"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getNbRows</span></code></a>()</p></td>
<td><p>Accessor to the number of rows.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.HMatrix.norm" title="openturns.HMatrix.norm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">norm</span></code></a>()</p></td>
<td><p>Compute norm value.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.HMatrix.scale" title="openturns.HMatrix.scale"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scale</span></code></a>(alpha)</p></td>
<td><p>Scale matrix in-place A=alpha*A.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.HMatrix.setName" title="openturns.HMatrix.setName"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setName</span></code></a>(name)</p></td>
<td><p>Accessor to the object's name.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.HMatrix.solve" title="openturns.HMatrix.solve"><code class="xref py py-obj docutils literal notranslate"><span class="pre">solve</span></code></a>(*args)</p></td>
<td><p>Solve linear system op(A)*x=b, after A has been factorized.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openturns.HMatrix.solveLower" title="openturns.HMatrix.solveLower"><code class="xref py py-obj docutils literal notranslate"><span class="pre">solveLower</span></code></a>(*args)</p></td>
<td><p>Solve lower linear system op(L)*x=b, after A has been factorized.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openturns.HMatrix.transpose" title="openturns.HMatrix.transpose"><code class="xref py py-obj docutils literal notranslate"><span class="pre">transpose</span></code></a>()</p></td>
<td><p>Transpose matrix in-place.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.addIdentity">
<span class="sig-name descname"><span class="pre">addIdentity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.addIdentity" title="Permalink to this definition">¶</a></dt>
<dd><p>Add alpha*Identity to the Matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>alpha</strong><span class="classifier">float</span></dt><dd><p>Coefficient.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.assemble">
<span class="sig-name descname"><span class="pre">assemble</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.assemble" title="Permalink to this definition">¶</a></dt>
<dd><p>Assemble matrix.</p>
<p>Available usages:</p>
<blockquote>
<div><p>assemble(f, symmetry)</p>
<p>assemble(f, parameters, symmetry)</p>
</div></blockquote>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>f</strong><span class="classifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">HMatrixRealAssemblyFunction</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">HMatrixTensorRealAssemblyFunction</span></code></span></dt><dd><p>Assembly function.</p>
</dd>
<dt><strong>parameters</strong><span class="classifier"><a class="reference internal" href="openturns.HMatrixParameters.html#openturns.HMatrixParameters" title="openturns.HMatrixParameters"><code class="xref py py-class docutils literal notranslate"><span class="pre">HMatrixParameters</span></code></a></span></dt><dd><p>Parameters used within HMatrix</p>
</dd>
<dt><strong>symmetry</strong><span class="classifier">str</span></dt><dd><p>Symmetry flag, either N or L</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.assembleReal">
<span class="sig-name descname"><span class="pre">assembleReal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetry</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.assembleReal" title="Permalink to this definition">¶</a></dt>
<dd><p>Assemble matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>f</strong><span class="classifier">assembly function</span></dt><dd><p>Callable that takes i,j int parameters and returns a float</p>
</dd>
<dt><strong>symmetry</strong><span class="classifier">str</span></dt><dd><p>Symmetry flag, either N or L</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.assembleTensor">
<span class="sig-name descname"><span class="pre">assembleTensor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputDimension</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetry</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.assembleTensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Assemble matrix by block.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>f</strong><span class="classifier">assembly function</span></dt><dd><p>Callable that takes i,j int parameters and returns a Matrix</p>
</dd>
<dt><strong>outputDimension</strong><span class="classifier">int</span></dt><dd><p>Block dimension</p>
</dd>
<dt><strong>symmetry</strong><span class="classifier">str</span></dt><dd><p>Symmetry flag, either N or L</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.compressionRatio">
<span class="sig-name descname"><span class="pre">compressionRatio</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.compressionRatio" title="Permalink to this definition">¶</a></dt>
<dd><p>Compression ratio accessor.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ratio</strong><span class="classifier">2-tuple of int</span></dt><dd><p>Numbers of elements in the compressed and uncompressed forms.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy matrix.</p>
<p>As factorization overwrites matrix contents, this method
is useful to get a copy of assembled matrix before it is
factorized.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>matrix</strong><span class="classifier"><a class="reference internal" href="#openturns.HMatrix" title="openturns.HMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HMatrix</span></code></a></span></dt><dd><p>Matrix copy.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.dump">
<span class="sig-name descname"><span class="pre">dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Save matrix to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fileName</strong><span class="classifier">str</span></dt><dd><p>File name to save to.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.factorize">
<span class="sig-name descname"><span class="pre">factorize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.factorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Factorize matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>method</strong><span class="classifier">str</span></dt><dd><p>Factorization method, either one of: LDLt, LLt or LU</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The factorization embeds an automatic regularization procedure based
on an approximation of the largest eigenvalue module. Its computation
is done using a power iteration, controlled by the
‘HMatrix-LargestEigenValueRelatveError’ and
‘HMatrix-LargestEigenValueIterations’ keys in the <a class="reference internal" href="openturns.ResourceMap.html#openturns.ResourceMap" title="openturns.ResourceMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResourceMap</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.fullrkRatio">
<span class="sig-name descname"><span class="pre">fullrkRatio</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.fullrkRatio" title="Permalink to this definition">¶</a></dt>
<dd><p>Block ratio accessor.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ratio</strong><span class="classifier">2-tuple of int</span></dt><dd><p>Numbers of elements in full blocks and low rank blocks.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.gemm">
<span class="sig-name descname"><span class="pre">gemm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transA</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transB</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.gemm" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiply matrix in-place self=alpha*op(A)*op(B)+beta*self.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>transA</strong><span class="classifier">str</span></dt><dd><p>Whether to use A or A^t: either N or T.</p>
</dd>
<dt><strong>transB</strong><span class="classifier">str</span></dt><dd><p>Whether to use B or B^t: either N or T.</p>
</dd>
<dt><strong>alpha</strong><span class="classifier">float</span></dt><dd><p>Coefficient</p>
</dd>
<dt><strong>A</strong><span class="classifier"><a class="reference internal" href="#openturns.HMatrix" title="openturns.HMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HMatrix</span></code></a></span></dt><dd><p>Multiplied matrix A.</p>
</dd>
<dt><strong>B</strong><span class="classifier"><a class="reference internal" href="#openturns.HMatrix" title="openturns.HMatrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">HMatrix</span></code></a></span></dt><dd><p>Multiplied matrix B.</p>
</dd>
<dt><strong>beta</strong><span class="classifier">float</span></dt><dd><p>Coefficient.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.gemv">
<span class="sig-name descname"><span class="pre">gemv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trans</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.gemv" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiply vector in-place y=alpha*op(A)*x+beta*y.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>trans</strong><span class="classifier">str</span></dt><dd><p>Whether to use A or A^t: either N or T.</p>
</dd>
<dt><strong>alpha</strong><span class="classifier">float</span></dt><dd><p>Coefficient</p>
</dd>
<dt><strong>x</strong><span class="classifier">sequence of float</span></dt><dd><p>Vector to multiply.</p>
</dd>
<dt><strong>beta</strong><span class="classifier">float</span></dt><dd><p>Coefficient.</p>
</dd>
<dt><strong>y</strong><span class="classifier"><a class="reference internal" href="openturns.Point.html#openturns.Point" title="openturns.Point"><code class="xref py py-class docutils literal notranslate"><span class="pre">Point</span></code></a></span></dt><dd><p>Vector multiplied in-place.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.getClassName">
<span class="sig-name descname"><span class="pre">getClassName</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.getClassName" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the object’s name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>class_name</strong><span class="classifier">str</span></dt><dd><p>The object class name (<cite>object.__class__.__name__</cite>).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.getDiagonal">
<span class="sig-name descname"><span class="pre">getDiagonal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.getDiagonal" title="Permalink to this definition">¶</a></dt>
<dd><p>Diagonal values accessor.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>diag</strong><span class="classifier"><a class="reference internal" href="openturns.Point.html#openturns.Point" title="openturns.Point"><code class="xref py py-class docutils literal notranslate"><span class="pre">Point</span></code></a></span></dt><dd><p>Diagonal values.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.getId">
<span class="sig-name descname"><span class="pre">getId</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.getId" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the object’s id.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>id</strong><span class="classifier">int</span></dt><dd><p>Internal unique identifier.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.getImplementation">
<span class="sig-name descname"><span class="pre">getImplementation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.getImplementation" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the underlying implementation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>impl</strong><span class="classifier">Implementation</span></dt><dd><p>A copy of the underlying implementation object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.getName">
<span class="sig-name descname"><span class="pre">getName</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.getName" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the object’s name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>name</strong><span class="classifier">str</span></dt><dd><p>The name of the object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.getNbColumns">
<span class="sig-name descname"><span class="pre">getNbColumns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.getNbColumns" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the number of columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>nbColumns</strong><span class="classifier">int</span></dt><dd><p>Number of columns.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.getNbRows">
<span class="sig-name descname"><span class="pre">getNbRows</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.getNbRows" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the number of rows.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>nbRows</strong><span class="classifier">int</span></dt><dd><p>Number of rows.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.norm">
<span class="sig-name descname"><span class="pre">norm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute norm value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>norm</strong><span class="classifier">float</span></dt><dd><p>Frobenius norm.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.scale">
<span class="sig-name descname"><span class="pre">scale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Scale matrix in-place A=alpha*A.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>alpha</strong><span class="classifier">float</span></dt><dd><p>Coefficient.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.setName">
<span class="sig-name descname"><span class="pre">setName</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.setName" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the object’s name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>name</strong><span class="classifier">str</span></dt><dd><p>The name of the object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.solve">
<span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.solve" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve linear system op(A)*x=b, after A has been factorized.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>b</strong><span class="classifier">sequence of float or <a class="reference internal" href="openturns.Matrix.html#openturns.Matrix" title="openturns.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a></span></dt><dd><p>Second term of the equation, vector or matrix.</p>
</dd>
<dt><strong>trans</strong><span class="classifier">bool</span></dt><dd><p>Whether to solve the equation with A (False) or A^t (True).
Defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>x</strong><span class="classifier"><a class="reference internal" href="openturns.Point.html#openturns.Point" title="openturns.Point"><code class="xref py py-class docutils literal notranslate"><span class="pre">Point</span></code></a> or <a class="reference internal" href="openturns.Matrix.html#openturns.Matrix" title="openturns.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a></span></dt><dd><p>Equation solution, vector or matrix.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.solveLower">
<span class="sig-name descname"><span class="pre">solveLower</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.solveLower" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve lower linear system op(L)*x=b, after A has been factorized.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>b</strong><span class="classifier">sequence of float or <a class="reference internal" href="openturns.Matrix.html#openturns.Matrix" title="openturns.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a></span></dt><dd><p>Second term of the equation, vector or matrix.</p>
</dd>
<dt><strong>trans</strong><span class="classifier">bool</span></dt><dd><p>Whether to solve the equation with L (False) or L^t (True).
Defaults to False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>x</strong><span class="classifier"><a class="reference internal" href="openturns.Point.html#openturns.Point" title="openturns.Point"><code class="xref py py-class docutils literal notranslate"><span class="pre">Point</span></code></a> or <a class="reference internal" href="openturns.Matrix.html#openturns.Matrix" title="openturns.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a></span></dt><dd><p>Equation solution, vector or matrix.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="openturns.HMatrix.transpose">
<span class="sig-name descname"><span class="pre">transpose</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openturns.HMatrix.transpose" title="Permalink to this definition">¶</a></dt>
<dd><p>Transpose matrix in-place.</p>
</dd></dl>

</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="openturns.Tensor.html" title="Tensor"
             >next</a> |</li>
        <li class="right" >
          <a href="openturns.HMatrixFactory.html" title="HMatrixFactory"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenTURNS 1.20dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../user_manual.html" >API</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../base_objects.html" >Base objects</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">HMatrix</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005-2022 Airbus-EDF-IMACS-ONERA-Phimeca.
      Last updated on Jan 01, 2022.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.2.1.
    </div>
  </body>
</html>