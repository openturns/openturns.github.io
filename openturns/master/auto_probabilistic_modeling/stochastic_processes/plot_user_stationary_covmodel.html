
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Create a stationary covariance model &#8212; OpenTURNS 1.22dev documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/openturns.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/mysearchtools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Create a normal process" href="plot_create_normal_process.html" />
    <link rel="prev" title="Use the Box-Cox transformation" href="plot_box_cox_transform.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="http://www.openturns.org/">Home</a></li>
    <li><a href="../../install.html">Get it</a></li>
    <li><a href="../../contents.html">Doc</a></li>
    <li><a href="https://openturns.discourse.group/">Forum</a></li>
    <li><a href="https://gitter.im/openturns/community">Chat</a></li>
    <li><a href="https://github.com/openturns/openturns/wiki/Modules">Modules</a></li>
    <li><a href="https://github.com/openturns">Code</a></li>
    <li><a href="https://github.com/openturns/openturns/issues">Bugs</a></li>
  </ul>
  <a href="../../index.html">
    <h1>
      <img src="../../_static/logo-openturns-wo-bg.png" alt="" width=100px height=100px />
      OpenTURNS
    </h1>
    <h2> An Open source initiative for the Treatment of Uncertainties, Risks'N Statistics</h2>
  </a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="plot_create_normal_process.html" title="Create a normal process"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="plot_box_cox_transform.html" title="Use the Box-Cox transformation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenTURNS 1.22dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../examples/examples.html" >Examples</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../index.html" >Probabilistic modeling</a> &#187;</li>
          <li class="nav-item nav-item-4"><a href="index.html" accesskey="U">Stochastic_processes</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Create a stationary covariance model</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="plot_box_cox_transform.html"
                          title="previous chapter">Use the Box-Cox transformation</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="plot_create_normal_process.html"
                          title="next chapter">Create a normal process</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/auto_probabilistic_modeling/stochastic_processes/plot_user_stationary_covmodel.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-auto-probabilistic-modeling-stochastic-processes-plot-user-stationary-covmodel-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="create-a-stationary-covariance-model">
<span id="sphx-glr-auto-probabilistic-modeling-stochastic-processes-plot-user-stationary-covmodel-py"></span><h1>Create a stationary covariance model<a class="headerlink" href="#create-a-stationary-covariance-model" title="Permalink to this heading">Â¶</a></h1>
<p>This use case illustrates how the user can define his own stationary covariance model thanks to the object <em>UserDefinedStationaryCovarianceModel</em> defined from:</p>
<ul class="simple">
<li><p>a mesh <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAOBAMAAAAyKEr9AAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAGPOLMmC/nfvpz6/ddEjZjsafAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAi0lEQVQI12NgYGAQEgASDMwOINI+AETGgwiG/AIgwdIJZictABKc38DsbQ1A4ux3EJM1+AsDA1vhXxCbm+UzA0MV6z8Qm42hi4F3AvNHEPstQwbDIwHuDyD2Bob7ISoMbCADGDcwcEx6wMClAGRyOzBwA/XxANn3TwHlHjAwcH0XYHgxEWwfA98WBgCvVR6VHlyorQAAAAp0RVh0RGVwdGgAAAAAAVAk0ZoAAAAASUVORK5CYII=" alt="\mathcal{M}" style="vertical-align: -1px"/> of dimension <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAIBAMAAADdFhi7AAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAdJ2LGM9IMmD73fO/r+mGTbZDAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAP0lEQVQI12NgVHY2TWBgqMg0YFzAwCBgzcAUwMDAcJaBVQFIzWDgL2BgYP/AIMfBwMD8gOEsMwMDkwFDrggDAP0FCNj5FTHGAAAACnRFWHREZXB0aAAAAAAAJyPhDAAAAABJRU5ErkJggg==" alt="n" style="vertical-align: 0px"/> defined by the vertices <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAAATBAMAAACHPPXqAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAGJ3PYOl0i90y+/NIv69ILDK6AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABR0lEQVQ4y5WSPUsDQRCG3zvv25ymt7lC0gnpBNs0VmJl6zVB7Q4sRLCI/2AhXKMIZ2mnf0CuEeWq2EjsUgseqUVYZ9yEhPNO2IWZ3dnZZ3ZnZgEjguYwWa3oUjBGpDa1MRyR7OtjNuAk+thaDE/oY1YXAeAfSpk1HUml/PqzmWEVCMVJc+R3p+Y5U6RAjlEj1UJYs3uLJ54G5O80tN3jTu20rUfVs2PWD9jgFCfsPavH9lidRlBRnb7KjUqCMAZ6eKnH3lhdZJg1KlWY3QYCynoLBYa0rgru+FxyYIkF5g9g0k3XtPzEFQqKWIglIdu/58LkfRcLzE3gd5XJtyGuPHBuuwieYZZlGf1iHr3iUnl62P0PM7eXbhuS3EDysKmSToUie519UxPG92yPE3rl6quQrc6kDlPNGov5j7A+zuHmvNL+yz7wA78BTxP7Ie+zAAAACnRFWHREZXB0aAAAAAAFV0kVgwAAAABJRU5ErkJggg==" alt="(\underline{\tau}_0,\dots, \underline{\tau}_{N-1})" style="vertical-align: -5px"/> and the associated simplices,</p></li>
<li><p>a collection of covariance matrices stored in the object <em>CovarianceMatrixCollection</em> noted <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAVBAMAAACphe0AAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAGJ3PrzKL82Dp3XS/SPtrUgm0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABOUlEQVQ4y2NgYGBUdlIIYsAJhEyUWBUwRNMbGFgqcOphA0q5N6CLshQyMHB8wKnJXYCBoR9DND8ASEzAadFXIMGJLsr4CUQ64NIkD/IOC4brPjLgA/4C2ETZF+DVVIVVlN8Br6Yv2DUlAAlunJq+gYgNGM4D2ZSKU1MJKAQD0EWZgKHNugGnJk0gjsYUnsLA0AZhBQtgYk4HBo4ETE1MR5SA1vNqKzDcA8reC0DCINU6TqogVcIPGdohQSaNCG4uhjRMDyPx2YwYmCCs3YjU08xwC7+mewxsEBYrUNN/CPjDcA8j4IF8fqg0AxvnhlaEJijwYYjDpgkO7nJPSMDQpAO0CR9IYHibwKDi4uKErKmZoYuAJuUEDD/9BIUelkQG85MCg/wFqKYCuCyvNt6EK7OUgQfKbHkWAAAnUFjGm3TU8AAAAAp0RVh0RGVwdGgAAAAACCn4aT4AAAAASUVORK5CYII=" alt="\underline{\underline{C}}_0, \dots, \underline{\underline{C}}_{N-1}" style="vertical-align: -8px"/>
where <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVBAMAAABbObilAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAGJ3PrzKL82Dp3XS/+0j20hb5AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAgklEQVQI12NgYGBUdlIIYoCA9AYGlgoIk6WQgYHjA4SdHwAkJoCZjJ9ApANEyUcGOGBfgGDzOyCxE4AEN1QNSDwVwmYCGse6AapoCgNDG0wD0xEloG2MixBGMFggsS8A8X8I+FjQ9gAmzH0iCGYYA88MJGe92gBX/537KFz9E8ZDDABvpCehYDQiDQAAAAp0RVh0RGVwdGgAAAAACCn4aT4AAAAASUVORK5CYII=" alt="\underline{\underline{C}}_k" style="vertical-align: -8px"/> <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAAATBAMAAADmJNeoAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAGIu/3XRgr53p8zL7z0hA5JAWAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABq0lEQVQoz42SMUjDQBSG/+SSphpTAloUQSjobh10qIKKLQiilIroIkZBEEQMiJNLHUQchAouOqXg5hLoIAiFOkkHIYOIOEgWQYpDVQRBEO+SNHog6A3vvfz3cXn/vQP+Wh1BjvJyp86iaPOqIx7dHZ5kISQ5uddgcZ1nowbaNZxNAzlOH87ToFZ5uAkM1qI2qyB0pzO+nnLY5isP53w4loCSBXoWG/pGhYbMOw9P+LBsIOJANBtyZOkDINtvPFzx4NKaV7aFsqK+APuRTx62KCxdV5mdOpZCmeAKckF8pmVb3peEcbXATi51sa8L7KXTgcEHDKGmK3VaakZwwE3Mg5VHag5FrIQnm1hYPQVhLlsgAGxEFcHyenZGvZ6lBiuYaDl2odHdzT0Qm05MmSsEBnNlD5aDKQqKDYWakyxI7i4w2ApMRU0cUJhAi+ehjoT3vDBJg0vbfddrGKDZQcwiBnYgH6Xu1bFLiIlwgk8H/h9iW+imVtA6CDHZrKMcepL03x7lrFrMCkliy+Z5/AdS/vUFk5lbeulIon+edhq+zD78vZaDLLr/gNXv/AVh7Fo/zgE3bwAAAAp0RVh0RGVwdGgAAAAABVdJFYMAAAAASUVORK5CYII=" alt="\in \mathcal{M}_{d \times d}(\mathbb{R})" style="vertical-align: -5px"/> for <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAAAQBAMAAAA4zzYfAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAYJ2Lr0jpMt10v/sYz/O0T7d0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABRUlEQVQoz2NgQAes/QfQhfy+M/Csb8RQKWQiAGPyFIBIaYQcRICBaRcDAy+KJsZUoBUJDOkwdSsCQJQvQiNEgIHZm4HhMLJGdtWvDAwcExi0oNwbEHXJcHmoAENo/QQGcVSXAnXyB0Cdx9hbABdEFWAwYGtgUMDQGV/AEA8KEs4WaMAwfmA1YkAWYGBQ4PyDRad8AUgzA+sjmDqWhtBoBmQBoE6GTwwG2OyUB7nKYwJUjM1V4CQDsgADuwDDasYCDJ31AQzzwaarQU3lh0UcTICBGWi+MNgjHSBgAAshAYbZEAUzfMCUfEgDA4oAAxMDA98lBgw7OQwYdKE8ieVgVzI8ZEURAOlk+oypk7EBnhIYYg3A0fmUE0WAAehSnq9oOj8C8aQpAihibxgmTUAR4NoH5C9AEeLx/ebKMIAAEuAT8AigAwBywFHVDjeJsgAAAAp0RVh0RGVwdGgAAAAAA74qsLYAAAAASUVORK5CYII=" alt="0 \leq k \leq N-1" style="vertical-align: -3px"/></p></li>
</ul>
<p>Then we build a stationary covariance function which is a piecewise constant function on <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAANBAMAAABr8kJMAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAi937dGDPMp1I8+mvvxhkVxmfAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAY0lEQVQI12NgYFT+/1mFgYE1tb5hxnoFhmKG+Q4MbD8YPBn8CxgYrBkYGM4DsTIQZwPxbSBeA8S6DAx8X4H0dwYGxg8MDLwHGBiYEhgYnIBC/A4MPEAuQzxDYSqQYrW3PgmkAIaxE6PXjPnPAAAACnRFWHREZXB0aAAAAAAAJyPhDAAAAABJRU5ErkJggg==" alt="\mathcal{D}" style="vertical-align: 0px"/> defined by:</p>
<div class="math">
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAAAZBAMAAABa7QgQAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAv0gY3Z106c8yYK+L+/O0A1fNAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACj0lEQVRIx7VVTWjUQBR+ySbZzc/+oKCHXtKTgggrqL1IXTRUvcVDW/UgqVBQ8NCDtwr2qPTgKqg9lYAILlbMpSehrqWIguiC3i3WU70s2BaLyvomM5PNJFlF2T6Yt5M373vz5n1vZgH+Raox3U85E9P9lFZM901eNQevgzlJNOTc0KT29q7gkNLmlU+djx7/yJ1bdO/JwbLqwgk1QA0FtlBJ4o7MjurhnrtwHE6FfdzYlC9u8K93Ppjr8ndbseVVyVdsgAts5WoCZ60DLPlkNohjLBlWb8lbALfpYcFcAzDacKBVBKtSqhbRNMUc8wngEvbKs2hlKrLnXjoj+KPZ2jZAkdnf14nPfpgZsrRg/uiQBVqT+ZuemO52tJd6zXG6VVp5yAFtAIUSn9skOji2YEuXYM9lF7VSZ27GjBD3ODmhSVE1KNj6jU6HBLEC7lHAXCWar/ktVX4sBYOIPfcidmVuYeJS/Uo47xJYwh0Ueo5SLRW3BBzSJu10kwhJ6UvM5wm8BRtoiIXuiZDUMj1tOUjFfQAc8kGw/4jN83ASNc1p3HFC3pArHAPUoUxI0gT8PuCQNcH+kyhGpdnA2hs0p0eRx2kMVeuWBN4I+GHgELG+XwlHjFN9Fo8s0U2UyAPb9zmbqkif7iV5Y5CWUN9xHPe50yniSDfReMcZbf01bjcX8jsdLzytXZVBdJHTfAAGb22YxDGf6N+nv6bxtsLB0EkdGK2LcVWPQaymuHB28TxpKzdJNLtvkXjZj5XOr4OS+cYX/L+9jT3ihi1EZC5ztcgnHSIZDlqv/e4wyG7BWu5QGTaW/5xuz7gGPYhlZ65ONMb+98+DEqlnL+71YUfk80h/4/H6rk7c3Yl05eCQ+xsUhKYkPA7T0wAAAAp0RVh0RGVwdGgAAAAAACcj4QwAAAAASUVORK5CYII=" alt="\forall \underline{\tau} \in \mathcal{D}, \, C^{stat}(\underline{\tau}) =  \underline{\underline{C}}_k"/></p>
</div><p>where <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAANBAMAAACJLlk1AAAAKlBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADmU0mKAAAADXRSTlMASN0YYPuvz+mLnXTzARr72wAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAERJREFUCNdjYNQ1YAACVxDBkA4mO8HkRRDBcoFxFgMDm4KgKAMDR6KDNQMDrwpI3FdMAUgmMRxhBCk/yM3AcJhh1wYGADN9CmFZY5CnAAAACnRFWHREZXB0aAAAAAAAJyPhDAAAAABJRU5ErkJggg==" alt="k" style="vertical-align: 0px"/>  is such that <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAMBAMAAAB2C0uMAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAMun7v3RI3WCv8xidz4uAiZHKAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAVElEQVQI12Ng1P//34ABBFgEAhkgIIHBgQEGChgYuGtADI4JQOIGWGEAkADrYRYAyi7oS2BgkALyWD1kAiCaWDRg2rnSgUL/QWAXq2MCRCyT24cBAFVqENaWirbmAAAACnRFWHREZXB0aAAAAAAEIE4lFQAAAABJRU5ErkJggg==" alt="\underline{\tau}_k" style="vertical-align: -4px"/> is the  vertex of <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAOBAMAAAAyKEr9AAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAGPOLMmC/nfvpz6/ddEjZjsafAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAi0lEQVQI12NgYGAQEgASDMwOINI+AETGgwiG/AIgwdIJZictABKc38DsbQ1A4ux3EJM1+AsDA1vhXxCbm+UzA0MV6z8Qm42hi4F3AvNHEPstQwbDIwHuDyD2Bob7ISoMbCADGDcwcEx6wMClAGRyOzBwA/XxANn3TwHlHjAwcH0XYHgxEWwfA98WBgCvVR6VHlyorQAAAAp0RVh0RGVwdGgAAAAAAVAk0ZoAAAAASUVORK5CYII=" alt="\mathcal{M}" style="vertical-align: -1px"/> the nearest to <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAPBAMAAAAv0UM9AAAALVBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAOrOgAAAADnRSTlMAGN2dSPtgr+mLMs908zTxv1QAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABDSURBVAjXY2BgFGAAAiYDEMnnACJdQUR6RyWI0gQRDK9ABFsAiGTfACI5JsgASV4HA66NDDw2C1iiGJDBu3fvHjAAAF2QCzvxEGZdAAAACnRFWHREZXB0aAAAAAADviqwtgAAAABJRU5ErkJggg==" alt="\underline{t}." style="vertical-align: -3px"/></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openturns</span> <span class="k">as</span> <span class="nn">ot</span>
<span class="kn">import</span> <span class="nn">openturns.viewer</span> <span class="k">as</span> <span class="nn">viewer</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pylab</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">ot</span><span class="o">.</span><span class="n">Log</span><span class="o">.</span><span class="n">Show</span><span class="p">(</span><span class="n">ot</span><span class="o">.</span><span class="n">Log</span><span class="o">.</span><span class="n">NONE</span><span class="p">)</span>
</pre></div>
</div>
<p>We detail the example described in the documentation
Create the time grid</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">t0</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">dt</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">N</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="mf">20.0</span> <span class="o">-</span> <span class="n">t0</span><span class="p">)</span> <span class="o">/</span> <span class="n">dt</span><span class="p">)</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">RegularGrid</span><span class="p">(</span><span class="n">t0</span><span class="p">,</span> <span class="n">dt</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>

<span class="c1"># Create the covariance function</span>


<span class="k">def</span> <span class="nf">gamma</span><span class="p">(</span><span class="n">tau</span><span class="p">):</span>
    <span class="k">return</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">+</span> <span class="n">tau</span> <span class="o">*</span> <span class="n">tau</span><span class="p">)</span>


<span class="c1"># Create the collection of HermitianMatrix</span>
<span class="n">coll</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">SquareMatrixCollection</span><span class="p">()</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
    <span class="n">matrix</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">SquareMatrix</span><span class="p">([[</span><span class="n">gamma</span><span class="p">(</span><span class="n">t</span><span class="p">)]])</span>
    <span class="n">coll</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>
</div>
<p>Create the covariance model</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">covmodel</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">UserDefinedStationaryCovarianceModel</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">coll</span><span class="p">)</span>

<span class="c1"># One vertex of the mesh</span>
<span class="n">tau</span> <span class="o">=</span> <span class="mf">1.5</span>

<span class="c1"># Get the covariance function computed at the vertex tau</span>
<span class="n">covmodel</span><span class="p">(</span><span class="n">tau</span><span class="p">)</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<p>[[ 0.307692 ]]</p>
</div>
<br />
<br /><p>Graph of the spectral function</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
    <span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">t</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">covmodel</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

<span class="c1"># Create the curve of the spectral function</span>
<span class="n">curve</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Curve</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;User Model&quot;</span><span class="p">)</span>

<span class="c1"># Create the graph</span>
<span class="n">myGraph</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span><span class="s2">&quot;User covariance model&quot;</span><span class="p">,</span> <span class="s2">&quot;Time&quot;</span><span class="p">,</span> <span class="s2">&quot;Covariance function&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">myGraph</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">curve</span><span class="p">)</span>
<span class="n">myGraph</span><span class="o">.</span><span class="n">setLegendPosition</span><span class="p">(</span><span class="s2">&quot;topright&quot;</span><span class="p">)</span>
<span class="n">view</span> <span class="o">=</span> <span class="n">viewer</span><span class="o">.</span><span class="n">View</span><span class="p">(</span><span class="n">myGraph</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_plot_user_stationary_covmodel_001.png" srcset="../../_images/sphx_glr_plot_user_stationary_covmodel_001.png" alt="User covariance model" class = "sphx-glr-single-img"/><div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-probabilistic-modeling-stochastic-processes-plot-user-stationary-covmodel-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/ddcbdc5255f6123b07daa3cc89cbf19e/plot_user_stationary_covmodel.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_user_stationary_covmodel.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/47dc1b35ad6a7d9b001eecf5c3bd8457/plot_user_stationary_covmodel.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_user_stationary_covmodel.ipynb</span></code></a></p>
</div>
</div>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="plot_create_normal_process.html" title="Create a normal process"
             >next</a> |</li>
        <li class="right" >
          <a href="plot_box_cox_transform.html" title="Use the Box-Cox transformation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenTURNS 1.22dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../examples/examples.html" >Examples</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../index.html" >Probabilistic modeling</a> &#187;</li>
          <li class="nav-item nav-item-4"><a href="index.html" >Stochastic_processes</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Create a stationary covariance model</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005-2022 Airbus-EDF-IMACS-ONERA-Phimeca.
      Last updated on Jan 01, 2022.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>