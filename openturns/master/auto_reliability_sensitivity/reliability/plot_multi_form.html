
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Use the FORM algorithm in case of several design points &#8212; OpenTURNS 1.22dev documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/openturns.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/mysearchtools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Non parametric Adaptive Importance Sampling (NAIS)" href="plot_nais.html" />
    <link rel="prev" title="Exploitation of simulation algorithm results" href="plot_probability_simulation_results.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="http://www.openturns.org/">Home</a></li>
    <li><a href="../../install.html">Get it</a></li>
    <li><a href="../../contents.html">Doc</a></li>
    <li><a href="https://openturns.discourse.group/">Forum</a></li>
    <li><a href="https://gitter.im/openturns/community">Chat</a></li>
    <li><a href="https://github.com/openturns/openturns/wiki/Modules">Modules</a></li>
    <li><a href="https://github.com/openturns">Code</a></li>
    <li><a href="https://github.com/openturns/openturns/issues">Bugs</a></li>
  </ul>
  <a href="../../index.html">
    <h1>
      <img src="../../_static/logo-openturns-wo-bg.png" alt="" width=100px height=100px />
      OpenTURNS
    </h1>
    <h2> An Open source initiative for the Treatment of Uncertainties, Risks'N Statistics</h2>
  </a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="plot_nais.html" title="Non parametric Adaptive Importance Sampling (NAIS)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="plot_probability_simulation_results.html" title="Exploitation of simulation algorithm results"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenTURNS 1.22dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../examples/examples.html" >Examples</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../index.html" >Reliability &amp; Sensitivity</a> &#187;</li>
          <li class="nav-item nav-item-4"><a href="index.html" accesskey="U">Reliability</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Use the FORM algorithm in case of several design points</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Use the FORM algorithm in case of several design points</a><ul>
<li><a class="reference internal" href="#abstract">Abstract</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="plot_probability_simulation_results.html"
                          title="previous chapter">Exploitation of simulation algorithm results</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="plot_nais.html"
                          title="next chapter">Non parametric Adaptive Importance Sampling (NAIS)</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/auto_reliability_sensitivity/reliability/plot_multi_form.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-auto-reliability-sensitivity-reliability-plot-multi-form-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="use-the-form-algorithm-in-case-of-several-design-points">
<span id="sphx-glr-auto-reliability-sensitivity-reliability-plot-multi-form-py"></span><h1>Use the FORM algorithm in case of several design points<a class="headerlink" href="#use-the-form-algorithm-in-case-of-several-design-points" title="Permalink to this heading">¶</a></h1>
<section id="abstract">
<h2>Abstract<a class="headerlink" href="#abstract" title="Permalink to this heading">¶</a></h2>
<p>In this example we showcase the <a class="reference internal" href="../../user_manual/_generated/openturns.MultiFORM.html#openturns.MultiFORM" title="openturns.MultiFORM"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiFORM</span></code></a> class which can perform a FORM analysis with several
design points.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openturns</span> <span class="k">as</span> <span class="nn">ot</span>
<span class="kn">import</span> <span class="nn">openturns.viewer</span> <span class="k">as</span> <span class="nn">otv</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pylab</span> <span class="k">as</span> <span class="n">plt</span>
</pre></div>
</div>
<p>We consider a standard bivariate Gaussian random vector <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAAATBAMAAABhFT6uAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAGK/7z3SdMt1I879gi+loGlKnAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABeUlEQVQ4y2NgwArEGHCDBBDBqPxFgPWzI6qMAwODkL0jQ7yJAEwEwZUG89m+MzA2oGpiOwAk8gsYJJDE4FzWC2DLPjEwoTmCD0TIKzAoIIkhuA/ApDOKLAjEgggWAxTDEFxVMDk/TABNVzuI4PyaiCyG4B4Bk1zm6MFkACYXF6AIwrnMYJL7O4S3xQUInECsBWD+flRdcC4/mDz6G80qdrB/eeI3AIMqAiYI5rJeAhLMIA9xBjij6eIE65rKAnQoaxxMEMwtYwC6hQukq5Zh/gVUXYwgF7Jf4PwLpOpg9oO58xhuQPzFqMDA9wDNX6DQEGJgeIekC8plUILoKmFg4P2J5sSHQLOBier+BLCuEgEEl3EhA0MFA8OMzxMY5v1KQNWVysDZb8nA+X4ZWNfkCwguC1DnXRzJugTBBLkwAMHNZGdgaMShiwORWKpQdPEcYAM7Fitg3wBXpnydgRUhUf//EwO3AK6cdxSZw4oqdxNnfmXHk5eBCQsAAVJUtfXgJaQAAAAKdEVYdERlcHRoAAAAAAVXSRWDAAAAAElFTkSuQmCC" alt="X = (X_1, X_2)" style="vertical-align: -5px"/> :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dim</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">dist</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Normal</span><span class="p">(</span><span class="n">dim</span><span class="p">)</span>
</pre></div>
</div>
<p>We can draw the bidimensional PDF of the distribution <cite>dist</cite> over <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHYAAAATBAMAAAC3sOTLAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAv8+LYN0y6a+d8/t0GEjzO77qAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABB0lEQVQ4y2MQMmDABMwaKFxcahQYsAEmFB4uNXDx9OapCSCarcIyDJdeNDVw8azfamCabf2mBFx60dTAxXOgNNsB3G5GU4NHbyIQTyFKb6ZxC0R8soUDRC+PAgNnA4peNDVw8ZsMXA9ANO8EhnVQNxsyzEB1M5oapPBnDIAyRKF6mSUF0OMIRY0Cg2soEAQDuZwboOKzYWGlBQsr7GrgZq5h4PwAorkOMMyH29uAai+aGrh4GdQ97AlwN2P4F00NXNyW4XYCmy7Qsgu82+DhzIEazmhq4OLMM8QY+DYDGZaN0HSVBMQtKHrR1KCmcx4i8gIPZl6gWO8BIvQeoIpe7GWCIhHlhiIAE7xGbcKqzjgAAAAKdEVYdERlcHRoAAAAAAVXSRWDAAAAAElFTkSuQmCC" alt="[-5,5] \times [-5,5]" style="vertical-align: -5px"/> :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ot</span><span class="o">.</span><span class="n">ResourceMap</span><span class="o">.</span><span class="n">SetAsUnsignedInteger</span><span class="p">(</span><span class="s2">&quot;Contour-DefaultLevelsNumber&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">graphPDF</span> <span class="o">=</span> <span class="n">dist</span><span class="o">.</span><span class="n">drawPDF</span><span class="p">([</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="n">graphPDF</span><span class="o">.</span><span class="n">setTitle</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;2D-PDF of the input variables $(X_1, X_2)$&quot;</span><span class="p">)</span>
<span class="n">graphPDF</span><span class="o">.</span><span class="n">setXTitle</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$x_1$&quot;</span><span class="p">)</span>
<span class="n">graphPDF</span><span class="o">.</span><span class="n">setYTitle</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$x_2$&quot;</span><span class="p">)</span>
<span class="n">graphPDF</span><span class="o">.</span><span class="n">setLegendPosition</span><span class="p">(</span><span class="s2">&quot;bottomright&quot;</span><span class="p">)</span>
<span class="n">view</span> <span class="o">=</span> <span class="n">otv</span><span class="o">.</span><span class="n">View</span><span class="p">(</span><span class="n">graphPDF</span><span class="p">)</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_plot_multi_form_001.png" srcset="../../_images/sphx_glr_plot_multi_form_001.png" alt="2D-PDF of the input variables $(X_1, X_2)$" class = "sphx-glr-single-img"/><p>We then define a model <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAARBAMAAAAWDSDWAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAnYt080gyYOkYr937z7+pyr0UAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAASklEQVQI12NgYGBgVAYSDIomINI1HUiwfQAxmRuABOeSrgIgxa0AEuEJAJHzQQRDCZiUBZMXweRREMEJ0so++QKQ5K8DKWdSAhIAA2AK9+QZIWMAAAAKdEVYdERlcHRoAAAAAAQgTiUVAAAAAElFTkSuQmCC" alt="f" style="vertical-align: -4px"/> which maps a 2D-vector X = (X_1,X_2) to a
scalar output <cite>Y = f(X)</cite>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">SymbolicFunction</span><span class="p">([</span><span class="s2">&quot;x0&quot;</span><span class="p">,</span> <span class="s2">&quot;x1&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;5.0-x1-0.5*(x0-0.1)^2&quot;</span><span class="p">])</span>
<span class="n">graphModel</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">draw</span><span class="p">([</span><span class="o">-</span><span class="mf">8.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">8.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">8.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">])</span>
<span class="n">graphModel</span><span class="o">.</span><span class="n">setXTitle</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$x_1$&quot;</span><span class="p">)</span>
<span class="n">graphModel</span><span class="o">.</span><span class="n">setXTitle</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$x_2$&quot;</span><span class="p">)</span>
<span class="n">graphModel</span><span class="o">.</span><span class="n">setTitle</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Isolines of the model : $Y = f(X)$&quot;</span><span class="p">)</span>
<span class="n">view</span> <span class="o">=</span> <span class="n">otv</span><span class="o">.</span><span class="n">View</span><span class="p">(</span><span class="n">graphModel</span><span class="p">)</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_plot_multi_form_002.png" srcset="../../_images/sphx_glr_plot_multi_form_002.png" alt="Isolines of the model : $Y = f(X)$" class = "sphx-glr-single-img"/><p>We create random vectors for the input and output variables :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">RandomVector</span><span class="p">(</span><span class="n">dist</span><span class="p">)</span>
<span class="n">Y</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">CompositeRandomVector</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">X</span><span class="p">)</span>
</pre></div>
</div>
<p>The failure domain <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAANBAMAAABr8kJMAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAi937dGDPMp1I8+mvvxhkVxmfAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAY0lEQVQI12NgYFT+/1mFgYE1tb5hxnoFhmKG+Q4MbD8YPBn8CxgYrBkYGM4DsTIQZwPxbSBeA8S6DAx8X4H0dwYGxg8MDLwHGBiYEhgYnIBC/A4MPEAuQzxDYSqQYrW3PgmkAIaxE6PXjPnPAAAACnRFWHREZXB0aAAAAAAAJyPhDAAAAABJRU5ErkJggg==" alt="\mathcal{D}" style="vertical-align: 0px"/> is <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQsAAAAVBAMAAACj0NY+AAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAi937dGDPMp1I8+mvvxhkVxmfAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADmElEQVRIx81WXUgUURQ+M+7s7Oo6u0VQiMG2Fj0p+hiGjSWUkbiVRISRBEp/xEYoQcruQwkWwRIFQg+7RD0EYSYLBUpI+FIIhQ8KRTKBRISgEFEPoZ1z597ZmXUuLETQhXv3zrkf537znZ8dgH8zArXv4T8Y1+DS3zsxPiV9rF/9wSE/4wPYTD9CEiMjh95nq1K3/n1nyUlVxg/fI+HskV+ZvDDx0MTNLE59mu7eAhD0g/KhPaelN50ZfRb3nkRTfm+dlGjX6nlaDsJgB944hvsI+dl2GOCmG2pYDvhkLTrN4fNVyJkQ/FUGjSpZCKtKaQRDKQhmca+S4Uk/wLgbqvcJ9+FxeAGwgo/t0Ilrcxk0WmU0Iib7+TyXMDmNcAxGdNyP0qWrWDcxD1Sf48KqJtwRt73DWVcGjd0yGhpLGmWX5agRSGpJSscFKl1UQk15oGC8tplHs3Bc3HYR50evY5Kpa+HoosfYiF46+rc7gS0CGmmpLQZl6ASk13/jHlPOeDuVhAoH3shRt5k+uRQlhk3jKc56nNV9NKbZMYbNvBt7jNt5MrIekAe4F95RKRJVAHCs0guKLF9WzzbzQtPoLhWXSge+Kl6ihvQ4kyImUXJp/MDlp+e9wwUq8ZwVcxt1FDcTXlNgKc57AALsZtkirrTVGPrCt0FSrgJz9brjr0VEp96y1UAmWoFiigSrpz00jjGxh72BClO2hzC2bSLth0WzpNoMTSQSPEUjoyanwQLMmpnwN8Z7/RSLbToLnRYY8yiHip73lyTdLVoKJV0qTwVn2rIAB9jNkgKuZYq50dNgb9toOYXzm+PPzg3lJS+FJBxApyRC1IQIE8OVGysWaPoaZDy5gR6SaSskaHDArPAdL9JoHXC1XRKhwoEz6LLo2pg3w6xeME3gSm9pCWLu1ihjirdsX4GSr7G2Eg39MnAANUudMegQNKohuMSkMRiNcySixeEMqu1ySj1O7YsqRdvX/AZ8aAwe7G73Gm+APtM/kyUa4SbgAGqWSszVNwKTH87r9XuZhRXVHkock8OVmNfnoSNJSZeStq8BV8kEhJGapWq5u2hxsFZuUInq4l9Rtcq9TXogXOj5Ig3WLAckXoYIsMQYNJS8yoZm6U/D9DHq/F+6uykF4pw1y0WJlxHydDorGNFgUC2R4MVtj5z0E+6Rn7WruHXTVLISL5SOyiZbNVMO1QrSzy/ND6/7Y3WZk9SGvS77+voDd8zsNtbrOm0AAAAKdEVYdERlcHRoAAAAAAVXSRWDAAAAAElFTkSuQmCC" alt="\mathcal{D} = \{ x=(x_1, x_2) \in \mathbb{R}^2 / f(x) \geq 0 \}" style="vertical-align: -5px"/></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">failureEvent</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">ThresholdEvent</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="n">ot</span><span class="o">.</span><span class="n">Less</span><span class="p">(),</span> <span class="mf">0.0</span><span class="p">)</span>
</pre></div>
</div>
<p>We shall represent the failure domain event using a <a class="reference internal" href="../../user_manual/_generated/openturns.Contour.html#openturns.Contour" title="openturns.Contour"><code class="xref py py-class docutils literal notranslate"><span class="pre">Contour</span></code></a> object.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="p">,</span> <span class="n">ny</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">25</span>
<span class="n">xx</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Box</span><span class="p">([</span><span class="n">nx</span><span class="p">],</span> <span class="n">ot</span><span class="o">.</span><span class="n">Interval</span><span class="p">([</span><span class="o">-</span><span class="mf">8.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">8.0</span><span class="p">]))</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
<span class="n">yy</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Box</span><span class="p">([</span><span class="n">ny</span><span class="p">],</span> <span class="n">ot</span><span class="o">.</span><span class="n">Interval</span><span class="p">([</span><span class="o">-</span><span class="mf">8.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">8.0</span><span class="p">]))</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
<span class="n">inputData</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Box</span><span class="p">([</span><span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">],</span> <span class="n">ot</span><span class="o">.</span><span class="n">Interval</span><span class="p">([</span><span class="o">-</span><span class="mf">8.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">8.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">8.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">]))</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
<span class="n">outputData</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">inputData</span><span class="p">)</span>
<span class="n">mycontour</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Contour</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span> <span class="n">yy</span><span class="p">,</span> <span class="n">outputData</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;0.0&quot;</span><span class="p">])</span>
<span class="n">mycontour</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">mycontour</span><span class="o">.</span><span class="n">setLineStyle</span><span class="p">(</span><span class="s2">&quot;dashed&quot;</span><span class="p">)</span>
<span class="n">graphModel</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">mycontour</span><span class="p">)</span>
<span class="n">view</span> <span class="o">=</span> <span class="n">otv</span><span class="o">.</span><span class="n">View</span><span class="p">(</span><span class="n">graphModel</span><span class="p">)</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_plot_multi_form_003.png" srcset="../../_images/sphx_glr_plot_multi_form_003.png" alt="Isolines of the model : $Y = f(X)$" class = "sphx-glr-single-img"/><p>In the physical space the failure domain boundary is the dashed black curve. We recall that one of
the steps of the FORM method is to find the closest point of the failure domain boundary to the origin.
Here we see that the symmetry of the domain implies that two points exist, one in the <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAPBAMAAAC7N+rPAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAYHS/MosYSN3znc/pr/uvp9FeAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAvUlEQVQY02NgQAC2BDhTKlaAARmw7HaAstgPMBxhQJWzgKrlUGBYjCrFwHZDAUzzFzDIASkhE1EzhOSaABBZ78BQn8DArlARMBFJYyRIn7wDSJYLKB/ApgGTYWxOgOiSBzlpNQMDkw5Uhuks2AP+BQz6IMYhIPaByLCegtD8Agx6QBNYvjEsgErlNkE1cwSAzIpkncbqAJFibITb2ADysq+KrDrcQDjQ0oUHFLoUEvDEKcN4LwREdoCAAkwQALjHInOD2UCOAAAACnRFWHREZXB0aAAAAAADviqwtgAAAABJRU5ErkJggg==" alt="x_1 \geq 0" style="vertical-align: -3px"/> half-space and the other in the <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAPBAMAAAC7N+rPAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAYHS/MosYSN3znc/pr/uvp9FeAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAwUlEQVQY02NgQANsDiBSKlaAAUPGogBIsh9gOIIuw7IDJMPAocCwGE2GsRtsHAN/AYMckBIyETWDyjD1JkAY9Q4M9QkM7AoVARMhAuyzoDIM8g4gWS6gfACbBljkhgIDXJc8yOjVQJN0IEJrAiC0fwGDPsiEQ0DsA1WucQ3iDAEGPaCjWL4xLIBLMUiYgB0fADIrknUaqwNCiqEaZCZjA8jLviqy6gxIUhCgpQsPKB8GnMATpwzjvRAQ2QECML8xAABEYCLhjQP7HgAAAAp0RVh0RGVwdGgAAAAAA74qsLYAAAAASUVORK5CYII=" alt="x_1 \leq 0" style="vertical-align: -3px"/> half-space.</p>
<p>We build the <a class="reference internal" href="../../user_manual/_generated/openturns.MultiFORM.html#openturns.MultiFORM" title="openturns.MultiFORM"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiFORM</span></code></a> algorithm in a similar fashion as the <a class="reference internal" href="../../user_manual/_generated/openturns.FORM.html#openturns.FORM" title="openturns.FORM"><code class="xref py py-class docutils literal notranslate"><span class="pre">FORM</span></code></a> algorithm.
We choose an optimization solver, here the Cobyla solver, and a starting point, the mean of the distribution <cite>dist</cite>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">solver</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Cobyla</span><span class="p">()</span>
<span class="n">starting_pt</span> <span class="o">=</span> <span class="n">dist</span><span class="o">.</span><span class="n">getMean</span><span class="p">()</span>
<span class="n">algo</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">MultiFORM</span><span class="p">(</span><span class="n">solver</span><span class="p">,</span> <span class="n">failureEvent</span><span class="p">,</span> <span class="n">starting_pt</span><span class="p">)</span>
</pre></div>
</div>
<p>We are ready to run the algorithm and store the result in the <a class="reference internal" href="../../user_manual/_generated/openturns.MultiFORM.html#openturns.MultiFORM" title="openturns.MultiFORM"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiFORM</span></code></a> class :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">algo</span><span class="o">.</span><span class="n">getResult</span><span class="p">()</span>
</pre></div>
</div>
<p>We have access to the results with the getFORMResultCollection method which produces a collection of <a class="reference internal" href="../../user_manual/_generated/openturns.FORMResult.html#openturns.FORMResult" title="openturns.FORMResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">FORMResult</span></code></a> :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">coll</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">getFORMResultCollection</span><span class="p">()</span>
</pre></div>
</div>
<p>The length of this collection is the number of design points :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">n_design_pts</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">coll</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of design points :&quot;</span><span class="p">,</span> <span class="n">n_design_pts</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Number of design points : 2
</pre></div>
</div>
<p>We have access to the design points with the getPhysicalSpaceDesignPoint method for each element of
the collection <cite>coll</cite>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">designPointPhysicalSpace1</span> <span class="o">=</span> <span class="n">coll</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getPhysicalSpaceDesignPoint</span><span class="p">()</span>
<span class="n">designPointPhysicalSpace2</span> <span class="o">=</span> <span class="n">coll</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">getPhysicalSpaceDesignPoint</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">coll</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getPhysicalSpaceDesignPoint</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">coll</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">getPhysicalSpaceDesignPoint</span><span class="p">())</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[-2.74084,0.964806]
[2.91584,1.0355]
</pre></div>
</div>
<p>We visualize them on the previous graph with red circle dots.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cloud</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Cloud</span><span class="p">([</span><span class="n">designPointPhysicalSpace1</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="p">[</span><span class="n">designPointPhysicalSpace1</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">cloud</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">cloud</span><span class="o">.</span><span class="n">setPointStyle</span><span class="p">(</span><span class="s2">&quot;fcircle&quot;</span><span class="p">)</span>
<span class="n">cloud</span><span class="o">.</span><span class="n">setLegend</span><span class="p">(</span><span class="s2">&quot;design point no. 1&quot;</span><span class="p">)</span>
<span class="n">graphModel</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">cloud</span><span class="p">)</span>

<span class="n">cloud</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Cloud</span><span class="p">([</span><span class="n">designPointPhysicalSpace2</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="p">[</span><span class="n">designPointPhysicalSpace2</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">cloud</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">cloud</span><span class="o">.</span><span class="n">setPointStyle</span><span class="p">(</span><span class="s2">&quot;fcircle&quot;</span><span class="p">)</span>
<span class="n">cloud</span><span class="o">.</span><span class="n">setLegend</span><span class="p">(</span><span class="s2">&quot;design point no. 2&quot;</span><span class="p">)</span>
<span class="n">graphModel</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">cloud</span><span class="p">)</span>
<span class="n">graphModel</span><span class="o">.</span><span class="n">setLegendPosition</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">view</span> <span class="o">=</span> <span class="n">otv</span><span class="o">.</span><span class="n">View</span><span class="p">(</span><span class="n">graphModel</span><span class="p">)</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_plot_multi_form_004.png" srcset="../../_images/sphx_glr_plot_multi_form_004.png" alt="Isolines of the model : $Y = f(X)$" class = "sphx-glr-single-img"/><p>We recall that the FORM approximate is based on the substitution of the failure domain by the half-space defined by the tangent at the design point.
Here we can clearly see that this would miss half of the information. That is why both design points are needed.</p>
<p>For each design point we have a probability associated to the approximation by the half-space :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pf1</span> <span class="o">=</span> <span class="n">coll</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">getEventProbability</span><span class="p">()</span>
<span class="n">pf2</span> <span class="o">=</span> <span class="n">coll</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">getEventProbability</span><span class="p">()</span>
</pre></div>
</div>
<p>The probability of failure is the given by the <a class="reference internal" href="../../user_manual/_generated/openturns.MultiFORMResult.html#openturns.MultiFORMResult.getEventProbability" title="openturns.MultiFORMResult.getEventProbability"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getEventProbability()</span></code></a> which is the sum of the two previous probabilities <cite>pf1</cite> and <cite>pf2</cite> :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pf</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">getEventProbability</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Probability of failure : &quot;</span><span class="p">,</span> <span class="n">pf</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    wrt design point 1 : &quot;</span><span class="p">,</span> <span class="n">pf1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    wrt design point 2 : &quot;</span><span class="p">,</span> <span class="n">pf2</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Probability of failure :  0.002818746699960961
    wrt design point 1 :  0.0018322049824407664
    wrt design point 2 :  0.0009865417175202401
</pre></div>
</div>
<p>Display the figures</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Reset default settings</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ot</span><span class="o">.</span><span class="n">ResourceMap</span><span class="o">.</span><span class="n">Reload</span><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-reliability-sensitivity-reliability-plot-multi-form-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/8338aec6ac9d88bf81d2746b56abac12/plot_multi_form.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_multi_form.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/398590f05a42d69c5833dd2b96dc9f84/plot_multi_form.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_multi_form.ipynb</span></code></a></p>
</div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="plot_nais.html" title="Non parametric Adaptive Importance Sampling (NAIS)"
             >next</a> |</li>
        <li class="right" >
          <a href="plot_probability_simulation_results.html" title="Exploitation of simulation algorithm results"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenTURNS 1.22dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../examples/examples.html" >Examples</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../index.html" >Reliability &amp; Sensitivity</a> &#187;</li>
          <li class="nav-item nav-item-4"><a href="index.html" >Reliability</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Use the FORM algorithm in case of several design points</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005-2022 Airbus-EDF-IMACS-ONERA-Phimeca.
      Last updated on Jan 01, 2022.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>