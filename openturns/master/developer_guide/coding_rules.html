<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Coding rules &#8212; OpenTURNS 1.27dev documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d75fae25" />
    <link rel="stylesheet" type="text/css" href="../_static/openturns.css?v=105494d3" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=4652c2b6" />
    <link rel="stylesheet" type="text/css" href="../_static/css/sphx_glr.css?v=2ae27345" />
    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=c75cadd3"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=35a8b989"></script>
    <script src="../_static/js/mysearchtools.js?v=40848abd"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Windows port" href="windows_port.html" />
    <link rel="prev" title="Git workflow" href="git_workflow.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="http://www.openturns.org/">Home</a></li>
    <li><a href="../install.html">Get it</a></li>
    <li><a href="../contents.html">Doc</a></li>
    <li><a href="https://openturns.discourse.group/">Forum</a></li>
    <li><a href="https://github.com/openturns/openturns/wiki/Modules">Modules</a></li>
    <li><a href="https://github.com/openturns">Code</a></li>
    <li><a href="https://github.com/openturns/openturns/issues">Bugs</a></li>
  </ul>
  <a href="../index.html">
    <h1>
      <img src="../_static/logo-openturns-wo-bg.png" alt="" width=100px height=100px />
      OpenTURNS
    </h1>
    <h2> An Open source initiative for the Treatment of Uncertainties, Risks'N Statistics</h2>
  </a>
</div>

    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="windows_port.html" title="Windows port"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="git_workflow.html" title="Git workflow"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">OpenTURNS 1.27dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="developer_guide.html" accesskey="U">Contribute</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Coding rules</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Coding rules</a><ul>
<li><a class="reference internal" href="#packages">Packages</a></li>
<li><a class="reference internal" href="#file-names">File names</a><ul>
<li><a class="reference internal" href="#c-files">C++ Files</a></li>
<li><a class="reference internal" href="#header-files">Header files</a></li>
<li><a class="reference internal" href="#test-files">Test files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#c">C++</a><ul>
<li><a class="reference internal" href="#compilation-flags">Compilation flags</a></li>
<li><a class="reference internal" href="#namespaces">Namespaces</a></li>
<li><a class="reference internal" href="#names">Names</a></li>
<li><a class="reference internal" href="#class-declaration">Class declaration</a></li>
<li><a class="reference internal" href="#explicit-keyword">Explicit keyword</a></li>
<li><a class="reference internal" href="#inheritance">Inheritance</a></li>
<li><a class="reference internal" href="#function-and-method-declaration">Function and method declaration</a></li>
<li><a class="reference internal" href="#variable-declaration">Variable declaration</a></li>
<li><a class="reference internal" href="#constant-declaration">Constant declaration</a></li>
<li><a class="reference internal" href="#comments-and-internal-documentation">Comments and internal documentation</a></li>
<li><a class="reference internal" href="#memory-allocation-and-deallocation">Memory allocation and deallocation</a></li>
<li><a class="reference internal" href="#assignment-and-initialization">Assignment and initialization</a></li>
<li><a class="reference internal" href="#instructions">Instructions</a></li>
<li><a class="reference internal" href="#exceptions">Exceptions</a></li>
<li><a class="reference internal" href="#exception-handling">Exception handling</a></li>
<li><a class="reference internal" href="#error-messages">Error messages</a></li>
<li><a class="reference internal" href="#c-17">C++ 17</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python">Python</a><ul>
<li><a class="reference internal" href="#modules-and-packages">Modules and packages</a></li>
<li><a class="reference internal" href="#id1">Names</a></li>
<li><a class="reference internal" href="#id2">Comments and internal documentation</a></li>
<li><a class="reference internal" href="#indentation">Indentation</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="git_workflow.html"
                          title="previous chapter">Git workflow</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="windows_port.html"
                          title="next chapter">Windows port</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/developer_guide/coding_rules.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="coding-rules">
<h1>Coding rules<a class="headerlink" href="#coding-rules" title="Link to this heading">¶</a></h1>
<section id="packages">
<h2>Packages<a class="headerlink" href="#packages" title="Link to this heading">¶</a></h2>
<p>In order to structure the code of the project, the various elements
(classes, functions, libraries, data) are logically organized in
packages. This chapter describes the rules to be followed for the
definition, management and use of these packages.</p>
<p>The code is mainly located in a single library. This library is
organized as a set of modules. However, there may be several
interacting libraries in the future.</p>
<p>The library is interfaced with Python through a Python module
exposing almost all the classes and operators.</p>
<p>For the moment, the entire set of classes is located in <strong>libOT.so</strong> for
the dynamic part and in <strong>libOT.a</strong> for the static part.</p>
<p>Example showing the import of modules via the <strong>openturns</strong> Python
package:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">openturns</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">openturns.base</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">openturns.uncertainty</span>
</pre></div>
</div>
<p>Example showing the direct import of module operators or classes via
the <strong>openturns</strong> Python package:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">openturns</span><span class="w"> </span><span class="kn">import</span> <span class="n">Point</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">openturns.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">Sample</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">openturns.uncertainty</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomVector</span>
</pre></div>
</div>
</section>
<section id="file-names">
<h2>File names<a class="headerlink" href="#file-names" title="Link to this heading">¶</a></h2>
<p>The definition of filenames obeys a few rules described below, according
to the programming languages used. A general rule is preliminarily
defined in order to facilitate the automatic generation of the
<strong>Makefile</strong> files. The file names consist of sequences of characters
separated by a dot. The first part of the name is called the <em>base</em> and
the second is called the <em>suffix</em> (or <em>extension</em>).</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Extension</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>.hxx .hh .hpp</strong></p></td>
<td><p>Header file containing the declaration of functions and classes and the definition of templates for C++</p></td>
</tr>
<tr class="row-odd"><td><p><strong>.cxx .cc .cpp</strong></p></td>
<td><p>Source code file containing the definition (implementation) of C++ functions and classes</p></td>
</tr>
<tr class="row-even"><td><p><strong>.c</strong></p></td>
<td><p>Source code file containing the definition of C functions</p></td>
</tr>
<tr class="row-odd"><td><p><strong>.h</strong></p></td>
<td><p>Header file containing the declaration of functions in C</p></td>
</tr>
<tr class="row-even"><td><p><strong>.py</strong></p></td>
<td><p>Python file</p></td>
</tr>
<tr class="row-odd"><td><p><strong>.R</strong></p></td>
<td><p>R file</p></td>
</tr>
<tr class="row-even"><td><p><strong>.cmake</strong></p></td>
<td><p>CMake script</p></td>
</tr>
<tr class="row-odd"><td><p><strong>.sh</strong></p></td>
<td><p>Shell script</p></td>
</tr>
<tr class="row-even"><td><p><strong>.bat</strong></p></td>
<td><p>DOS script</p></td>
</tr>
<tr class="row-odd"><td><p><strong>.conf</strong></p></td>
<td><p>configuration file</p></td>
</tr>
<tr class="row-even"><td><p><strong>.csv</strong></p></td>
<td><p>Comma Separated Value file (for samples)</p></td>
</tr>
<tr class="row-odd"><td><p><strong>.i</strong></p></td>
<td><p>SWIG interface file</p></td>
</tr>
<tr class="row-even"><td><p><strong>.in</strong></p></td>
<td><p>Template file</p></td>
</tr>
<tr class="row-odd"><td><p><strong>.log</strong></p></td>
<td><p>Output log file</p></td>
</tr>
<tr class="row-even"><td><p><strong>.mws</strong></p></td>
<td><p>Maple script file</p></td>
</tr>
<tr class="row-odd"><td><p><strong>.nsi</strong></p></td>
<td><p>Windows installer file</p></td>
</tr>
<tr class="row-even"><td><p><strong>.sce</strong></p></td>
<td><p>Scilab script file</p></td>
</tr>
<tr class="row-odd"><td><p><strong>.a</strong></p></td>
<td><p>Archive file containing statically linked objects</p></td>
</tr>
<tr class="row-even"><td><p><strong>.so</strong></p></td>
<td><p>Shared object file containing dynamically linked objects</p></td>
</tr>
<tr class="row-odd"><td><p><strong>.txt</strong></p></td>
<td><p>Text file</p></td>
</tr>
<tr class="row-even"><td><p><strong>.xml</strong></p></td>
<td><p>XML file (mainly for wrapper description file)</p></td>
</tr>
</tbody>
</table>
<p>For example, it is not recommended to give the following names to two
files in the same directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">matrix</span><span class="o">.</span><span class="n">cxx</span>
<span class="n">Matrix</span><span class="o">.</span><span class="n">cxx</span>
</pre></div>
</div>
<section id="c-files">
<h3>C++ Files<a class="headerlink" href="#c-files" title="Link to this heading">¶</a></h3>
<p>Example: one file per class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Sample</span><span class="o">.</span><span class="n">hxx</span> <span class="n">declares</span> <span class="k">class</span><span class="w"> </span><span class="nc">Sample</span>
<span class="n">Matrix</span><span class="o">.</span><span class="n">hxx</span> <span class="n">declares</span> <span class="k">class</span><span class="w"> </span><span class="nc">Matrix</span>
<span class="o">...</span>
</pre></div>
</div>
<p>Incorrect example: one file for all classes of a model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Model</span><span class="o">.</span><span class="n">hxx</span> <span class="c1"># contains all the declaration of all the classes of the internal model</span>
</pre></div>
</div>
<p>The preceding rule has one exception: in order to facilitate the use of
several related classes, the header files belonging to the same module
are grouped in a single header file, which bears the same name as the
module and is prefixed by <strong>OT</strong>.</p>
<p>Example: using all the classes of the Base module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &quot;openturns/OTBase.hxx&quot;</span>
</pre></div>
</div>
</section>
<section id="header-files">
<h3>Header files<a class="headerlink" href="#header-files" title="Link to this heading">¶</a></h3>
<p>The header files are used to declare functions and classes (they are
sometimes called <em>interface definition</em> or <em>interface specification</em>).</p>
<p>Example for a file named <strong>Sample.hxx</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#ifndef OPENTURNS_SAMPLE_HXX</span>
<span class="c1">#define OPENTURNS_SAMPLE_HXX</span>
<span class="o">...</span>
<span class="c1">#endif /* OPENTURNS_SAMPLE_HXX */</span>
</pre></div>
</div>
<p>Example of header file inclusion:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &quot;openturns/OSS.hxx&quot;</span>
<span class="c1">#include &quot;openturns/Point.hxx&quot;</span>
</pre></div>
</div>
<p>Example for the inclusion of system function or external library header
files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &lt;cstring&gt;</span>
<span class="c1">#include &lt;boost/python.hpp&gt;</span>
</pre></div>
</div>
<p>Example for the inclusion of non standard system function header files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="p">(</span>
 <span class="c1">#include &lt;nonstandard.h&gt;</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="test-files">
<h3>Test files<a class="headerlink" href="#test-files" title="Link to this heading">¶</a></h3>
<p>Example of names for test files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">t_Matrix_construction</span><span class="o">.</span><span class="n">cxx</span>
<span class="n">t_Matrix_assignment</span><span class="o">.</span><span class="n">cxx</span>
<span class="n">t_Matrix_bug7654</span><span class="o">.</span><span class="n">cxx</span>
<span class="n">t_Matrix_vectorMultiplication</span><span class="o">.</span><span class="n">cxx</span>
</pre></div>
</div>
</section>
</section>
<section id="c">
<h2>C++<a class="headerlink" href="#c" title="Link to this heading">¶</a></h2>
<p>This section deals with coding rules for the C++ language.</p>
<section id="compilation-flags">
<h3>Compilation flags<a class="headerlink" href="#compilation-flags" title="Link to this heading">¶</a></h3>
<p>It is helpful to enable some compilation warnings to avoid questionable constructions.
You may also want to enable debug symbols for further use with a debugger.</p>
<p>GCC compilation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">-</span><span class="n">DCMAKE_BUILD_TYPE</span><span class="o">=</span><span class="n">RelWithDebInfo</span> <span class="o">-</span><span class="n">DCMAKE_CXX_FLAGS</span><span class="o">=</span><span class="s2">&quot;-Wall -Wextra -D_GLIBCXX_ASSERTIONS&quot;</span> <span class="o">-</span><span class="n">B</span> <span class="n">build</span> <span class="o">.</span>
<span class="n">make</span> <span class="o">-</span><span class="n">C</span> <span class="n">build</span>
</pre></div>
</div>
</section>
<section id="namespaces">
<h3>Namespaces<a class="headerlink" href="#namespaces" title="Link to this heading">¶</a></h3>
<p>Example of <strong>OpenTURNS</strong> namespace definition for simple types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span> <span class="o">**</span>
<span class="o">*</span> <span class="nd">@file</span>       <span class="n">OTtypes</span><span class="o">.</span><span class="n">hxx</span>
<span class="o">*</span> <span class="o">...</span>
<span class="o">*</span> <span class="o">/</span>
<span class="n">namespace</span> <span class="n">OT</span>
<span class="p">{</span>
<span class="o">/*</span> <span class="o">&lt;</span> <span class="n">Declarations</span> <span class="n">of</span> <span class="n">simple</span> <span class="n">types</span> <span class="o">&gt;</span> <span class="o">*</span> <span class="o">/</span>

<span class="o">/*</span> <span class="o">&lt;</span> <span class="n">Declarations</span> <span class="n">of</span> <span class="n">objects</span> <span class="ow">and</span> <span class="n">functions</span> <span class="o">&gt;</span> <span class="o">*</span> <span class="o">/</span>
<span class="p">};</span>

<span class="o">//</span> <span class="n">Alias</span> <span class="k">for</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">use</span> <span class="n">of</span> <span class="n">XXX</span>
<span class="n">namespace</span> <span class="n">OpenTURNS</span> <span class="o">=</span> <span class="n">OT</span><span class="p">;</span>
</pre></div>
</div>
<p>Example of use by making all the definitions contained in the namespace
available:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &quot;openturns/OT.hxx&quot;</span>
<span class="n">using</span> <span class="n">namespace</span> <span class="n">OT</span><span class="p">;</span>

<span class="n">void</span> <span class="n">f</span><span class="p">(</span><span class="n">Scalar</span> <span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="names">
<h3>Names<a class="headerlink" href="#names" title="Link to this heading">¶</a></h3>
<p>Names of classes, variables and methods consist of concatenated ful words.
Each word begins with an uppercase, except for the first one.
The first word begins with a lowercase except for class names and static methods or variables.
No abbreviations are allowed, except if it is found in the literature, for example FORM.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Sample</span> <span class="p">{</span>
<span class="o">...</span>
<span class="p">};</span> <span class="o">/*</span> <span class="n">end</span> <span class="k">class</span><span class="w"> </span><span class="nc">Sample</span> <span class="o">*/</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
<span class="n">Bool</span> <span class="n">myCondition</span> <span class="o">=</span> <span class="n">false</span><span class="p">;</span>
<span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>class Environment : public Object {
...
private:
Scalar density_; //&lt;! material density in environment (g/cm3)
...
}; /* end class Environment */
</pre></div>
</div>
<p>NB: It is common for the underscore to be used as a prefix for private
attribute names. However, this method may trigger conflicts with
internal variables or definitions used by the compilers. For this
reason, the underscore is used as a suffix.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Object</span> <span class="p">{</span>
<span class="o">...</span>
<span class="n">private</span><span class="p">:</span>
<span class="n">static</span> <span class="n">String</span> <span class="n">ClassName_</span><span class="p">;</span>
<span class="o">...</span>
<span class="p">};</span> <span class="o">/*</span> <span class="n">end</span> <span class="k">class</span><span class="w"> </span><span class="nc">Object</span> <span class="o">*/</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Object</span>
<span class="p">{</span>
<span class="n">public</span><span class="p">:</span>
  <span class="o">//*</span> <span class="n">returns</span> <span class="n">a</span> <span class="k">class</span><span class="w"> </span><span class="nc">identifier</span> <span class="n">based</span> <span class="n">on</span> <span class="n">its</span> <span class="n">name</span>
  <span class="n">static</span>  <span class="n">String</span> <span class="n">GetClassName</span><span class="p">();</span> <span class="o">...</span>
<span class="p">};</span> <span class="o">/*</span> <span class="n">end</span> <span class="k">class</span><span class="w"> </span><span class="nc">Object</span> <span class="o">*/</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>int
initializeConversion()
{
  static Bool IsInitialized = false;
  if (! IsInitialized) {
    ...
    IsInitialized = true;
  }
};
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">UnsignedInteger</span> <span class="n">MaximumOfRetries</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">Scalar</span> <span class="n">reactionRate</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">;</span>
  <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Sample</span>
<span class="p">{</span>
  <span class="n">UnsignedInteger</span> <span class="n">getDimension</span> <span class="p">()</span> <span class="n">const</span><span class="p">;</span>
  <span class="o">...</span>
<span class="p">};</span> <span class="o">/*</span> <span class="n">end</span> <span class="k">class</span><span class="w"> </span><span class="nc">Sample</span> <span class="o">*/</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Sample</span> <span class="p">{</span>
<span class="p">};</span> <span class="o">/*</span> <span class="n">end</span> <span class="k">class</span><span class="w"> </span><span class="nc">Sample</span> <span class="o">*/</span>

<span class="n">void</span> <span class="n">removeElement</span><span class="p">(</span><span class="n">const</span> <span class="n">UnsignedInteger</span> <span class="n">index</span><span class="p">);</span>

<span class="n">Point</span> <span class="n">meanValue</span><span class="p">;</span>
</pre></div>
</div>
<p>Example of tolerated notations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UnsignedInteger</span> <span class="n">i</span><span class="p">;</span>                <span class="o">//</span> <span class="n">loop</span> <span class="n">indices</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">and</span> <span class="n">k</span> <span class="n">are</span> <span class="n">common</span>
<span class="n">UnsignedInteger</span> <span class="n">j</span><span class="p">;</span>
<span class="n">UnsignedInteger</span> <span class="n">k</span><span class="p">;</span>

<span class="n">UnsignedInteger</span> <span class="n">nbMaxElements</span><span class="p">;</span>    <span class="o">//</span> <span class="n">usual</span> <span class="n">abbreviations</span><span class="p">:</span> <span class="n">nb</span><span class="p">,</span> <span class="n">Max</span>

<span class="n">void</span>
<span class="n">addPoint</span><span class="p">(</span><span class="n">Point</span> <span class="n">pt</span><span class="p">)</span> <span class="p">{</span> <span class="o">//</span> <span class="n">no</span> <span class="n">confusion</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">context</span>
  <span class="n">add</span><span class="p">(</span><span class="n">pt</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Incorrect examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Scalar</span> <span class="n">a</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">m1</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">m3</span><span class="p">;</span>
<span class="n">Scalar</span> <span class="n">zzz</span><span class="p">,</span> <span class="n">zz2</span><span class="p">;</span>
<span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="n">foo</span><span class="p">,</span> <span class="o">*</span><span class="n">hello</span><span class="p">,</span> <span class="n">tempo</span><span class="p">,</span> <span class="n">bogus</span><span class="p">;</span>

<span class="n">void</span> <span class="n">adElt</span><span class="p">(</span><span class="n">Point</span> <span class="n">pt</span><span class="p">);</span>

<span class="n">UnsignedInteger</span> <span class="n">numSmplPt</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="class-declaration">
<h3>Class declaration<a class="headerlink" href="#class-declaration" title="Link to this heading">¶</a></h3>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Buffer</span> <span class="p">{</span>
<span class="n">public</span> <span class="p">:</span>
  <span class="n">static</span> <span class="n">AThing</span> <span class="n">GetThing</span><span class="p">();</span>
<span class="n">protected</span><span class="p">:</span>
<span class="n">private</span> <span class="p">:</span>
  <span class="n">static</span> <span class="n">AThing</span> <span class="n">TheThing_</span><span class="p">;</span>

<span class="n">public</span> <span class="p">:</span>
  <span class="n">Scalar</span> <span class="n">getValue</span><span class="p">()</span> <span class="n">const</span><span class="p">;</span>
<span class="n">protected</span> <span class="p">:</span>
  <span class="n">Scalar</span> <span class="n">theValue_</span><span class="p">;</span>
<span class="n">private</span> <span class="p">:</span>
  <span class="o">/*</span> <span class="o">...</span> <span class="o">*/</span>
<span class="p">};</span> <span class="o">/*</span> <span class="n">end</span> <span class="k">class</span><span class="w"> </span><span class="nc">Buffer</span> <span class="o">*/</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">AnyClass</span> <span class="p">{</span>
<span class="n">public</span> <span class="p">:</span>
  <span class="o">/**</span> <span class="n">Default</span> <span class="n">constructor</span>  <span class="o">*/</span>
  <span class="n">AnyClass</span><span class="p">();</span>
  <span class="o">/**</span> <span class="n">Copy</span> <span class="n">constructor</span> <span class="o">*/</span>
  <span class="n">AnyClass</span><span class="p">(</span><span class="n">const</span> <span class="n">AnyClass</span> <span class="o">&amp;</span> <span class="n">other</span><span class="p">);</span>
  <span class="o">/**</span> <span class="n">Destructor</span> <span class="o">*/</span>
  <span class="n">virtual</span> <span class="o">~</span><span class="n">AnyClass</span><span class="p">();</span>
  <span class="o">/**</span> <span class="n">Copy</span> <span class="n">operator</span>  <span class="o">*/</span>
  <span class="n">AnyClass</span><span class="o">&amp;</span> <span class="n">operator</span> <span class="o">=</span> <span class="p">(</span><span class="n">const</span> <span class="n">AnyClass</span> <span class="o">&amp;</span> <span class="n">other</span><span class="p">);</span>
  <span class="o">/**</span> <span class="n">Comparison</span> <span class="n">operator</span> <span class="o">*/</span>
  <span class="n">Bool</span> <span class="n">operator</span> <span class="o">==</span> <span class="p">(</span><span class="n">const</span> <span class="n">AnyClass</span> <span class="o">&amp;</span> <span class="n">other</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
  <span class="o">/**</span> <span class="n">Stream</span> <span class="n">converter</span> <span class="o">*/</span>
  <span class="n">String</span> <span class="nb">repr</span><span class="p">()</span> <span class="n">const</span><span class="p">;</span>
  <span class="n">String</span> <span class="nb">str</span><span class="p">()</span> <span class="n">const</span><span class="p">;</span>

  <span class="o">/*</span> <span class="n">other</span> <span class="n">public</span> <span class="n">methods</span> <span class="o">...</span> <span class="o">*/</span>

<span class="n">private</span> <span class="p">:</span>
  <span class="n">UnsignedInteger</span> <span class="n">size_</span><span class="p">;</span>
  <span class="n">DataType</span> <span class="o">*</span> <span class="n">data_</span><span class="p">;</span>

  <span class="o">/*</span> <span class="n">other</span> <span class="n">private</span> <span class="n">methods</span> <span class="o">...</span> <span class="o">*/</span>
<span class="p">};</span> <span class="o">/*</span> <span class="n">end</span> <span class="k">class</span><span class="w"> </span><span class="nc">AnyClass</span> <span class="o">*/</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">AnyClass</span> <span class="p">{</span>
<span class="n">public</span> <span class="p">:</span>
  <span class="o">/*</span> <span class="o">...</span> <span class="o">*/</span>
<span class="n">private</span> <span class="p">:</span>
  <span class="n">UnsignedInteger</span> <span class="n">size_</span><span class="p">;</span>
  <span class="n">DataType</span> <span class="o">*</span> <span class="n">data_</span><span class="p">;</span>
<span class="p">};</span> <span class="o">/*</span> <span class="n">end</span> <span class="k">class</span><span class="w"> </span><span class="nc">AnyClass</span> <span class="o">*/</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Vector</span> <span class="p">{</span>
<span class="n">public</span> <span class="p">:</span>
  <span class="n">Vector</span> <span class="p">(</span><span class="n">Bool</span> <span class="n">someProperty</span><span class="p">,</span> <span class="n">UnsignedInteger</span> <span class="n">size</span><span class="p">,</span> <span class="n">Scalar</span> <span class="n">elt</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">);</span>
<span class="n">private</span> <span class="p">:</span>
  <span class="n">Bool</span> <span class="n">property_</span><span class="p">;</span>
  <span class="n">Collection</span><span class="o">&lt;</span><span class="n">Scalar</span><span class="o">&gt;</span> <span class="n">data_</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Example of a correct definition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Vector</span><span class="p">::</span><span class="n">Vector</span> <span class="p">(</span><span class="n">Bool</span> <span class="n">someProperty</span><span class="p">,</span> <span class="n">UnsignedInteger</span> <span class="n">size</span><span class="p">,</span> <span class="n">Scalar</span> <span class="n">elt</span><span class="p">)</span>
<span class="p">:</span> <span class="n">property_</span><span class="p">(</span><span class="n">someProperty</span><span class="p">)</span>
<span class="p">,</span> <span class="n">data_</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">elt</span><span class="p">)</span>
<span class="p">{</span> <span class="p">}</span>
</pre></div>
</div>
<p>Examples of incorrect definitions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Vector::Vector (Bool someProperty, UnsignedInteger size, Scalar elt)
: data_(size, elt)
, property_(someProperty)     // order of initialization
{ }

Vector::Vector (Bool someProperty, UnsignedInteger size, Scalar elt)
{
  property_ = someProperty;
  data_ = Collection&lt;Scalar&gt;(size, elt);
  // requires an assignment after the construction
  // processing is longer for complex objects!
}
</pre></div>
</div>
<p>Example: declaration of a pure virtual class A and of class B, derived
from A:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">A</span> <span class="p">{</span>
<span class="n">public</span> <span class="p">:</span>
  <span class="n">A</span><span class="p">();</span>                  <span class="o">//</span> <span class="n">constructor</span>
  <span class="n">virtual</span> <span class="o">~</span><span class="n">A</span><span class="p">();</span>          <span class="o">//</span> <span class="n">destructor</span>
  <span class="n">virtual</span> <span class="n">const</span> <span class="n">char</span> <span class="o">*</span> <span class="n">getClassName</span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>       <span class="o">//</span> <span class="n">pure</span> <span class="n">virtual</span> <span class="n">method</span>
<span class="p">};</span>

<span class="k">class</span><span class="w"> </span><span class="nc">B</span> <span class="p">:</span> <span class="n">public</span> <span class="n">A</span> <span class="p">{</span>
<span class="n">public</span> <span class="p">:</span>
  <span class="n">const</span> <span class="n">char</span> <span class="o">*</span> <span class="n">getClassName</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s2">&quot;B&quot;</span><span class="p">;</span> <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Incorrect definitions leading to an execution error:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>A::A() {
cout &lt;&lt; getClassName() &lt;&lt; &quot; created&quot; &lt;&lt; endl; // B does not exist yet!
}

A::~A() {
cout &lt;&lt; getClassName() &lt;&lt; &quot; destroyed&quot; &lt;&lt; endl; // B no longer exists!
}

B::B() : A()
{ }
</pre></div>
</div>
<p>Write method for the <strong>name</strong> attribute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span>            <span class="n">setName</span> <span class="p">(</span><span class="n">SimpleType</span><span class="p">);</span>
<span class="n">void</span> <span class="n">setName</span>    <span class="p">(</span><span class="n">const</span> <span class="n">ComposedType</span> <span class="o">&amp;</span><span class="p">);</span>
</pre></div>
</div>
<p>Read method for the <strong>name</strong> attribute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SimpleType</span>              <span class="n">getName</span><span class="p">()</span> <span class="n">const</span><span class="p">;</span>
<span class="n">const</span> <span class="n">ComposedType</span> <span class="o">&amp;</span>    <span class="n">getName</span><span class="p">()</span> <span class="n">const</span><span class="p">;</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Sample</span> <span class="p">{</span>
<span class="n">public</span> <span class="p">:</span>
  <span class="o">//*</span> <span class="k">return</span> <span class="n">the</span> <span class="n">dimension</span> <span class="n">of</span> <span class="n">the</span> <span class="n">sample</span>
  <span class="n">UnsignedInteger</span> <span class="n">getDimension</span><span class="p">()</span> <span class="n">const</span><span class="p">;</span>

  <span class="o">//*</span> <span class="k">return</span> <span class="n">the</span> <span class="n">i</span><span class="o">-</span><span class="n">th</span> <span class="n">element</span>
  <span class="n">Point</span>         <span class="n">operator</span><span class="p">[]</span> <span class="p">(</span><span class="n">UnsignedInteger</span> <span class="n">i</span><span class="p">);</span>
  <span class="n">const</span> <span class="n">Point</span> <span class="o">&amp;</span> <span class="n">operator</span><span class="p">[]</span> <span class="p">(</span><span class="n">UnsignedInteger</span> <span class="n">i</span><span class="p">)</span> <span class="n">const</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Sample</span> <span class="p">{</span>
<span class="n">public</span> <span class="p">:</span>
  <span class="o">//*</span> <span class="k">return</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">the</span> <span class="n">rod</span>
  <span class="n">inline</span> <span class="n">UnsignedInteger</span> <span class="n">getDimension</span><span class="p">()</span> <span class="n">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">dimension_</span><span class="p">;</span> <span class="p">}</span>

  <span class="o">//*</span> <span class="n">compute</span> <span class="n">the</span> <span class="n">mean</span> <span class="n">point</span> <span class="n">of</span> <span class="n">the</span> <span class="n">sample</span>
  <span class="n">inline</span> <span class="n">Point</span> <span class="n">computeMeanValue</span><span class="p">()</span> <span class="n">const</span><span class="p">;</span>
<span class="p">};</span>

<span class="o">//*</span> <span class="n">inline</span> <span class="n">methods</span>
<span class="n">Point</span> <span class="n">computeMeanValue</span><span class="p">()</span> <span class="n">const</span><span class="p">;</span>
<span class="p">{</span>
<span class="o">/*</span> <span class="o">...</span> <span class="n">some</span> <span class="n">non</span> <span class="n">trivial</span> <span class="n">processing</span> <span class="o">*/</span>
<span class="k">return</span> <span class="n">meanValue</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="explicit-keyword">
<h3>Explicit keyword<a class="headerlink" href="#explicit-keyword" title="Link to this heading">¶</a></h3>
<p>Marking a single argument class constructors with the <em>explicit</em> keyword
allows one to avoid unwanted conversions.</p>
<p>It is relevant for constructors that have a single-argument, and also for
constructors that have a single mandatory argument plus optional arguments.</p>
<p>Single argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">A</span> <span class="p">{</span>
<span class="n">public</span> <span class="p">:</span>
  <span class="n">explicit</span> <span class="n">A</span><span class="p">(</span><span class="n">const</span> <span class="n">Point</span> <span class="n">value</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Optional argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">A</span> <span class="p">{</span>
<span class="n">public</span> <span class="p">:</span>
  <span class="n">explicit</span> <span class="n">A</span><span class="p">(</span><span class="n">UnsignedInteger</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">6</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Mandatory argument and optional argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">A</span> <span class="p">{</span>
<span class="n">public</span> <span class="p">:</span>
  <span class="n">explicit</span> <span class="n">A</span><span class="p">(</span><span class="n">const</span> <span class="n">Point</span> <span class="n">value</span><span class="p">,</span> <span class="n">UnsignedInteger</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">6</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="inheritance">
<h3>Inheritance<a class="headerlink" href="#inheritance" title="Link to this heading">¶</a></h3>
<p>Example: the Point class derives from the Vector class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Point</span> <span class="p">:</span> <span class="n">public</span> <span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">double</span><span class="o">&gt;</span> <span class="p">{</span>
<span class="n">public</span><span class="p">:</span>
  <span class="n">Point</span><span class="p">(</span><span class="n">Scalar</span> <span class="n">x</span><span class="p">,</span>
        <span class="n">Scalar</span> <span class="n">y</span><span class="p">,</span>
        <span class="n">Scalar</span> <span class="n">z</span><span class="p">);</span>
<span class="p">};</span>

<span class="n">Point</span><span class="p">::</span><span class="n">Point</span><span class="p">(</span><span class="n">Scalar</span> <span class="n">x</span><span class="p">,</span> <span class="n">Scalar</span> <span class="n">y</span><span class="p">,</span>
<span class="n">Scalar</span> <span class="n">z</span><span class="p">)</span>
<span class="p">:</span> <span class="n">std</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">double</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="p">{</span>
  <span class="p">(</span><span class="o">*</span><span class="n">this</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
  <span class="p">(</span><span class="o">*</span><span class="n">this</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>
  <span class="p">(</span><span class="o">*</span><span class="n">this</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">z</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Object</span> <span class="p">{</span>
<span class="n">public</span> <span class="p">:</span>
  <span class="n">Object</span><span class="p">();</span>
  <span class="n">virtual</span> <span class="o">~</span><span class="n">Object</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="function-and-method-declaration">
<h3>Function and method declaration<a class="headerlink" href="#function-and-method-declaration" title="Link to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">/**</span> <span class="nd">@brief</span> <span class="o">&lt;</span><span class="n">short</span> <span class="n">description</span><span class="o">&gt;</span>
 <span class="o">*</span>
 <span class="o">*</span> <span class="o">&lt;</span><span class="n">Long</span> <span class="n">description</span><span class="o">&gt;</span>
 <span class="o">*</span> <span class="nd">@param</span> <span class="n">argument_1</span> <span class="o">&lt;</span><span class="n">description</span><span class="o">&gt;</span>
 <span class="o">*</span> <span class="nd">@param</span> <span class="n">argument_2</span> <span class="o">&lt;</span><span class="n">description</span><span class="o">&gt;</span>
 <span class="o">*</span> <span class="nd">@return</span>           <span class="o">&lt;</span><span class="n">description</span><span class="o">&gt;</span>
 <span class="o">*</span> <span class="nd">@throw</span>            <span class="o">&lt;</span><span class="n">description</span><span class="o">&gt;</span>
 <span class="o">*/</span>
 <span class="n">ReturnType</span>
 <span class="n">functionName</span> <span class="p">(</span>
 <span class="n">TypeArgument_1</span>       <span class="n">argument_1</span><span class="p">,</span>
 <span class="n">TypeArgument_2</span>   <span class="n">argument_2</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Correct example:Correct</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">send</span><span class="p">(</span><span class="n">const</span> <span class="n">String</span> <span class="o">&amp;</span> <span class="n">message</span><span class="p">);</span>
</pre></div>
</div>
<p>Incorrect example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">send</span><span class="p">(</span><span class="n">String</span> <span class="n">message</span><span class="p">);</span>
</pre></div>
</div>
<p>Correct example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Buffer</span> <span class="o">&amp;</span> <span class="n">append</span><span class="p">(</span><span class="n">UnsignedInteger</span><span class="p">);</span>
<span class="n">Buffer</span> <span class="o">&amp;</span> <span class="n">append</span><span class="p">(</span><span class="n">const</span> <span class="n">String</span> <span class="o">&amp;</span><span class="p">);</span>
<span class="n">Buffer</span> <span class="o">&amp;</span> <span class="n">append</span><span class="p">(</span><span class="n">Scalar</span><span class="p">);</span>
</pre></div>
</div>
<p>Incorrect example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Buffer</span> <span class="o">&amp;</span> <span class="n">append</span><span class="p">(</span><span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="n">fmt</span><span class="p">,</span> <span class="o">...</span><span class="p">);</span>
<span class="n">Buffer</span> <span class="o">&amp;</span> <span class="n">append</span><span class="p">(</span><span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="nb">str</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">double</span> <span class="n">d</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span> <span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="variable-declaration">
<h3>Variable declaration<a class="headerlink" href="#variable-declaration" title="Link to this heading">¶</a></h3>
<p>An atomic variable type (integer, bool, pointer, …) must be always
initialized to a value to avoid undefined behavior.
This includes initialization of class attributes.</p>
<p>Correct example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">String</span>         <span class="n">filename</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span> <span class="o">//</span> <span class="n">library</span> <span class="n">file</span> <span class="n">name</span>
<span class="n">UnsignedInteger</span> <span class="n">nbElements</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="o">//</span> <span class="n">number</span> <span class="n">of</span> <span class="n">elements</span> <span class="n">into</span> <span class="n">the</span> <span class="n">data</span> <span class="n">file</span>
<span class="n">UnsignedInteger</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">Scalar</span> <span class="n">f</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">;</span>
</pre></div>
</div>
<p>Accepted example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UnsignedInteger</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>     <span class="o">//</span> <span class="n">indices</span>
</pre></div>
</div>
<p>Incorrect example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span> <span class="o">*</span> <span class="n">Multiple</span> <span class="n">declarations</span> <span class="ow">and</span> <span class="n">different</span> <span class="n">types</span> <span class="o">*</span> <span class="o">/</span>
<span class="n">UnsignedInteger</span>   <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">tab</span><span class="p">[</span><span class="mi">20</span><span class="p">],</span> <span class="o">**</span><span class="n">l</span><span class="p">,</span> <span class="o">*</span><span class="n">numberOfElements</span><span class="p">;</span>
<span class="n">String</span>        <span class="n">filename</span><span class="p">,</span> <span class="o">*</span><span class="n">yourname</span><span class="p">,</span> <span class="n">myname</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="constant-declaration">
<h3>Constant declaration<a class="headerlink" href="#constant-declaration" title="Link to this heading">¶</a></h3>
<p>The const keyword must be used as much as possible.
Float constants must include the decimal separator and a at least a digit to
explicitly distinguish them from integers.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">Scalar</span> <span class="n">f</span> <span class="o">=</span> <span class="mf">6.0</span><span class="p">;</span>
<span class="n">const</span> <span class="n">UnsignedInteger</span> <span class="n">maximumIterations</span> <span class="o">=</span> <span class="mi">32</span><span class="p">;</span>
<span class="n">const</span> <span class="n">char</span> <span class="n">printFormat</span><span class="p">[]</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">:line </span><span class="si">%d</span><span class="s2">, </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>Incorrect example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define MAXIMUM_ITERATIONS 32;</span>
<span class="c1">#define PRINT_FORMAT       &quot;%s:line %d, %s&quot;</span>
</pre></div>
</div>
</section>
<section id="comments-and-internal-documentation">
<h3>Comments and internal documentation<a class="headerlink" href="#comments-and-internal-documentation" title="Link to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/**</span>
<span class="o">*</span> <span class="nd">@brief</span> <span class="n">short</span> <span class="n">description</span>
<span class="o">*</span>
<span class="o">*</span> <span class="o">&lt;</span><span class="n">LGPL</span> <span class="n">copyright</span><span class="o">&gt;</span>
<span class="o">*</span>
<span class="o">*</span> <span class="n">Copyright</span> <span class="mi">2005</span><span class="o">-</span><span class="mi">20</span><span class="n">YY</span> <span class="n">Airbus</span><span class="o">-</span><span class="n">EDF</span><span class="o">-</span><span class="n">IMACS</span><span class="o">-</span><span class="n">ONERA</span><span class="o">-</span><span class="n">Phimeca</span>
<span class="o">*/</span>
</pre></div>
</div>
<p>These comments should avoid:</p>
<ul class="simple">
<li><p>mentioning the names of variables;</p></li>
<li><p>being a simple transcription of the code into English.</p></li>
</ul>
</section>
<section id="memory-allocation-and-deallocation">
<h3>Memory allocation and deallocation<a class="headerlink" href="#memory-allocation-and-deallocation" title="Link to this heading">¶</a></h3>
<p>This section discusses general rules for allocating and freeing memory.
It will later be supplemented by rules regarding the use of basic
classes in order to manage the lifecycle of objects in memory.</p>
<p>Example to favor:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="n">Scalar</span> <span class="n">sections1</span><span class="p">[</span><span class="n">MAX</span><span class="p">];</span> <span class="o">//</span> <span class="n">a</span> <span class="n">fixed</span> <span class="n">size</span> <span class="n">array</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="n">Scalar</span><span class="o">&gt;</span> <span class="n">sections2</span><span class="p">;</span> <span class="o">//</span> <span class="n">an</span> <span class="n">extensible</span> <span class="n">vector</span>
  <span class="nb">list</span><span class="o">&lt;</span><span class="n">Volume</span><span class="o">&gt;</span> <span class="n">volumes</span><span class="p">;</span> <span class="o">//</span> <span class="n">a</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">volumes</span>

  <span class="o">/*</span> <span class="o">...</span> <span class="o">*/</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example to avoid:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="n">Scalar</span> <span class="o">*</span><span class="n">sections</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Scalar</span><span class="p">[</span><span class="n">MAX</span><span class="p">];</span>
  <span class="nb">list</span><span class="o">&lt;</span><span class="n">Volume</span><span class="o">&gt;</span>    <span class="o">*</span><span class="n">volumes</span>  <span class="o">=</span> <span class="n">new</span> <span class="nb">list</span><span class="o">&lt;</span><span class="n">Volume</span><span class="o">&gt;</span><span class="p">;</span>

  <span class="o">/*</span> <span class="o">...</span> <span class="o">*/</span>

  <span class="n">delete</span> <span class="p">[</span> <span class="p">]</span> <span class="n">sections</span><span class="p">;</span>
  <span class="n">delete</span> <span class="n">volumes</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Correct example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="n">Volume</span> <span class="o">*</span><span class="n">volume</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Volume</span><span class="p">;</span>   <span class="o">//</span> <span class="n">memory</span> <span class="n">allocation</span> <span class="o">+</span>
  <span class="o">//</span> <span class="n">constructor</span> <span class="n">call</span>
  <span class="o">/*</span> <span class="o">...</span> <span class="o">*/</span>
  <span class="n">delete</span> <span class="n">volume</span><span class="p">;</span>                 <span class="o">//</span> <span class="n">destructor</span> <span class="n">call</span> <span class="o">+</span>
  <span class="n">volume</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>                    <span class="o">//</span> <span class="n">memory</span> <span class="n">deallocation</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Incorrect example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="n">Volume</span> <span class="o">*</span><span class="n">volume</span> <span class="o">=</span> <span class="p">(</span><span class="n">Volume</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="n">sizeof</span><span class="p">(</span><span class="n">Volume</span><span class="p">));</span>
  <span class="o">//</span> <span class="n">memory</span> <span class="n">allocation</span> <span class="n">but</span>
  <span class="o">//</span> <span class="n">no</span> <span class="n">constructor</span> <span class="n">call</span>
  <span class="o">/*</span> <span class="o">...</span> <span class="o">*/</span>
  <span class="n">free</span><span class="p">(</span><span class="n">volume</span><span class="p">);</span>                <span class="o">//</span> <span class="n">no</span> <span class="n">destructor</span> <span class="n">call</span> <span class="n">before</span>
  <span class="n">volume</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>                    <span class="o">//</span> <span class="n">memory</span> <span class="n">deallocation</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">*</span>     <span class="n">a</span> <span class="o">=</span> <span class="n">new</span> <span class="n">A</span><span class="p">[</span><span class="mi">40</span><span class="p">];</span> <span class="o">//</span> <span class="n">calls</span> <span class="n">the</span> <span class="n">constructor</span> <span class="mi">40</span> <span class="n">times</span>
<span class="o">...</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">delete</span> <span class="n">a</span><span class="p">;</span>              <span class="o">//</span> <span class="n">incorrect</span><span class="p">:</span> <span class="n">the</span> <span class="n">table</span> <span class="ow">is</span> <span class="n">freed</span><span class="p">,</span>
<span class="o">//</span> <span class="n">the</span> <span class="o">~</span><span class="n">A</span> <span class="n">destructor</span> <span class="n">isn</span><span class="s1">&#39;t called</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">delete</span> <span class="p">[]</span> <span class="n">a</span><span class="p">;</span>           <span class="o">//</span> <span class="n">correct</span><span class="p">:</span> <span class="n">the</span> <span class="n">table</span> <span class="ow">is</span> <span class="n">freed</span><span class="p">,</span>
<span class="o">//</span> <span class="n">the</span> <span class="o">~</span><span class="n">A</span> <span class="n">destructor</span> <span class="ow">is</span> <span class="n">called</span> <span class="mi">40</span> <span class="n">times</span>
</pre></div>
</div>
<p>List of declaration files for the smart pointer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &quot;openturns/Pointer.hxx&quot;</span>
</pre></div>
</div>
</section>
<section id="assignment-and-initialization">
<h3>Assignment and initialization<a class="headerlink" href="#assignment-and-initialization" title="Link to this heading">¶</a></h3>
<p>Complex types (class types) must use copy constructors if available instead of
using the default constructor and then the copy operator for performance.
Atomic types (integer, bool, …) can use the copy operator for readability.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Point</span> <span class="n">p2</span><span class="p">(</span><span class="n">p1</span><span class="p">);</span>
<span class="n">Bool</span> <span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
</pre></div>
</div>
<p>Example to avoid:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">String</span> <span class="n">message</span><span class="p">;</span>
<span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;Computation complete&quot;</span><span class="p">;</span> <span class="o">//</span> <span class="n">assignment</span> <span class="n">after</span> <span class="n">construction</span>

<span class="n">String</span> <span class="n">message</span><span class="p">();</span> <span class="o">//</span> <span class="n">declaration</span> <span class="n">of</span> <span class="n">a</span> <span class="n">function</span> <span class="n">prorotype</span>
</pre></div>
</div>
</section>
<section id="instructions">
<h3>Instructions<a class="headerlink" href="#instructions" title="Link to this heading">¶</a></h3>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">MAX</span><span class="p">)</span> <span class="p">{</span>
  <span class="o">++</span><span class="n">i</span><span class="p">;</span>
  <span class="n">f</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Examples to avoid if possible:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">b</span> <span class="o">=</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="o">//</span> <span class="n">multiple</span> <span class="n">assignments</span>

<span class="n">f</span><span class="p">(</span><span class="o">++</span><span class="n">i</span><span class="p">);</span>
<span class="o">//</span> <span class="n">readability</span>

<span class="n">v</span> <span class="o">=</span> <span class="o">*</span><span class="n">i</span><span class="o">++</span><span class="p">;</span>
<span class="o">//</span> <span class="n">performance</span> <span class="ow">and</span> <span class="n">understandability</span>

<span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">,</span> <span class="n">i</span><span class="o">++</span><span class="p">);</span>
<span class="o">//</span> <span class="n">understandability</span> <span class="ow">and</span> <span class="n">readability</span>
</pre></div>
</div>
<p>Incorrect examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">buffer</span> <span class="o">+=</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">buffer</span><span class="p">;</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="o">//</span> <span class="n">heterogeneous</span> <span class="n">processing</span> <span class="o">&amp;</span>
<span class="o">//</span> <span class="n">different</span> <span class="n">objects</span>

<span class="k">while</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="o">++</span><span class="n">i</span><span class="p">),</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">MAX</span><span class="p">);</span>
<span class="o">//</span> <span class="n">processing</span> <span class="n">carried</span> <span class="n">out</span> <span class="n">before</span> <span class="n">the</span> <span class="n">test</span>
</pre></div>
</div>
<p>Prohibited example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">for</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">phase1</span> <span class="p">:</span>
    <span class="o">/*</span> <span class="o">...</span> <span class="o">*/</span>
    <span class="n">phase2</span> <span class="p">:</span>
    <span class="k">if</span><span class="p">(</span><span class="n">errno</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
      <span class="n">goto</span> <span class="n">erreur</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">/*</span> <span class="n">a</span> <span class="n">test</span> <span class="o">*/</span><span class="p">)</span>
      <span class="n">goto</span> <span class="n">phase2</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">erreur</span> <span class="p">:</span>
  <span class="o">/*</span> <span class="n">error</span> <span class="n">handling</span> <span class="o">*/</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note: error handling can be easily replaced with exception handling,
and the use of <strong>goto</strong> for the needs of algorithms can always be
replaced with a conditional structure or a loop.</p>
<p>Example: error handling</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Scalar</span>
<span class="n">compute</span><span class="p">(</span><span class="n">UnsignedInteger</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">Scalar</span> <span class="n">result</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="n">n</span> <span class="o">&lt;</span> <span class="n">MIN</span> <span class="o">||</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="n">MAX</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">char</span> <span class="n">msg</span><span class="p">[</span><span class="n">BUFSIZ</span><span class="p">];</span>
    <span class="o">//</span> <span class="n">automatic</span> <span class="n">allocation</span> <span class="k">for</span> <span class="n">the</span> <span class="n">processing</span>
    <span class="n">snprintf</span> <span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">BUFSIZ</span><span class="p">,</span>
    <span class="s2">&quot;n = </span><span class="si">%d</span><span class="s2"> is out of range, valid range is [</span><span class="si">%d</span><span class="s2">, </span><span class="si">%d</span><span class="s2">]&quot;</span><span class="p">,</span>
    <span class="n">n</span><span class="p">,</span> <span class="n">MIN</span><span class="p">,</span> <span class="n">MAX</span><span class="p">);</span>
    <span class="n">throw</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">msg</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="o">/*</span> <span class="o">...</span> <span class="o">*/</span>
  <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Examples to avoid:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Scalar</span>
<span class="n">compute</span><span class="p">(</span><span class="n">UnsignedInteger</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">Scalar</span> <span class="n">result</span><span class="p">;</span>
  <span class="n">Char</span>    <span class="n">msg</span><span class="p">[</span><span class="n">BUFSIF</span><span class="p">];</span>   <span class="o">//</span> <span class="n">allocation</span> <span class="n">unnecessary</span> <span class="k">if</span> <span class="n">no</span>
  <span class="o">//</span> <span class="n">error</span>
  <span class="k">if</span><span class="p">(</span><span class="n">n</span> <span class="o">&lt;</span> <span class="n">MIN</span> <span class="o">||</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="n">MAX</span><span class="p">)</span>
  <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Correct example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">switch</span> <span class="p">(</span><span class="n">errno</span><span class="p">)</span> <span class="p">{</span>
<span class="k">case</span> <span class="n">ENOENT</span> <span class="p">:</span>
<span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot; ... &quot;</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">break</span><span class="p">;</span>
<span class="k">case</span> <span class="n">EACCESS</span> <span class="p">:</span>
<span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot; ... &quot;</span><span class="p">;</span>
<span class="k">break</span><span class="p">;</span>
<span class="n">default</span> <span class="p">:</span>
<span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;unknown error&quot;</span><span class="p">;</span>
<span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Accepted example - processing multiple targets with the same block:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">switch</span> <span class="p">(</span><span class="n">errno</span><span class="p">)</span> <span class="p">{</span>
<span class="k">case</span> <span class="n">ENOENT</span> <span class="p">:</span>
<span class="k">case</span> <span class="n">EACCESS</span> <span class="p">:</span>
<span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot; impossible to access file &quot;</span><span class="p">;</span>
<span class="k">break</span><span class="p">;</span>
<span class="n">default</span> <span class="p">:</span>
<span class="o">/*</span> <span class="o">...</span> <span class="o">*/</span>
<span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Incorrect example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">switch</span> <span class="p">(</span><span class="n">errno</span><span class="p">)</span> <span class="p">{</span>
<span class="k">case</span> <span class="mi">1</span> <span class="p">:</span>                <span class="o">//</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">value</span>
<span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot; ... &quot;</span><span class="p">;</span> <span class="o">//</span>
<span class="o">//</span> <span class="s2">&quot;break&quot;</span> <span class="ow">is</span> <span class="n">missing</span><span class="p">,</span>
<span class="o">//</span> <span class="n">processing</span> <span class="n">continues</span> <span class="ow">in</span> <span class="n">ENOENT</span>
<span class="k">case</span> <span class="n">ENOENT</span> <span class="p">:</span>
<span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot; ... &quot;</span><span class="p">;</span>
<span class="k">break</span><span class="p">;</span>
<span class="n">default</span> <span class="p">:</span>               <span class="o">//</span> <span class="s2">&quot;break&quot;</span> <span class="ow">is</span> <span class="n">missing</span> <span class="n">at</span> <span class="n">the</span>
<span class="o">//</span> <span class="n">end</span> <span class="n">of</span> <span class="n">the</span> <span class="s2">&quot;default&quot;</span> <span class="n">case</span>
<span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;unknown error&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Incorrect example - use of the switch as a goto:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">switch</span> <span class="p">(</span><span class="n">phase</span><span class="p">)</span> <span class="p">{</span>
<span class="k">case</span> <span class="n">PHASE1</span> <span class="p">:</span>
<span class="n">doPhaseOne</span><span class="p">();</span>
<span class="k">case</span> <span class="n">PHASE2</span> <span class="p">:</span>
<span class="n">doPhaseTwo</span><span class="p">();</span>
<span class="k">break</span><span class="p">;</span>
<span class="n">default</span> <span class="p">:</span>
<span class="o">/*</span> <span class="o">...</span> <span class="o">*/</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span>
<span class="n">main</span> <span class="p">(</span><span class="nb">int</span> <span class="n">argc</span><span class="p">,</span> <span class="n">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
<span class="o">/*</span> <span class="o">...</span> <span class="o">*/</span>
<span class="k">return</span> <span class="n">EXIT_SUCCESS</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="exceptions">
<h3>Exceptions<a class="headerlink" href="#exceptions" title="Link to this heading">¶</a></h3>
<p>The ability to raise and handle exceptions is one of the strongest
features of C++. However, writing functions and methods that guarantee a
safe behavior when faced with exceptions remains a difficult aspect of
programming.</p>
<p>This chapter describes how to define and use exceptions in the source
code.</p>
<p>Example of <strong>Exception</strong> use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Exception</span> <span class="p">{</span>
<span class="n">public</span> <span class="p">:</span>
  <span class="ne">Exception</span> <span class="p">(</span><span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="n">description</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span> <span class="o">*</span> <span class="n">comment</span> <span class="o">=</span> <span class="mi">0</span><span class="p">);</span>
  <span class="n">virtual</span> <span class="o">~</span><span class="ne">Exception</span><span class="p">()</span> <span class="n">throw</span><span class="p">();</span>
  <span class="o">/*</span> <span class="o">...</span> <span class="o">*/</span>
  <span class="n">friend</span> <span class="n">ostream</span> <span class="o">&amp;</span> <span class="n">operator</span><span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">ostream</span> <span class="o">&amp;</span><span class="p">,</span> <span class="n">const</span> <span class="ne">Exception</span> <span class="o">&amp;</span> <span class="n">e</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Example of specialization of <strong>Exception</strong> in order to report an
off-range error:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">OutOfBoundException</span> <span class="p">:</span> <span class="n">public</span> <span class="ne">Exception</span> <span class="p">{</span>
<span class="n">public</span><span class="p">:</span>
  <span class="n">OutOfBoundException</span><span class="p">(</span><span class="o">/*</span> <span class="o">...</span> <span class="o">*/</span><span class="p">)</span>
  <span class="p">:</span> <span class="ne">Exception</span><span class="p">(</span><span class="o">/*</span> <span class="o">...</span> <span class="o">*/</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Example of specialization of <strong>Exception</strong> in order to report an
off-range error with a macro-instruction:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">NEW_EXCEPTION</span><span class="p">(</span><span class="n">OutOfBoundException</span><span class="p">);</span>
</pre></div>
</div>
<p>Incorrect example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">try</span> <span class="p">{</span>
<span class="o">//</span> <span class="n">phase</span> <span class="mi">1</span>
<span class="o">//</span> <span class="n">phase</span> <span class="mi">2</span>
<span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">!=</span> <span class="n">OK</span><span class="p">)</span>
<span class="n">throw</span> <span class="n">GotoPhase4</span><span class="p">();</span>
<span class="o">//</span> <span class="n">phase</span> <span class="mi">3</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/*</span> <span class="o">...</span> <span class="o">*/</span>
<span class="n">catch</span> <span class="p">(</span><span class="n">GotoPhase4</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
<span class="o">/*</span> <span class="o">...</span> <span class="o">*/</span>
<span class="p">}</span>
<span class="o">//</span> <span class="n">phase</span> <span class="mi">4</span>
</pre></div>
</div>
</section>
<section id="exception-handling">
<h3>Exception handling<a class="headerlink" href="#exception-handling" title="Link to this heading">¶</a></h3>
<p>An exception should be thrown when the library encounters conditions
under which it cannot operate.</p>
<p>When coding a new functionality, define a <strong>sufficient</strong> condition
under which the functionality will work correctly,
and have it throw an Exception if this condition is not met.</p>
<p>Correct example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Throw if a probability does not belong to [0,1]</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="n">proba</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">proba</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">1.0</span><span class="p">)</span><span class="w"> </span><span class="p">))</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="n">InvalidArgumentException</span><span class="p">(</span><span class="n">HERE</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Error: a probability should belong to [0,1]&quot;</span>
<span class="w">                                         </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; but is &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">proba</span><span class="p">;</span>
</pre></div>
</div>
<p>Typically, it is easier to think about conditions that are sufficient
to make the functionality <strong>not</strong> work correctly,
but this way of thinking has two drawbacks:</p>
<ul class="simple">
<li><p>It can lead the programmer to forget situations in which the functionality does not work.</p></li>
<li><p>If the test is performed on a floating point number (Scalar), a possible NaN value will not be caught.</p></li>
</ul>
<p>NaN (<em>Not a Number</em>) is a value that can be taken by floating point numbers to represent
a missing value or the result of an illicit arithmetical operation (<code class="code docutils literal notranslate"><span class="pre">0/0</span></code> for example).
It has the following properties:</p>
<ul class="simple">
<li><p>When standard functions like <code class="code docutils literal notranslate"><span class="pre">sqrt</span></code> and <code class="code docutils literal notranslate"><span class="pre">max</span></code> are passed NaN as one of their arguments, they return NaN.</p></li>
<li><p>All comparison operators except <code class="code docutils literal notranslate"><span class="pre">!=</span></code> return <code class="code docutils literal notranslate"><span class="pre">False</span></code> if either operand is NaN.
The boolean <code class="code docutils literal notranslate"><span class="pre">a!=b</span></code> is <code class="code docutils literal notranslate"><span class="pre">True</span></code> if either <code class="code docutils literal notranslate"><span class="pre">a</span></code> or <code class="code docutils literal notranslate"><span class="pre">b</span></code> (or even both) is NaN.</p></li>
</ul>
<p>Because of this second property, the following example fails to catch a possible NaN value.</p>
<p>Incorrect example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Throw if a probability is lower than 0 or larger than 1</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="n">proba</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0.0</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="n">proba</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1.0</span><span class="p">)</span><span class="w"> </span><span class="p">)</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="n">InvalidArgumentException</span><span class="p">(</span><span class="n">HERE</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Error: a probability should belong to [0,1]&quot;</span>
<span class="w">                                         </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; but is &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">proba</span><span class="p">;</span>
</pre></div>
</div>
<p>Because only floating point numbers can be NaN, this rule is only imperative
for Exception checks involving floating point numbers.
You are free to disregard the rule for Exception checks that only involve integers.</p>
<p>When the sufficient condition under which the functionality works is an equality,
use <code class="code docutils literal notranslate"><span class="pre">a!=b</span></code> as a shorthand for <code class="code docutils literal notranslate"><span class="pre">!(a==b)</span></code>.</p>
<p>Example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// The covariance must be null</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">covariance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">)</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="n">InvalidArgumentException</span><span class="p">(</span><span class="n">HERE</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Error: covariance(&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;) should be null.&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>When the sufficient condition under which the functionality works is that
some number must be <em>different</em> from some value, find a way to express this
that does not involve the <code class="code docutils literal notranslate"><span class="pre">!=</span></code> operator, because <code class="code docutils literal notranslate"><span class="pre">!(a!=b)</span></code>
is equivalent to <code class="code docutils literal notranslate"><span class="pre">a==b</span></code>. Both are <code class="code docutils literal notranslate"><span class="pre">False</span></code> if either <code class="code docutils literal notranslate"><span class="pre">a</span></code>
or <code class="code docutils literal notranslate"><span class="pre">b</span></code> is NaN.</p>
<p>For example, if you want to write that some nonnegative scalar should not be zero,
then write that is must be positive instead.</p>
<p>Incorrect example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Generalized number of degrees of freedom must not be zero.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">nu</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mf">0.0</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="n">InvalidArgumentException</span><span class="p">(</span><span class="n">HERE</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Nu MUST be positive&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>Correct example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Generalized number of degrees of freedom must be positive.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">nu</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.0</span><span class="p">))</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="n">InvalidArgumentException</span><span class="p">(</span><span class="n">HERE</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Nu MUST be positive&quot;</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="error-messages">
<h3>Error messages<a class="headerlink" href="#error-messages" title="Link to this heading">¶</a></h3>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">String</span> <span class="n">message</span><span class="p">;</span>
<span class="n">Log</span><span class="p">::</span><span class="n">Debug</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
<span class="n">Log</span><span class="p">::</span><span class="n">Info</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
<span class="n">Log</span><span class="p">::</span><span class="n">User</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
<span class="n">Log</span><span class="p">::</span><span class="ne">Warning</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
<span class="n">Log</span><span class="p">::</span><span class="n">Error</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
</pre></div>
</div>
<p>These rules refer to the classes and methods in the Python layer using
the services of the internal model and the solvers.</p>
</section>
<section id="c-17">
<h3>C++ 17<a class="headerlink" href="#c-17" title="Link to this heading">¶</a></h3>
<p>The library requires the C++ 17 standard.
Some useful features include:</p>
<ul class="simple">
<li><p>std::atomic (since c++ 11)</p></li>
<li><p>std::vector::data() (since c++ 11)</p></li>
<li><p>std::shared_ptr (since c++ 11)</p></li>
<li><p>constructor delegation (since c++ 11)</p></li>
<li><p>default member initializers (since c++ 11)</p></li>
<li><p>list initialization (since c++ 11)</p></li>
<li><p>override keyword (since c++ 11)</p></li>
<li><p>lambda expressions (since c++ 11)</p></li>
<li><p>std::filesytem</p></li>
</ul>
<p>Example: constructor delegation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Foo</span>
<span class="p">{</span>
  <span class="n">Foo</span> <span class="p">(</span><span class="nb">int</span> <span class="n">a</span><span class="p">,</span> <span class="nb">int</span> <span class="n">b</span><span class="p">),</span> <span class="n">a_</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="n">b_</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
  <span class="n">Foo</span> <span class="p">()</span> <span class="p">:</span> <span class="n">Foo</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

  <span class="nb">int</span> <span class="n">a_</span><span class="p">,</span> <span class="n">b_</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Example: default member initializers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Foo</span>
<span class="p">{</span>
  <span class="n">Foo</span><span class="p">();</span>

  <span class="nb">int</span> <span class="n">a_</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Example: list initialization:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">Indices</span> <span class="n">indices</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">};</span>
<span class="n">const</span> <span class="n">Description</span> <span class="n">desc</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;mu&quot;</span><span class="p">,</span> <span class="s2">&quot;sigma&quot;</span><span class="p">};</span>
</pre></div>
</div>
</section>
</section>
<section id="python">
<h2>Python<a class="headerlink" href="#python" title="Link to this heading">¶</a></h2>
<section id="modules-and-packages">
<h3>Modules and packages<a class="headerlink" href="#modules-and-packages" title="Link to this heading">¶</a></h3>
<p>Example of tolerated notations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">pyplot</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</pre></div>
</div>
<p>Incorrect examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</section>
<section id="id1">
<h3>Names<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<p>Examples: RandomVector, Sample.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rv</span> <span class="o">=</span> <span class="n">RandomVector</span><span class="p">()</span>
<span class="n">dim</span> <span class="o">=</span> <span class="n">rv</span><span class="o">.</span><span class="n">getDimension</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id2">
<h3>Comments and internal documentation<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<p>Example of documentation string for the class
<strong>AnotherSample</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#</span>
<span class="c1"># &lt;detailed description for documentation tools such as HappyDoc&gt;</span>
<span class="c1">#</span>
<span class="k">class</span><span class="w"> </span><span class="nc">AnotherSample</span> <span class="p">:</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">this class is designed to ...</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="c1">#</span>
<span class="c1"># &lt;detailed description for developers and documentation tools&gt;</span>
<span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="nb">range</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">doc</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="p">:</span>
<span class="sd">&quot;&quot;&quot;constructor -- &quot;&quot;&quot;</span>
<span class="o">...</span>
<span class="c1">#</span>
<span class="c1"># &lt;detailed description for developers and documentation tools&gt;</span>
<span class="k">def</span><span class="w"> </span><span class="nf">computeSomething</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="sd">&quot;&quot;&quot;run the well-known Schmoll Algorithm...</span>
<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
</section>
<section id="indentation">
<h3>Indentation<a class="headerlink" href="#indentation" title="Link to this heading">¶</a></h3>
<p>The python code should use 4 spaces per indentation level.
For more information about python formatting,
refer to <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">PEP8</a>.</p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="windows_port.html" title="Windows port"
             >next</a> |</li>
        <li class="right" >
          <a href="git_workflow.html" title="Git workflow"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">OpenTURNS 1.27dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="developer_guide.html" >Contribute</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Coding rules</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2005-2026 Airbus-EDF-IMACS-ONERA-Phimeca.
      Last updated on Jan 01, 2022.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>