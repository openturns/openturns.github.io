
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Sphinx documentation &#8212; OpenTURNS 1.16dev documentation</title>
    <link rel="stylesheet" href="../_static/openturns.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Module development" href="module_development.html" />
    <link rel="prev" title="Library development" href="library_development.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="http://www.openturns.org/">Home</a></li>
    <li><a href="../install.html">Get it</a></li>
    <li><a href="../contents.html">Doc</a></li>
    <li><a href="https://gitter.im/openturns/community">Chat</a></li>
    <li><a href="https://github.com/openturns">Code</a></li>
    <li><a href="https://github.com/openturns/openturns/issues">Bugs</a></li>
  </ul>
  <a href="../index.html">
    <h1>
      <img src="../_static/logo-openturns-wo-bg.png" alt="" width=100px height=100px />
      OpenTURNS
    </h1>
    <h2> An Open source initiative for the Treatment of Uncertainties, Risks'N Statistics</h2>
  </a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="module_development.html" title="Module development"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="library_development.html" title="Library development"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">OpenTURNS 1.16dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="developer_guide.html" accesskey="U">Contribute</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Sphinx documentation</a><ul>
<li><a class="reference internal" href="#sphinx-101">Sphinx 101</a><ul>
<li><a class="reference internal" href="#sphinx-extensions">Sphinx extensions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#docstrings-in-separate-swig-header-files">Docstrings (in separate SWIG header files)</a><ul>
<li><a class="reference internal" href="#docstring-conventions">Docstring conventions</a></li>
<li><a class="reference internal" href="#latex">LaTeX</a></li>
<li><a class="reference internal" href="#docstrings-inheritance">Docstrings &amp; inheritance</a></li>
<li><a class="reference internal" href="#bridge-pattern">Bridge pattern</a></li>
</ul>
</li>
<li><a class="reference internal" href="#integration-to-the-building-suite">Integration to the building suite</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="library_development.html"
                        title="previous chapter">Library development</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="module_development.html"
                        title="next chapter">Module development</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/developer_guide/sphinx_documentation.rst"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="sphinx-documentation">
<span id="sphinx-doc"></span><h1>Sphinx documentation<a class="headerlink" href="#sphinx-documentation" title="Permalink to this headline">¶</a></h1>
<p>This section deals with the sphinx documentation included in the library repository
and built on top the Python interface.</p>
<div class="section" id="sphinx-101">
<h2>Sphinx 101<a class="headerlink" href="#sphinx-101" title="Permalink to this headline">¶</a></h2>
<p>This documentation is powered by the <a class="reference external" href="http://sphinx-doc.org">Sphinx documentation system</a>.
Hence, reading <a class="reference external" href="http://sphinx-doc.org/contents.html">Sphinx’s own documentation</a>
might be a good idea for starters! You will also need to learn some basics
about its main featured language: <a class="reference external" href="http://sphinx-doc.org/rest.html">reStructuredText</a>.</p>
<div class="section" id="sphinx-extensions">
<h3>Sphinx extensions<a class="headerlink" href="#sphinx-extensions" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>numpydoc</dt><dd><p>The <a class="reference external" href="https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt">numpydoc</a>
Sphinx extension is used for a structured semi-automatic generation of the
<a class="reference internal" href="../user_manual/user_manual.html#user-manual"><span class="std std-ref">User Manual</span></a> from the <a class="reference internal" href="#contribute-docstrings"><span class="std std-ref">docstrings</span></a>
of OpenTURNS objects.</p>
</dd>
<dt>matplotlib.sphinxext.plot_directive</dt><dd><p>The <a class="reference external" href="http://matplotlib.org/sampledoc/extensions.html">plot_directive</a>
Matplotlib/Sphinx extension is used for <em>executing</em> and <em>testing</em> the
code blocks featured in the pages of this documentation, especially in the
<a class="reference internal" href="../examples/examples.html#examples"><span class="std std-ref">examples section</span></a>.</p>
</dd>
<dt>nbsphinx</dt><dd><p>The <a class="reference external" href="https://nbsphinx.readthedocs.io/">nbsphinx</a> allows to
include Jupyter notebooks as examples.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="docstrings-in-separate-swig-header-files">
<span id="contribute-docstrings"></span><h2>Docstrings (in separate SWIG header files)<a class="headerlink" href="#docstrings-in-separate-swig-header-files" title="Permalink to this headline">¶</a></h2>
<p>OpenTURNS main featured language is C++. We then use <a class="reference external" href="http://swig.org/">SWIG</a>
in order to generate the Python interface. Hence, docstrings are defined
within <strong>dedicated SWIG header files</strong> (<code class="file docutils literal notranslate"><span class="pre">$OT_SOURCE_DIR/python/src/*_doc.i.in</span></code>)
and are then included in the main SWIG header files
(<code class="file docutils literal notranslate"><span class="pre">$OT_SOURCE_DIR/python/src/*.i</span></code>).</p>
<p>For instance, the docstrings for the <a class="reference internal" href="../user_manual/_generated/openturns.Arcsine.html#openturns.Arcsine" title="openturns.Arcsine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Arcsine</span></code></a> distribution
are defined in <code class="file docutils literal notranslate"><span class="pre">Arcsine_doc.i.in</span></code>, and this docstring file is then
included in <code class="file docutils literal notranslate"><span class="pre">Arcsine.i</span></code> using a <cite>%include Arcsine_doc.i</cite>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note the difference between the name of the docstring file in the source
tree (<code class="file docutils literal notranslate"><span class="pre">Arcsine_doc.i.in</span></code>) and its reference in <code class="file docutils literal notranslate"><span class="pre">Arcsine.i</span></code>.
The <code class="file docutils literal notranslate"><span class="pre">.in</span></code> suffix disappeared because the docstring files are
preprocessed by CMake in order to escape LaTeX backslashes for SWIG and
Python.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Note also that the use of double quotes (<cite>“</cite>) in docstrings is forbidden.
This is because SWIG uses them to delimit the docstrings.</p>
</div>
<p>Here are a few recommendations you’d better read in order to help us enhancing
the docstrings coverage.</p>
<div class="section" id="docstring-conventions">
<h3>Docstring conventions<a class="headerlink" href="#docstring-conventions" title="Permalink to this headline">¶</a></h3>
<p>Please follow <a class="reference external" href="https://www.python.org/dev/peps/pep-0257">PEP257</a> and
<a class="reference external" href="https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt">numpydoc</a>
guidelines for writing the docstrings as well as <a class="reference external" href="http://legacy.python.org/dev/peps/pep-0008/">PEP8</a>
recommendations for the Examples section (for instance, please don’t
<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">openturns</span> <span class="pre">import</span> <span class="pre">*</span></code>, indent with 4 spaces, etc. …).</p>
</div>
<div class="section" id="latex">
<h3>LaTeX<a class="headerlink" href="#latex" title="Permalink to this headline">¶</a></h3>
<p>Using maths is highly recommended for illustrating the mathematical concepts
featured in OpenTURNS. Mathematical expression must use Sphinx <code class="docutils literal notranslate"><span class="pre">:math:</span></code>
roles for inline maths, and <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">math::</span></code> directives for equations. These
equations will appear as plain LaTeX at prompt (using the <code class="docutils literal notranslate"><span class="pre">help</span></code> command in
Python or the <code class="docutils literal notranslate"><span class="pre">?</span></code> suffix in IPython) but Sphinx will render them as PNG images
in the <a class="reference internal" href="../user_manual/user_manual.html#user-manual"><span class="std std-ref">User Manual</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please use the math commands defined in our <code class="file docutils literal notranslate"><span class="pre">math_notations.sty</span></code>
LaTeX package.</p>
</div>
</div>
<div class="section" id="docstrings-inheritance">
<h3>Docstrings &amp; inheritance<a class="headerlink" href="#docstrings-inheritance" title="Permalink to this headline">¶</a></h3>
<p>Good news! Docstrings are inherited so that we only need to document the
methods of the parent objects (until we want to make them more specific).</p>
</div>
<div class="section" id="bridge-pattern">
<h3>Bridge pattern<a class="headerlink" href="#bridge-pattern" title="Permalink to this headline">¶</a></h3>
<p>An important number of objects use the <a class="reference internal" href="architecture.html#bridge-pattern"><span class="std std-ref">bridge pattern</span></a>.
For instance, the <a class="reference internal" href="../user_manual/_generated/openturns.Distribution.html#openturns.Distribution" title="openturns.Distribution"><code class="xref py py-class docutils literal notranslate"><span class="pre">Distribution</span></code></a>
object which is the interface class for all probability distributions
has an implementation class <strong>DistributionImplementation</strong> (that we don’t
need to expose). And the trick is that the interface class does not inherit from
its implementation object but the children do, so we need to
document them both.</p>
<p>In order to avoid docstrings duplicates though we decided to document the
implementation class with defined blocks. Since we load the
implementation first, we can then refer to the same defined
blocks for documenting the object itself.</p>
<p>For instance the main docstring of the <a class="reference internal" href="../user_manual/_generated/openturns.Distribution.html#openturns.Distribution" title="openturns.Distribution"><code class="xref py py-class docutils literal notranslate"><span class="pre">Distribution</span></code></a>
object is defined and referred to in the <code class="file docutils literal notranslate"><span class="pre">DistributionImplementation_doc.i.in</span></code>
SWIG header file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="o">%</span><span class="n">define</span> <span class="n">OT_Distribution_doc</span>
<span class="s2">&quot;Base class for probability distributions.&quot;</span>
<span class="o">%</span><span class="n">enddef</span>
<span class="o">%</span><span class="n">feature</span><span class="p">(</span><span class="s2">&quot;docstring&quot;</span><span class="p">)</span> <span class="n">OT</span><span class="p">::</span><span class="n">DistributionImplementation</span>
<span class="n">OT_Distribution_doc</span>
<span class="o">...</span>
</pre></div>
</div>
<p>and it is then only being referred to in the <code class="file docutils literal notranslate"><span class="pre">Distribution_doc.i.in</span></code>
SWIG header file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="o">%</span><span class="n">feature</span><span class="p">(</span><span class="s2">&quot;docstring&quot;</span><span class="p">)</span> <span class="n">OT</span><span class="p">::</span><span class="n">Distribution</span>
<span class="n">OT_Distribution_doc</span>
<span class="o">...</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="integration-to-the-building-suite">
<h2>Integration to the building suite<a class="headerlink" href="#integration-to-the-building-suite" title="Permalink to this headline">¶</a></h2>
<p>The separate docstring SWIG header files are included in the SWIG header files
of the <a class="reference external" href="https://github.com/openturns">openturns repos</a>, so this does
not need any further integration steps (out of the backslashes escaper CMake
script). A docstring test (<cite>python/test/t_docstring.py</cite>) has been added to the
Python tests.</p>
<p>We added the following CMake variables:</p>
<dl class="simple">
<dt>SPHINX_EXECUTABLE</dt><dd><p>Path to the <em>sphinx-build</em> command.</p>
</dd>
<dt>SPHINX_FLAGS</dt><dd><p>This is passed as the options of the sphinx-build command (see
<a class="reference external" href="http://sphinx-doc.org/invocation.html#invocation-of-sphinx-build">sphinx-build invocation</a>).</p>
</dd>
</dl>
<p>All these targets depend on the rst files located in the sources
(<code class="file docutils literal notranslate"><span class="pre">$OT_SOURCE_DIR/python/doc/*.rst</span></code>).</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="module_development.html" title="Module development"
             >next</a> |</li>
        <li class="right" >
          <a href="library_development.html" title="Library development"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">OpenTURNS 1.16dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="developer_guide.html" >Contribute</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005-2018 Airbus-EDF-IMACS-ONERA-Phimeca.
      Last updated on Jan 01, 2018.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.1.0+/f76d769ba.
    </div>
  </body>
</html>