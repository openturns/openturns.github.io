<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Sphinx documentation &#8212; OpenTURNS 1.23dev documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../_static/openturns.css?v=105494d3" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=890937b7" />
    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=8c445dbb"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/mysearchtools.js?v=a003391d"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Module development" href="module_development.html" />
    <link rel="prev" title="Library development" href="library_development.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="http://www.openturns.org/">Home</a></li>
    <li><a href="../install.html">Get it</a></li>
    <li><a href="../contents.html">Doc</a></li>
    <li><a href="https://openturns.discourse.group/">Forum</a></li>
    <li><a href="https://gitter.im/openturns/community">Chat</a></li>
    <li><a href="https://github.com/openturns/openturns/wiki/Modules">Modules</a></li>
    <li><a href="https://github.com/openturns">Code</a></li>
    <li><a href="https://github.com/openturns/openturns/issues">Bugs</a></li>
  </ul>
  <a href="../index.html">
    <h1>
      <img src="../_static/logo-openturns-wo-bg.png" alt="" width=100px height=100px />
      OpenTURNS
    </h1>
    <h2> An Open source initiative for the Treatment of Uncertainties, Risks'N Statistics</h2>
  </a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="module_development.html" title="Module development"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="library_development.html" title="Library development"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">OpenTURNS 1.23dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="developer_guide.html" accesskey="U">Contribute</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Sphinx documentation</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Sphinx documentation</a><ul>
<li><a class="reference internal" href="#sphinx-101">Sphinx 101</a><ul>
<li><a class="reference internal" href="#sphinx-extensions">Sphinx extensions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#docstrings-in-separate-swig-header-files">Docstrings (in separate SWIG header files)</a><ul>
<li><a class="reference internal" href="#docstring-conventions">Docstring conventions</a></li>
<li><a class="reference internal" href="#latex">LaTeX</a></li>
<li><a class="reference internal" href="#docstrings-inheritance">Docstrings &amp; inheritance</a></li>
<li><a class="reference internal" href="#bridge-pattern">Bridge pattern</a></li>
</ul>
</li>
<li><a class="reference internal" href="#integration-to-the-build-system">Integration to the build system</a></li>
<li><a class="reference internal" href="#example-gallery">Example gallery</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="library_development.html"
                          title="previous chapter">Library development</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="module_development.html"
                          title="next chapter">Module development</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/developer_guide/sphinx_documentation.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="sphinx-documentation">
<span id="sphinx-doc"></span><h1>Sphinx documentation<a class="headerlink" href="#sphinx-documentation" title="Link to this heading">¶</a></h1>
<p>This section deals with the sphinx documentation included in the library repository
and built on top the Python interface.</p>
<section id="sphinx-101">
<h2>Sphinx 101<a class="headerlink" href="#sphinx-101" title="Link to this heading">¶</a></h2>
<p>This documentation is powered by the <a class="reference external" href="http://sphinx-doc.org">Sphinx documentation system</a>.
Hence, reading <a class="reference external" href="http://sphinx-doc.org/contents.html">Sphinx’s own documentation</a>
might be a good idea for starters! You will also need to learn some basics
about its main featured language: <a class="reference external" href="http://sphinx-doc.org/rest.html">reStructuredText</a>.</p>
<section id="sphinx-extensions">
<h3>Sphinx extensions<a class="headerlink" href="#sphinx-extensions" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>numpydoc</dt><dd><p>The <a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html#docstring-standard">numpydoc</a>
Sphinx extension is used for a structured semi-automatic generation of the
<a class="reference internal" href="../user_manual/user_manual.html#user-manual"><span class="std std-ref">User Manual</span></a> from the <a class="reference internal" href="#contribute-docstrings"><span class="std std-ref">docstrings</span></a>
of OpenTURNS objects.</p>
</dd>
<dt>matplotlib.sphinxext.plot_directive</dt><dd><p>The <a class="reference external" href="http://matplotlib.org/sampledoc/extensions.html">plot_directive</a>
Matplotlib/Sphinx extension is used for <em>executing</em> and <em>testing</em> the
code blocks featured in the pages of this documentation, especially in the
<a class="reference internal" href="../examples/examples.html#examples"><span class="std std-ref">examples section</span></a>.</p>
</dd>
<dt>sphinx_gallery.gen_gallery</dt><dd><p>The <a class="reference external" href="https://sphinx-gallery.github.io/stable/gen_modules/sphinx_gallery.gen_gallery.html">gen_gallery</a>
extension from Sphinx-Gallery is used to generate pages from the examples directory.</p>
</dd>
</dl>
</section>
</section>
<section id="docstrings-in-separate-swig-header-files">
<span id="contribute-docstrings"></span><h2>Docstrings (in separate SWIG header files)<a class="headerlink" href="#docstrings-in-separate-swig-header-files" title="Link to this heading">¶</a></h2>
<p>OpenTURNS main featured language is C++. We then use <a class="reference external" href="http://swig.org/">SWIG</a>
in order to generate the Python interface. Hence, docstrings are defined
within <strong>dedicated SWIG header files</strong> (<code class="file docutils literal notranslate"><span class="pre">$OT_SOURCE_DIR/python/src/*_doc.i.in</span></code>)
and are then included in the main SWIG header files
(<code class="file docutils literal notranslate"><span class="pre">$OT_SOURCE_DIR/python/src/*.i</span></code>).</p>
<p>For instance, the docstrings for the <a class="reference internal" href="../user_manual/_generated/openturns.Arcsine.html#openturns.Arcsine" title="openturns.Arcsine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Arcsine</span></code></a> distribution
are defined in <code class="file docutils literal notranslate"><span class="pre">Arcsine_doc.i.in</span></code>, and this docstring file is then
included in <code class="file docutils literal notranslate"><span class="pre">Arcsine.i</span></code> using a <cite>%include Arcsine_doc.i</cite>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note the difference between the name of the docstring file in the source
tree (<code class="file docutils literal notranslate"><span class="pre">Arcsine_doc.i.in</span></code>) and its reference in <code class="file docutils literal notranslate"><span class="pre">Arcsine.i</span></code>.
The <code class="file docutils literal notranslate"><span class="pre">.in</span></code> suffix disappeared because the docstring files are
preprocessed by CMake in order to escape LaTeX backslashes for SWIG and
Python.</p>
<p>Note also that the use of double quotes (<cite>”</cite>) in docstrings is forbidden.
This is because SWIG uses them to delimit the docstrings.</p>
</div>
<p>Here are a few recommendations you’d better read in order to help us enhancing
the docstrings coverage.</p>
<section id="docstring-conventions">
<h3>Docstring conventions<a class="headerlink" href="#docstring-conventions" title="Link to this heading">¶</a></h3>
<p>Please follow <a class="reference external" href="https://www.python.org/dev/peps/pep-0257">PEP257</a> and
<a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html#docstring-standard">numpydoc</a>
guidelines for writing the docstrings as well as <a class="reference external" href="http://legacy.python.org/dev/peps/pep-0008/">PEP8</a>
recommendations for the Examples section (for instance, please don’t
<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">openturns</span> <span class="pre">import</span> <span class="pre">*</span></code>, indent with 4 spaces, etc. …).</p>
</section>
<section id="latex">
<h3>LaTeX<a class="headerlink" href="#latex" title="Link to this heading">¶</a></h3>
<p>Using maths is highly recommended for illustrating the mathematical concepts
featured in OpenTURNS. Mathematical expression must use Sphinx <code class="docutils literal notranslate"><span class="pre">:math:</span></code>
roles for inline maths, and <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">math::</span></code> directives for equations. These
equations will appear as plain LaTeX at prompt (using the <code class="docutils literal notranslate"><span class="pre">help</span></code> command in
Python or the <code class="docutils literal notranslate"><span class="pre">?</span></code> suffix in IPython) but Sphinx will render them as PNG images
in the <a class="reference internal" href="../user_manual/user_manual.html#user-manual"><span class="std std-ref">User Manual</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please use the math commands defined in our <code class="file docutils literal notranslate"><span class="pre">math_notations.sty</span></code>
LaTeX package.</p>
</div>
</section>
<section id="docstrings-inheritance">
<h3>Docstrings &amp; inheritance<a class="headerlink" href="#docstrings-inheritance" title="Link to this heading">¶</a></h3>
<p>Good news! Docstrings are inherited so that we only need to document the
methods of the parent objects (until we want to make them more specific).</p>
</section>
<section id="bridge-pattern">
<h3>Bridge pattern<a class="headerlink" href="#bridge-pattern" title="Link to this heading">¶</a></h3>
<p>An important number of objects use the <a class="reference internal" href="architecture.html#bridge-pattern"><span class="std std-ref">bridge pattern</span></a>.
For instance, the <a class="reference internal" href="../user_manual/_generated/openturns.Distribution.html#openturns.Distribution" title="openturns.Distribution"><code class="xref py py-class docutils literal notranslate"><span class="pre">Distribution</span></code></a>
object which is the interface class for all probability distributions
has an implementation class <strong>DistributionImplementation</strong> (that we don’t
need to expose). And the trick is that the interface class does not inherit from
its implementation object but the children do, so we need to
document them both.</p>
<p>In order to avoid docstrings duplicates though we decided to document the
implementation class with defined blocks. Since we load the
implementation first, we can then refer to the same defined
blocks for documenting the object itself.</p>
<p>For instance the main docstring of the <a class="reference internal" href="../user_manual/_generated/openturns.Distribution.html#openturns.Distribution" title="openturns.Distribution"><code class="xref py py-class docutils literal notranslate"><span class="pre">Distribution</span></code></a>
object is defined and referred to in the <code class="file docutils literal notranslate"><span class="pre">DistributionImplementation_doc.i.in</span></code>
SWIG header file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="o">%</span><span class="n">define</span> <span class="n">OT_Distribution_doc</span>
<span class="s2">&quot;Base class for probability distributions.&quot;</span>
<span class="o">%</span><span class="n">enddef</span>
<span class="o">%</span><span class="n">feature</span><span class="p">(</span><span class="s2">&quot;docstring&quot;</span><span class="p">)</span> <span class="n">OT</span><span class="p">::</span><span class="n">DistributionImplementation</span>
<span class="n">OT_Distribution_doc</span>
<span class="o">...</span>
</pre></div>
</div>
<p>and it is then only being referred to in the <code class="file docutils literal notranslate"><span class="pre">Distribution_doc.i.in</span></code>
SWIG header file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="o">%</span><span class="n">feature</span><span class="p">(</span><span class="s2">&quot;docstring&quot;</span><span class="p">)</span> <span class="n">OT</span><span class="p">::</span><span class="n">Distribution</span>
<span class="n">OT_Distribution_doc</span>
<span class="o">...</span>
</pre></div>
</div>
</section>
</section>
<section id="integration-to-the-build-system">
<h2>Integration to the build system<a class="headerlink" href="#integration-to-the-build-system" title="Link to this heading">¶</a></h2>
<p>The separate docstring SWIG header files are included in the SWIG header files
of the <a class="reference external" href="https://github.com/openturns">openturns repos</a>, so this does
not need any further integration steps (out of the backslashes escaper CMake
script). A docstring test (<cite>python/test/t_docstring.py</cite>) has been added to the
Python tests.</p>
<p>We added the following CMake variables:</p>
<dl class="simple">
<dt>SPHINX_EXECUTABLE</dt><dd><p>Path to the <em>sphinx-build</em> command.</p>
</dd>
<dt>SPHINX_FLAGS</dt><dd><p>This is passed as the options of the sphinx-build command (see
<a class="reference external" href="https://www.sphinx-doc.org/en/master/man/sphinx-build.html">sphinx-build invocation</a>).</p>
</dd>
</dl>
<p>All these targets depend on the rst files located in the sources
(<code class="file docutils literal notranslate"><span class="pre">$OT_SOURCE_DIR/python/doc/*.rst</span></code>).</p>
</section>
<section id="example-gallery">
<h2>Example gallery<a class="headerlink" href="#example-gallery" title="Link to this heading">¶</a></h2>
<p>Example pages are generated from Python scripts in the examples directory
(<code class="file docutils literal notranslate"><span class="pre">$OT_SOURCE_DIR/python/doc/examples/*.py</span></code>).</p>
<p>Each page allows one to display notebook-like code or text cells.
Each cell is delimited by a specific marker and the text cells are written in
rst format, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># %%</span>
<span class="c1"># First cell (text) in *rst* format inside comments</span>
<span class="c1"># Some formula :math:`\lambda = 4`</span>

<span class="c1"># %%</span>
<span class="kn">import</span> <span class="nn">openturns</span> <span class="k">as</span> <span class="nn">ot</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Second cell (code)&quot;</span><span class="p">)</span>
<span class="n">dist</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Normal</span><span class="p">()</span>
</pre></div>
</div>
<p>Output cells are rendered at compilation time, so the script must
not be too long to run.</p>
<p>Figures are automatically generated from the matplotlib handles,
for example using the openturns.viewer module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># %%</span>
<span class="kn">from</span> <span class="nn">openturns.viewer</span> <span class="kn">import</span> <span class="n">View</span>
<span class="n">graph</span> <span class="o">=</span> <span class="n">dist</span><span class="o">.</span><span class="n">drawPDF</span><span class="p">()</span>
<span class="n">view</span> <span class="o">=</span> <span class="n">View</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that sphinx runs the examples in the same Python process so you might want
to reset the random generator at the beginning of your example for consistent
results:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># %%</span>
<span class="kn">import</span> <span class="nn">openturns</span> <span class="k">as</span> <span class="nn">ot</span>
<span class="n">ot</span><span class="o">.</span><span class="n">RandomGenerator</span><span class="o">.</span><span class="n">SetSeed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>For the same reason you might want to reset the ResourceMap default values at
the end if your example sets specific settings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># %%</span>
<span class="c1"># Reset default settings</span>
<span class="n">ot</span><span class="o">.</span><span class="n">ResourceMap</span><span class="o">.</span><span class="n">Reload</span><span class="p">()</span>
</pre></div>
</div>
<p>The special variable <a class="reference external" href="https://sphinx-gallery.github.io/stable/configuration.html#choosing-thumbnail">sphinx_gallery_thumbnail_number</a>
can be used to determine which figure is used as thumbnail in the examples gallery:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># %%</span>
<span class="c1"># sphinx_gallery_thumbnail_number = 3</span>
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="module_development.html" title="Module development"
             >next</a> |</li>
        <li class="right" >
          <a href="library_development.html" title="Library development"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">OpenTURNS 1.23dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="developer_guide.html" >Contribute</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Sphinx documentation</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2005-2022 Airbus-EDF-IMACS-ONERA-Phimeca.
      Last updated on Jan 01, 2022.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
    </div>
  </body>
</html>