
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Apply a transform or inverse transform on your polynomial chaos &#8212; OpenTURNS 1.19dev documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/openturns.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/mysearchtools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Fit a distribution from an input sample" href="plot_chaos_build_distribution.html" />
    <link rel="prev" title="Over-fitting and model selection" href="../general_purpose_metamodels/plot_overfitting_model_selection.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="http://www.openturns.org/">Home</a></li>
    <li><a href="../../install.html">Get it</a></li>
    <li><a href="../../contents.html">Doc</a></li>
    <li><a href="https://openturns.discourse.group/">Forum</a></li>
    <li><a href="https://gitter.im/openturns/community">Chat</a></li>
    <li><a href="https://github.com/openturns/openturns/wiki/Modules">Modules</a></li>
    <li><a href="https://github.com/openturns">Code</a></li>
    <li><a href="https://github.com/openturns/openturns/issues">Bugs</a></li>
  </ul>
  <a href="../../index.html">
    <h1>
      <img src="../../_static/logo-openturns-wo-bg.png" alt="" width=100px height=100px />
      OpenTURNS
    </h1>
    <h2> An Open source initiative for the Treatment of Uncertainties, Risks'N Statistics</h2>
  </a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="plot_chaos_build_distribution.html" title="Fit a distribution from an input sample"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../general_purpose_metamodels/plot_overfitting_model_selection.html" title="Over-fitting and model selection"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenTURNS 1.19dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../examples/examples.html" >Examples</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../index.html" accesskey="U">Meta modeling</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Apply a transform or inverse transform on your polynomial chaos</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Apply a transform or inverse transform on your polynomial chaos</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#probabilistic-transform">Probabilistic transform</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#conclusion">Conclusion</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../general_purpose_metamodels/plot_overfitting_model_selection.html"
                        title="previous chapter">Over-fitting and model selection</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="plot_chaos_build_distribution.html"
                        title="next chapter">Fit a distribution from an input sample</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/auto_meta_modeling/polynomial_chaos_metamodel/plot_chaos_distribution_transformation.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-meta-modeling-polynomial-chaos-metamodel-plot-chaos-distribution-transformation-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="apply-a-transform-or-inverse-transform-on-your-polynomial-chaos">
<span id="sphx-glr-auto-meta-modeling-polynomial-chaos-metamodel-plot-chaos-distribution-transformation-py"></span><h1>Apply a transform or inverse transform on your polynomial chaos<a class="headerlink" href="#apply-a-transform-or-inverse-transform-on-your-polynomial-chaos" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>In this document we present the transformation involved in the creation of a polynomial chaos. Indeed, the polynomial chaos expansion is never directly applied to the input random variable of a model <img class="math" src="../../_images/math/658ae44ee69111e3048325f416f44d6080707928.svg" alt="g"/>. Instead, the expansion is expressed based on the associated standard random variable. In this example,  we show how to transform a Log-Normal random variable into its standardized variable with the class <cite>DistributionTransformation</cite>.</p>
</div>
<div class="section" id="probabilistic-transform">
<h2>Probabilistic transform<a class="headerlink" href="#probabilistic-transform" title="Permalink to this headline">¶</a></h2>
<p>Let <img class="math" src="../../_images/math/893b95408f6feaa3c0bf7b3d915e498bce7feb0c.svg" alt="T"/> be the probabilistic transform which maps the physical random variable <img class="math" src="../../_images/math/ea775056706c0642a79ca7b47cbc53cd1a63fc8d.svg" alt="X"/> to the standardized random variable <img class="math" src="../../_images/math/249b93f646aa99260eb59f028956aa29f6c91622.svg" alt="\xi"/>:</p>
<div class="math">
<p><img src="../../_images/math/4dbc56d1b224d6972a0953aeab37a86fc883aca9.svg" alt="\xi = T(X)."/></p>
</div><p>Let <img class="math" src="../../_images/math/1f902dbd4cff011b248f0adbe5e955378284f5f4.svg" alt="F_X"/> be the Cumulative Distribution Function (CDF) associated with the random variable <img class="math" src="../../_images/math/ea775056706c0642a79ca7b47cbc53cd1a63fc8d.svg" alt="X"/> and let <img class="math" src="../../_images/math/3aa57e97b3c87b5ad750c60183494619194e3823.svg" alt="F_\xi"/> be the CDF associated with the random variable <img class="math" src="../../_images/math/249b93f646aa99260eb59f028956aa29f6c91622.svg" alt="\xi"/>. Therefore, <img class="math" src="../../_images/math/3aa57e97b3c87b5ad750c60183494619194e3823.svg" alt="F_\xi"/> is the CDF associated with the orthogonal polynomials involved in the polynomial chaos expansion. In this case, the transform is:</p>
<div class="math">
<p><img src="../../_images/math/e6b451f28a4ec80741af41fc27b2367088938f27.svg" alt="\xi = F_\xi^{-1} \left( F_X(X) \right),"/></p>
</div><p>for any <img class="math" src="../../_images/math/dc930025682b47a24a51140cdcd540bff6874056.svg" alt="X \in \mathbb{R}"/>.</p>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>We want to use the Hermite orthogonal polynomials to expand a Log-Normal random variable:</p>
<ul class="simple">
<li><p>let <img class="math" src="../../_images/math/ea775056706c0642a79ca7b47cbc53cd1a63fc8d.svg" alt="X"/> follow the Log-Normal distribution with the following parameters: Lognormal(<img class="math" src="../../_images/math/cadd3c606be979674cfb7fd399bd26a8046ec3b3.svg" alt="\mu=3 \times 10^4"/>, <img class="math" src="../../_images/math/9c70ee20b27c727abc736b5fd2fac6669208adca.svg" alt="\sigma=9\times 10^3"/>),</p></li>
<li><p>let <img class="math" src="../../_images/math/77082d9a37e51beadf4a0cbc20d0ed23f7b0a1aa.svg" alt="Z=\xi"/> follow the Normal distribution with zero mean and unit standard deviation (the letter <img class="math" src="../../_images/math/cc91179189738c9223d552e868c802f621878744.svg" alt="Z"/> is often used for standard Normal random variables).</p></li>
</ul>
<p>Let <img class="math" src="../../_images/math/3f0158fbd29f670cc4cfd8525da36c6732b3bff4.svg" alt="F_{LN}"/> be the CDF of the Log-Normal distribution associated with <img class="math" src="../../_images/math/ea775056706c0642a79ca7b47cbc53cd1a63fc8d.svg" alt="X"/> and let <img class="math" src="../../_images/math/4f2a50f4e9e7030a139ff2237cee9e1274618fad.svg" alt="\Phi"/> be the CDF of the standard Normal distribution.</p>
<p>Therefore,</p>
<div class="math">
<p><img src="../../_images/math/ec369effedf1c21fafc6376a4dcebdb5c74fc3e9.svg" alt="Z = T(X) = \Phi^{-1}(F_{LN}(X)),"/></p>
</div><p>for any <img class="math" src="../../_images/math/dc930025682b47a24a51140cdcd540bff6874056.svg" alt="X \in \mathbb{R}"/>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openturns</span> <span class="k">as</span> <span class="nn">ot</span>
</pre></div>
</div>
<p>In the first step, we define the LogNormal distribution. Its parameters - mean and standard deviation - have been selected so that there is no ambiguity with the standard Normal distribution. This parametrization can be used thanks to the <cite>ParametrizedDistribution</cite> class.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Xparam</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">LogNormalMuSigma</span><span class="p">(</span><span class="mf">3.0e4</span><span class="p">,</span> <span class="mf">9.0e3</span><span class="p">,</span> <span class="mf">15.0e3</span><span class="p">)</span>  <span class="c1"># in N</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">ParametrizedDistribution</span><span class="p">(</span><span class="n">Xparam</span><span class="p">)</span>
</pre></div>
</div>
<p>Then we generate a 5-point sample.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sampleX</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">getSample</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">sampleX</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<TABLE><TR><TD></TD><TH>X0</TH></TR>
<TR><TH>0</TH><TD>24851.57</TD></TR>
<TR><TH>1</TH><TD>39644.81</TD></TR>
<TR><TH>2</TH><TD>27619.95</TD></TR>
<TR><TH>3</TH><TD>28962.72</TD></TR>
<TR><TH>4</TH><TD>25575.91</TD></TR>
</TABLE>
</div>
<br />
<br /><p>In the second step, we define the random variable <img class="math" src="../../_images/math/cc91179189738c9223d552e868c802f621878744.svg" alt="Z"/> with standard Normal distribution.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Z</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Normal</span><span class="p">()</span>
</pre></div>
</div>
<p>We also generate a sample from it.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sampleZ</span> <span class="o">=</span> <span class="n">Z</span><span class="o">.</span><span class="n">getSample</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">sampleZ</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<TABLE><TR><TD></TD><TH>X0</TH></TR>
<TR><TH>0</TH><TD>-0.2627547</TD></TR>
<TR><TH>1</TH><TD>0.2319856</TD></TR>
<TR><TH>2</TH><TD>-0.3728253</TD></TR>
<TR><TH>3</TH><TD>-0.3093705</TD></TR>
<TR><TH>4</TH><TD>-1.054682</TD></TR>
</TABLE>
</div>
<br />
<br /><p>In the third step, we create the transform T which maps X to Z.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">T</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">DistributionTransformation</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Z</span><span class="p">)</span>
</pre></div>
</div>
<p>We apply this transform on the sample generated from <cite>X</cite>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">T</span><span class="p">(</span><span class="n">sampleX</span><span class="p">)</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<TABLE><TR><TD></TD><TH>y0</TH></TR>
<TR><TH>0</TH><TD>-0.4809216</TD></TR>
<TR><TH>1</TH><TD>1.172666</TD></TR>
<TR><TH>2</TH><TD>-0.03431651</TD></TR>
<TR><TH>3</TH><TD>0.1480268</TD></TR>
<TR><TH>4</TH><TD>-0.3529745</TD></TR>
</TABLE>
</div>
<br />
<br /><p>The inverse transform maps <img class="math" src="../../_images/math/cc91179189738c9223d552e868c802f621878744.svg" alt="Z"/> into <img class="math" src="../../_images/math/ea775056706c0642a79ca7b47cbc53cd1a63fc8d.svg" alt="X"/>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Tinverse</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Tinverse</span><span class="p">(</span><span class="n">sampleZ</span><span class="p">)</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<TABLE><TR><TD></TD><TH>y0</TH></TR>
<TR><TH>0</TH><TD>26118.46</TD></TR>
<TR><TH>1</TH><TD>29628.14</TD></TR>
<TR><TH>2</TH><TD>25460.13</TD></TR>
<TR><TH>3</TH><TD>25834.74</TD></TR>
<TR><TH>4</TH><TD>22166.9</TD></TR>
</TABLE>
</div>
<br />
<br /></div>
<div class="section" id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h2>
<p>The <cite>DistributionTransformation</cite> class is rarely used directly because the polynomial chaos classes perform the transformation automatically. However, understanding how this transform is done clarifies why the coefficients of the chaos expansion cannot be related to the input random variable <img class="math" src="../../_images/math/ea775056706c0642a79ca7b47cbc53cd1a63fc8d.svg" alt="X"/>: the expansion is based on the standard variables <img class="math" src="../../_images/math/249b93f646aa99260eb59f028956aa29f6c91622.svg" alt="\xi"/>. Hence, the absolute values of the corresponding coefficients have no straightforward interpretation, even though squaring them yields the part of the global variance associated with each coefficient.</p>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  0.003 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-meta-modeling-polynomial-chaos-metamodel-plot-chaos-distribution-transformation-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/4ce6ed6379d67bee2774b8e6a5db7d8d/plot_chaos_distribution_transformation.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_chaos_distribution_transformation.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/5b2b0b5aa513e40de0d323685cd6644f/plot_chaos_distribution_transformation.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_chaos_distribution_transformation.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="plot_chaos_build_distribution.html" title="Fit a distribution from an input sample"
             >next</a> |</li>
        <li class="right" >
          <a href="../general_purpose_metamodels/plot_overfitting_model_selection.html" title="Over-fitting and model selection"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenTURNS 1.19dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../examples/examples.html" >Examples</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../index.html" >Meta modeling</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Apply a transform or inverse transform on your polynomial chaos</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005-2018 Airbus-EDF-IMACS-ONERA-Phimeca.
      Last updated on Jan 01, 2018.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.2.
    </div>
  </body>
</html>