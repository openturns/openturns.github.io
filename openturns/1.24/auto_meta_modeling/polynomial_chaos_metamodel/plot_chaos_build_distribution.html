<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Fit a distribution from an input sample &#8212; OpenTURNS 1.24 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../../_static/openturns.css?v=105494d3" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=4652c2b6" />
    <script src="../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../../_static/documentation_options.js?v=eff3c53f"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=35a8b989"></script>
    <script src="../../_static/js/mysearchtools.js?v=a003391d"></script>
    <link rel="icon" href="../../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Polynomial chaos exploitation" href="plot_functional_chaos_exploitation.html" />
    <link rel="prev" title="Apply a transform or inverse transform on your polynomial chaos" href="plot_chaos_distribution_transformation.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="http://www.openturns.org/">Home</a></li>
    <li><a href="../../install.html">Get it</a></li>
    <li><a href="../../contents.html">Doc</a></li>
    <li><a href="https://openturns.discourse.group/">Forum</a></li>
    <li><a href="https://gitter.im/openturns/community">Chat</a></li>
    <li><a href="https://github.com/openturns/openturns/wiki/Modules">Modules</a></li>
    <li><a href="https://github.com/openturns">Code</a></li>
    <li><a href="https://github.com/openturns/openturns/issues">Bugs</a></li>
  </ul>
  <a href="../../index.html">
    <h1>
      <img src="../../_static/logo-openturns-wo-bg.png" alt="" width=100px height=100px />
      OpenTURNS
    </h1>
    <h2> An Open source initiative for the Treatment of Uncertainties, Risks'N Statistics</h2>
  </a>
</div>

    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="plot_functional_chaos_exploitation.html" title="Polynomial chaos exploitation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="plot_chaos_distribution_transformation.html" title="Apply a transform or inverse transform on your polynomial chaos"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenTURNS 1.24 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../examples/examples.html" >Examples</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../index.html" >Meta modeling</a> &#187;</li>
          <li class="nav-item nav-item-4"><a href="index.html" accesskey="U">Polynomial chaos metamodel</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Fit a distribution from an input sample</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="plot_chaos_distribution_transformation.html"
                          title="previous chapter">Apply a transform or inverse transform on your polynomial chaos</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="plot_functional_chaos_exploitation.html"
                          title="next chapter">Polynomial chaos exploitation</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/auto_meta_modeling/polynomial_chaos_metamodel/plot_chaos_build_distribution.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-auto-meta-modeling-polynomial-chaos-metamodel-plot-chaos-build-distribution-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code.</p>
</div>
<section class="sphx-glr-example-title" id="fit-a-distribution-from-an-input-sample">
<span id="sphx-glr-auto-meta-modeling-polynomial-chaos-metamodel-plot-chaos-build-distribution-py"></span><h1>Fit a distribution from an input sample<a class="headerlink" href="#fit-a-distribution-from-an-input-sample" title="Link to this heading">¶</a></h1>
<p>In this example we show how to use the
<a class="reference internal" href="../../user_manual/response_surface/_generated/openturns.MetaModelAlgorithm.html#openturns.MetaModelAlgorithm.BuildDistribution" title="openturns.MetaModelAlgorithm.BuildDistribution"><code class="xref py py-meth docutils literal notranslate"><span class="pre">BuildDistribution()</span></code></a> function to fit a distribution to an
input sample.
This function is used by the <a class="reference internal" href="../../user_manual/response_surface/_generated/openturns.FunctionalChaosAlgorithm.html#openturns.FunctionalChaosAlgorithm" title="openturns.FunctionalChaosAlgorithm"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionalChaosAlgorithm</span></code></a>
class when we want to create a polynomial chaos metamodel and we have a
design of experiments which have been computed beforehand.
In this case, we have to identify the distributions which best fit to the
input sample in order to define the input probabilistic model.
This is, in turn, used by in the polynomial chaos to create the orthogonal basis.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openturns</span> <span class="k">as</span> <span class="nn">ot</span>

<span class="n">ot</span><span class="o">.</span><span class="n">Log</span><span class="o">.</span><span class="n">Show</span><span class="p">(</span><span class="n">ot</span><span class="o">.</span><span class="n">Log</span><span class="o">.</span><span class="n">NONE</span><span class="p">)</span>
</pre></div>
</div>
<p>We first create the function <cite>model</cite>.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">ot</span><span class="o">.</span><span class="n">RandomGenerator</span><span class="o">.</span><span class="n">SetSeed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">dimension</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">input_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="s2">&quot;x2&quot;</span><span class="p">]</span>
<span class="n">formulas</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;cos(x1 + x2)&quot;</span><span class="p">,</span> <span class="s2">&quot;(x2 + 1) * exp(x1)&quot;</span><span class="p">]</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">SymbolicFunction</span><span class="p">(</span><span class="n">input_names</span><span class="p">,</span> <span class="n">formulas</span><span class="p">)</span>
</pre></div>
</div>
<p>Then we create a sample <cite>x</cite> and compute the corresponding output sample <cite>y</cite>.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">distribution</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Normal</span><span class="p">(</span><span class="n">dimension</span><span class="p">)</span>
<span class="n">samplesize</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">inputSample</span> <span class="o">=</span> <span class="n">distribution</span><span class="o">.</span><span class="n">getSample</span><span class="p">(</span><span class="n">samplesize</span><span class="p">)</span>
<span class="n">outputSample</span> <span class="o">=</span> <span class="n">model</span><span class="p">(</span><span class="n">inputSample</span><span class="p">)</span>
</pre></div>
</div>
<p>Create a functional chaos model.
The algorithm used by <a class="reference internal" href="../../user_manual/response_surface/_generated/openturns.MetaModelAlgorithm.html#openturns.MetaModelAlgorithm.BuildDistribution" title="openturns.MetaModelAlgorithm.BuildDistribution"><code class="xref py py-meth docutils literal notranslate"><span class="pre">BuildDistribution()</span></code></a>
fits a distribution on the input sample.
This is done with the Lilliefors test.
Please read <a class="reference internal" href="../../theory/data_analysis/kolmogorov_test.html#kolmogorov-smirnov-test"><span class="std std-ref">The Kolmogorov-Smirnov goodness of fit test for continuous data</span></a> for more details on this topic.</p>
<p>The Lilliefors test is based on sampling the distribution of the
Kolmogorov-Smirnov statistics.
The sample size corresponding to this algorithm is configured
by the <cite>“FittingTest-LillieforsMaximumSamplingSize”</cite> <a class="reference internal" href="../../user_manual/_generated/openturns.ResourceMap.html#openturns.ResourceMap" title="openturns.ResourceMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResourceMap</span></code></a>
key.
In order to get satisfactory results, the default value of this
key is relatively large.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">ot</span><span class="o">.</span><span class="n">ResourceMap</span><span class="o">.</span><span class="n">GetAsUnsignedInteger</span><span class="p">(</span><span class="s2">&quot;FittingTest-LillieforsMaximumSamplingSize&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>100000
</pre></div>
</div>
<p>In order to speed this example up, let us reduce this value.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">ot</span><span class="o">.</span><span class="n">ResourceMap</span><span class="o">.</span><span class="n">SetAsUnsignedInteger</span><span class="p">(</span><span class="s2">&quot;FittingTest-LillieforsMaximumSamplingSize&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>Then we fit the distribution.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">distribution</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">FunctionalChaosAlgorithm</span><span class="o">.</span><span class="n">BuildDistribution</span><span class="p">(</span><span class="n">inputSample</span><span class="p">)</span>
</pre></div>
</div>
<p>Let us explore the distribution with its fitted parameters.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">distribution</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
JointDistribution
<ul>
  <li>name=JointDistribution</li>
  <li>dimension: 2</li>
  <li>description=[X0,X1]
  <li>copula: IndependentCopula(dimension = 2)</li>
</ul>

<table>
  <tr>
    <th>Index</th>
    <th>Variable</th>
    <th>Distribution</th>
  </tr>
  <tr>
    <td>0</td>
    <td>X0</td>
    <td>Normal(mu = -0.0268588, sigma = 0.985838)</td>
  </tr>
  <tr>
    <td>1</td>
    <td>X1</td>
    <td>Normal(mu = 0.00246667, sigma = 1.00015)</td>
  </tr>
</table>

</div>
<br />
<br /><p>We can also analyze its properties in more details.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">dimension</span><span class="p">):</span>
    <span class="n">marginal</span> <span class="o">=</span> <span class="n">distribution</span><span class="o">.</span><span class="n">getMarginal</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">marginalname</span> <span class="o">=</span> <span class="n">marginal</span><span class="o">.</span><span class="n">getImplementation</span><span class="p">()</span><span class="o">.</span><span class="n">getClassName</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Marginal #&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">marginalname</span><span class="p">)</span>
<span class="n">distribution</span><span class="o">.</span><span class="n">getCopula</span><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Marginal # 0 : Normal
Marginal # 1 : Normal
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
IndependentCopula
<ul>
  <li>name=IndependentCopula</li>
  <li>dimension=2</li>
  <li>weight=1</li>
  <li>range=[0, 1]
[0, 1]</li>
  <li>description=[X0,X1]</li>
  <li>isParallel=true</li>
  <li>isCopula=true</li>
</ul>

</div>
<br />
<br /><p>The previous call to <a class="reference internal" href="../../user_manual/response_surface/_generated/openturns.MetaModelAlgorithm.html#openturns.MetaModelAlgorithm.BuildDistribution" title="openturns.MetaModelAlgorithm.BuildDistribution"><code class="xref py py-meth docutils literal notranslate"><span class="pre">BuildDistribution()</span></code></a> is what is done internally by the
following constructor of <a class="reference internal" href="../../user_manual/response_surface/_generated/openturns.FunctionalChaosAlgorithm.html#openturns.FunctionalChaosAlgorithm" title="openturns.FunctionalChaosAlgorithm"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionalChaosAlgorithm</span></code></a>.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">FunctionalChaosAlgorithm</span><span class="p">(</span><span class="n">inputSample</span><span class="p">,</span> <span class="n">outputSample</span><span class="p">)</span>
</pre></div>
</div>
<p>The previous constructor is the main topic of the example
<a class="reference internal" href="plot_functional_chaos.html"><span class="doc">Create a polynomial chaos metamodel from a data set</span></a>.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">ot</span><span class="o">.</span><span class="n">ResourceMap</span><span class="o">.</span><span class="n">Reload</span><span class="p">()</span>  <span class="c1"># reset default settings</span>
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (0 minutes 2.367 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-meta-modeling-polynomial-chaos-metamodel-plot-chaos-build-distribution-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/dd76f5e1add5920db60c2e55c5724788/plot_chaos_build_distribution.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_chaos_build_distribution.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/32e677f64fc66b916d228519d2033682/plot_chaos_build_distribution.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_chaos_build_distribution.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-zip docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/6e20a49211011af7e84a81b89b2ac70f/plot_chaos_build_distribution.zip"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">zipped:</span> <span class="pre">plot_chaos_build_distribution.zip</span></code></a></p>
</div>
</div>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="plot_functional_chaos_exploitation.html" title="Polynomial chaos exploitation"
             >next</a> |</li>
        <li class="right" >
          <a href="plot_chaos_distribution_transformation.html" title="Apply a transform or inverse transform on your polynomial chaos"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenTURNS 1.24 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../examples/examples.html" >Examples</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../index.html" >Meta modeling</a> &#187;</li>
          <li class="nav-item nav-item-4"><a href="index.html" >Polynomial chaos metamodel</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Fit a distribution from an input sample</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2005-2024 Airbus-EDF-IMACS-ONERA-Phimeca.
      Last updated on Nov 25, 2024.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>