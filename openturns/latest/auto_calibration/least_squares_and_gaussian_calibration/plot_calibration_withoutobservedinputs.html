
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Calibration without observed inputs &#8212; OpenTURNS 1.21 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/openturns.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/mysearchtools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Calibration of the logistic model" href="plot_calibration_logistic.html" />
    <link rel="prev" title="Generate observations of the Chaboche mechanical model" href="plot_generate_chaboche.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="http://www.openturns.org/">Home</a></li>
    <li><a href="../../install.html">Get it</a></li>
    <li><a href="../../contents.html">Doc</a></li>
    <li><a href="https://openturns.discourse.group/">Forum</a></li>
    <li><a href="https://gitter.im/openturns/community">Chat</a></li>
    <li><a href="https://github.com/openturns/openturns/wiki/Modules">Modules</a></li>
    <li><a href="https://github.com/openturns">Code</a></li>
    <li><a href="https://github.com/openturns/openturns/issues">Bugs</a></li>
  </ul>
  <a href="../../index.html">
    <h1>
      <img src="../../_static/logo-openturns-wo-bg.png" alt="" width=100px height=100px />
      OpenTURNS
    </h1>
    <h2> An Open source initiative for the Treatment of Uncertainties, Risks'N Statistics</h2>
  </a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="plot_calibration_logistic.html" title="Calibration of the logistic model"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="plot_generate_chaboche.html" title="Generate observations of the Chaboche mechanical model"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenTURNS 1.21 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../examples/examples.html" >Examples</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../index.html" >Calibration</a> &#187;</li>
          <li class="nav-item nav-item-4"><a href="index.html" accesskey="U">Least squares and gaussian calibration</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Calibration without observed inputs</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Calibration without observed inputs</a><ul>
<li><a class="reference internal" href="#graphical-validation">Graphical validation</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="plot_generate_chaboche.html"
                          title="previous chapter">Generate observations of the Chaboche mechanical model</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="plot_calibration_logistic.html"
                          title="next chapter">Calibration of the logistic model</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/auto_calibration/least_squares_and_gaussian_calibration/plot_calibration_withoutobservedinputs.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-auto-calibration-least-squares-and-gaussian-calibration-plot-calibration-withoutobservedinputs-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="calibration-without-observed-inputs">
<span id="sphx-glr-auto-calibration-least-squares-and-gaussian-calibration-plot-calibration-withoutobservedinputs-py"></span><h1>Calibration without observed inputs<a class="headerlink" href="#calibration-without-observed-inputs" title="Permalink to this heading">Â¶</a></h1>
<p>The goal of this example is to present the calibration of a parametric model which
does not have observed inputs.
We are going to see how to use the <a class="reference internal" href="../../user_manual/_generated/openturns.Sample.html#openturns.Sample" title="openturns.Sample"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sample</span></code></a> class
and create an empty sample.
Indeed, this is mandatory in order to fit within the calibration
framework that is used in the library.
In this example there are, however, several outputs to be calibrated.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openturns</span> <span class="k">as</span> <span class="nn">ot</span>
<span class="kn">import</span> <span class="nn">openturns.viewer</span> <span class="k">as</span> <span class="nn">otv</span>
</pre></div>
</div>
<p>The vector of parameters is
<img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI0AAAAVBAMAAACJRXC4AAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAMs/d6Z1I+790GPOLYK92xBV1AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACIklEQVQ4y2NgIAWwvDE+ugFTeO6MBSQZw3CXwYbhAaZwAVMANtVcWEUZgKIHGAoZJmDKCLAkAEkhEzR9TAim0EcEewUQMxagqDzitMXaEigaCmSzVbD9RDUnFsFk+4Bgcx5gYOAxQHX5AwXGlw0MXDeA4bN8A8NnVHMcEEwUfUBxtIAAmsOgEMjAwAFUpn+A6zuKJMheuBeR9b1kYOBOgBpwwtgSZk4OpwHPBgau/wvYUM1hFkCw2S8gSVxiYFgPZR6+hXDPXN4AjgcMPF9ACBmwAzFrZCKYLT8zEiI4Z6YAUIJH/RTEuw8Q4dOrwHDmHDBp/d+9/wdQiEMJBEDy3EBsw6ACVnhcgB2cxJgOMD1g4IdbtRgePkbmrhAm/18GdtT4EgEHrx6YrQf1WQgD5wIGdniqvQM3R7FLAcJc/4EhHzVRpAC9doChFsyuZeAHh+wfEMENNyfE2BgWzs+gHl9fwNCPGpmrgcEiAEk4XB8Y5oNoxl+wgIOAq4h4Z2KGmM7vwPWbASV8gMrzGVgNQP5h3MCgCkuOC5DMYUaYw3kQ4jGOAqZCtEwN0rHkwQEhoEUbeB0YQPRGBh4BBmFEEmuAmdPAoDUVwm72QMv0rBMYeDun9SxIB6bHe0BFIFpuJjDCzyDUQNPPFI9NCcLtD7AXDozQGIDnbBhthZQhIOkZP7DCbg7cfGKBBDQQGFBpDhILPQbeCVjNOcZAKhAgQRQKAMc0hqsBf1mqAAAACnRFWHREZXB0aAAAAAAFV0kVgwAAAABJRU5ErkJggg==" alt="\boldsymbol{\theta} = (a, b, c)^T \in \mathbb{R}^3" style="vertical-align: -5px"/>.
This model is linear in <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAANBAMAAABiGeI2AAAALVBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAOrOgAAAADnRSTlMAMs/d6Z1I+790GPOLYBc+lckAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABWSURBVAjXY2BgEDIJYGBgq2B7ycCwfAPDYwYGvQNczxm43i1ge87A8wSEWN7t3veCge8tA/tLhnUPGPIKGNYVMPQFMPA5cL1mYOAoYCpkYGBo9ljAAACdeRfBAyHp+gAAAAp0RVh0RGVwdGgAAAAAACcj4QwAAAAASUVORK5CYII=" alt="\boldsymbol{\theta}" style="vertical-align: 0px"/> and identifiable.
It is derived from the equation:</p>
<div class="math">
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJkAAAAWBAMAAAAhlCOEAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMASHS/GPvdnWCvz/Myi+k+AKxlAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB90lEQVQ4y61UMUgcQRR9d+7eruvMuSik9M6zsIl4hZUoDLY2FhZpAhYBK2FJYcRCFtPEQjhMl0or8Qq5wsLCYsFGBXVBkyCmOOy0OuFKg5m5nR1nSW4N3P1i5u+b+W/nv/9ngK7Z2NfucYF4TqV7bJk6XZCu4bUmqyO+3vhsjiQtp+8/e0pbnWXSWYmVfCWbRtrqTuzU5Zxvs9GIJqWMhimz3CBysmGcevHfbNSPBPH+xpR9gVzNSVbY26lspt+ejTw/V5AZQbZs8q/1qc0JYC7J8mk40CMvSx9hj5xcMZ1trBQobMZ0c14fF7j4JjwEhMw9VWGi3LnQqets3wOTDWSW+nw9+9CpKMwvwHQvRKsVGFdvPnG0H5D9LSP3eK5epkl1bA1ZpjB8QwFDwlkVw0GC7X2k1GR1/6G6x5136HdhtbRV2O9WPWO9D7GMWeHciSGhG3nif9LOYTQwzruoqGOk2eosiRlNLIJXweawF7Ep3XizLtt6ZA278C+ZpWGioZnC0CCPyDPc0gMagCwkMp0z7hMa1ew6rd2yXzp2BHquMNzcNGAVcfp2Y5jvCBNsn0uD13rkxijI1smWq2OnpesXjCtYBolFzLHU7n0Vy/smb9AP8SPR7p6y/8McTPPxWH5NdPhk0p+iuHZUYep25x2OriPpkOUPcfuEpcuxruQAAAAKdEVYdERlcHRoAP/////5mMHvAAAAAElFTkSuQmCC" alt="y(x) = a + b x + c x^2"/></p>
</div><p>at <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP4AAAAQBAMAAADE9t+QAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMAYHS/MosYSN3znc/pr/uvp9FeAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACSklEQVQ4y82UzWsTYRDGn012u+mSNNuAEETtgoogqKmIqL3sWZG8lx4qFPoPiAs9qCCNBAoiHuJBvRariBXBkxcRq1Q8eagfePCgB3vWfl+EOO9HNvNqEgIedC7DzvPbeXZm312gWzhvVNo5GVrV+8sqn1uIedlQj09EnAre1y3ZW7inr3clvFfHcB9sy+QvYomXryAvjbNR9gmrGqoQD2xy6gMuCN7kKMaUfLqWMKpbKP9chHlerCOoUCrDT1jVUIMJTnLqDrINJjtXcVHzxYRRPf2J3GMXna+UbtmooYYEvnBqBYUfTB4UjE+p0rEdx7v712LUptiiN+BvUV4bf8fRNnWDUzT5IpOL+ycj5q8pP7okbtLV2DOK53/4j8Ty7vbx25C3wV2XO21HSrnbjKKoJkyuVlBn/poK6NFEz/lHYmt+ug3+JryGPb+m8oJRFK+5XBOYsOdX1KPfvrtrMoTxpwGOqM2WZXWW5svQZt1VlVI4pT7CbEHLBQHWpBoaSvu3qFc9z1+Iw7xIxvJkrRmD1nkylCcsCuOWXIwsf0057hbmur//nLD3M4tAfvjXEfD9t6gSPE45EQSTc3N4yM+/oia8217nv8AqcGaKvtklSmmxTP8M9ykuIx9SSt+ZpvzR4b0KNtT0cKkiqZbcwEvdixZCdUnh7L7dBzq5D3z++QkzMQ4eCjHTPqCZu8vwv8E/NQp/pU0rKh5qNtcVbKjvzWZFUVrG9Lzudf7F24RkSfUXUcdqpi8401ev/9o/8zdPFfXV61/5/wInL8n4cBzDagAAAAp0RVh0RGVwdGgAAAAABCBOJRUAAAAASUVORK5CYII=" alt="x=-1.0, -0.6, -0.2, 0.2, 0.6, 1.0" style="vertical-align: -4px"/>.
In the model, however, the abscissas are fixed and constant.
Therefore, the parametric model has 3 parameters, no input and 6 outputs
<img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAMBAMAAADIXRPRAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAD3RSTlMASHS/GPvdnWCvz/Myi+k+AKxlAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA3ElEQVQY02NgVGZgMmDABEIGDMog2olVgK0AU5pFIZAhHcRokGdgFXBKQJfnYPzAEMhQq8PAMItBnkHpAYYBnAsYP3A2XGdg2MFQxsCDKc/dwJ7gDbLoC9AeLPL+DmwFakoTGBg+8HwEyfMsYQDhUw5ggoGBn+G8wH2GSgaGmzc/gOQZYxkYGGMYRA+AiAsMDLxz5zPoMXQDTWI3AJvPhGS4AogoZpBj6GPga2A9wMCzAUP+BUMMAx/QfC4GWwaGztgDED0QAFK6gPkCA8/cCQy81xWQzETI3y0CMwEK/jEXInX+FgAAAAp0RVh0RGVwdGgAAAAABCBOJRUAAAAASUVORK5CYII=" alt="y_1, ..., y_6" style="vertical-align: -4px"/>.
This produces a set of 5 observations for each output, leading to a total
of 5 (observations per output) * 6 (outputs) = 30 observations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">SymbolicFunction</span><span class="p">(</span>
    <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">],</span>
    <span class="p">[</span>
        <span class="s2">&quot;a +  -1.0  * b +  1.0  * c&quot;</span><span class="p">,</span>
        <span class="s2">&quot;a +  -0.6  * b +  0.36  * c&quot;</span><span class="p">,</span>
        <span class="s2">&quot;a +  -0.2  * b +  0.04  * c&quot;</span><span class="p">,</span>
        <span class="s2">&quot;a +  0.2  * b +  0.04  * c&quot;</span><span class="p">,</span>
        <span class="s2">&quot;a +  0.6  * b +  0.36  * c&quot;</span><span class="p">,</span>
        <span class="s2">&quot;a +  1.0  * b +  1.0  * c&quot;</span><span class="p">,</span>
    <span class="p">],</span>
<span class="p">)</span>
<span class="n">outputDimension</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">getOutputDimension</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">outputDimension</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>6
</pre></div>
</div>
<p>We set the true value of the parameters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">trueParameter</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Point</span><span class="p">([</span><span class="mf">12.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">8.0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">trueParameter</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[12,7,-8]
</pre></div>
</div>
<p>In order to generate the observed outputs, we create a distribution
in dimension 3, with Dirac (i.e. constant) marginals.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">inputRandomVector</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">ComposedDistribution</span><span class="p">(</span>
    <span class="p">[</span><span class="n">ot</span><span class="o">.</span><span class="n">Dirac</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span> <span class="k">for</span> <span class="n">theta</span> <span class="ow">in</span> <span class="n">trueParameter</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The candidate value is chosen to be different from the true parameter value.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">candidate</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Point</span><span class="p">([</span><span class="mf">8.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">6.0</span><span class="p">])</span>
<span class="n">calibratedIndices</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">ParametricFunction</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">calibratedIndices</span><span class="p">,</span> <span class="n">candidate</span><span class="p">)</span>
</pre></div>
</div>
<p>We consider a multivariate Gaussian noise with zero mean, standard deviation
equal to 0.05 and independent copula.
The independent copula implies that the errors of the 6 outputs are independent.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">outputObservationNoiseSigma</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">meanNoise</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Point</span><span class="p">(</span><span class="n">outputDimension</span><span class="p">)</span>
<span class="n">covarianceNoise</span> <span class="o">=</span> <span class="p">[</span><span class="n">outputObservationNoiseSigma</span><span class="p">]</span> <span class="o">*</span> <span class="n">outputDimension</span>
<span class="n">R</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">IdentityMatrix</span><span class="p">(</span><span class="n">outputDimension</span><span class="p">)</span>
<span class="n">observationOutputNoise</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Normal</span><span class="p">(</span><span class="n">meanNoise</span><span class="p">,</span> <span class="n">covarianceNoise</span><span class="p">,</span> <span class="n">R</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">observationOutputNoise</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Normal(mu = [0,0,0,0,0,0], sigma = [1,1,1,1,1,1], R = 6x6
[[ 1 0 0 0 0 0 ]
 [ 0 1 0 0 0 0 ]
 [ 0 0 1 0 0 0 ]
 [ 0 0 0 1 0 0 ]
 [ 0 0 0 0 1 0 ]
 [ 0 0 0 0 0 1 ]])
</pre></div>
</div>
<p>Finally, we generate the outputs by evaluating the exact outputs of the
function and adding the noise.
We use a sample with size equal to 5.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">size</span> <span class="o">=</span> <span class="mi">5</span>
<span class="c1"># Generate exact outputs</span>
<span class="n">inputSample</span> <span class="o">=</span> <span class="n">inputRandomVector</span><span class="o">.</span><span class="n">getSample</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
<span class="n">outputStress</span> <span class="o">=</span> <span class="n">g</span><span class="p">(</span><span class="n">inputSample</span><span class="p">)</span>
<span class="c1"># Add noise</span>
<span class="n">sampleNoise</span> <span class="o">=</span> <span class="n">observationOutputNoise</span><span class="o">.</span><span class="n">getSample</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
<span class="n">outputObservations</span> <span class="o">=</span> <span class="n">outputStress</span> <span class="o">+</span> <span class="n">sampleNoise</span>
</pre></div>
</div>
<p>Now is the important part of this script: there are no input observations.
This is why we create a sample of dimension equal to 0.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">inputObservations</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>We are now ready to perform the calibration.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">LinearLeastSquaresCalibration</span><span class="p">(</span>
    <span class="n">model</span><span class="p">,</span> <span class="n">inputObservations</span><span class="p">,</span> <span class="n">outputObservations</span><span class="p">,</span> <span class="n">candidate</span><span class="p">,</span> <span class="s2">&quot;SVD&quot;</span>
<span class="p">)</span>
<span class="n">algo</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="n">calibrationResult</span> <span class="o">=</span> <span class="n">algo</span><span class="o">.</span><span class="n">getResult</span><span class="p">()</span>
<span class="n">parameterMAP</span> <span class="o">=</span> <span class="n">calibrationResult</span><span class="o">.</span><span class="n">getParameterMAP</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">parameterMAP</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[11.9223,7.04246,-8.2184]
</pre></div>
</div>
<p>We observe that the estimated parameter is relatively close to
the true parameter value.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">parameterMAP</span> <span class="o">-</span> <span class="n">trueParameter</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[-0.0776552,0.0424638,-0.218396]
</pre></div>
</div>
<section id="graphical-validation">
<h2>Graphical validation<a class="headerlink" href="#graphical-validation" title="Permalink to this heading">Â¶</a></h2>
<p>We now validate the calculation by drawing the exact function and compare
it to the function with estimated parameters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fullModel</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">SymbolicFunction</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;a + b * x + c * x^2&quot;</span><span class="p">])</span>
<span class="n">parameterIndices</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">trueFunction</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">ParametricFunction</span><span class="p">(</span><span class="n">fullModel</span><span class="p">,</span> <span class="n">parameterIndices</span><span class="p">,</span> <span class="n">trueParameter</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">trueFunction</span><span class="p">)</span>
<span class="n">beforeCalibrationFunction</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">ParametricFunction</span><span class="p">(</span>
    <span class="n">fullModel</span><span class="p">,</span> <span class="n">parameterIndices</span><span class="p">,</span> <span class="n">candidate</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">beforeCalibrationFunction</span><span class="p">)</span>
<span class="n">calibratedFunction</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">ParametricFunction</span><span class="p">(</span><span class="n">fullModel</span><span class="p">,</span> <span class="n">parameterIndices</span><span class="p">,</span> <span class="n">parameterMAP</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">calibratedFunction</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>ParametricEvaluation([a,b,c,x]-&gt;[a + b * x + c * x^2], parameters positions=[0,1,2], parameters=[a : 12, b : 7, c : -8], input positions=[3])
ParametricEvaluation([a,b,c,x]-&gt;[a + b * x + c * x^2], parameters positions=[0,1,2], parameters=[a : 8, b : 9, c : -6], input positions=[3])
ParametricEvaluation([a,b,c,x]-&gt;[a + b * x + c * x^2], parameters positions=[0,1,2], parameters=[a : 11.9223, b : 7.04246, c : -8.2184], input positions=[3])
</pre></div>
</div>
<p>In order to validate the calibration, we compare the parametric function
with true parameters at given abscissas with the parametric function
with calibrated parameters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">abscissas</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.6</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span>
<span class="n">xmin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">abscissas</span><span class="p">)</span>
<span class="n">xmax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">abscissas</span><span class="p">)</span>

<span class="n">npoints</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">palette</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Drawable</span><span class="o">.</span><span class="n">BuildDefaultPalette</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">graph</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span><span class="s2">&quot;Calibration without observations&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;bottomright&quot;</span><span class="p">)</span>
<span class="n">curve</span> <span class="o">=</span> <span class="n">trueFunction</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">,</span> <span class="n">npoints</span><span class="p">)</span><span class="o">.</span><span class="n">getDrawable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">curve</span><span class="o">.</span><span class="n">setLineStyle</span><span class="p">(</span><span class="s2">&quot;dotted&quot;</span><span class="p">)</span>
<span class="n">curve</span><span class="o">.</span><span class="n">setLegend</span><span class="p">(</span><span class="s2">&quot;True model&quot;</span><span class="p">)</span>
<span class="n">curve</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">palette</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">curve</span><span class="p">)</span>
<span class="c1"># Before calibration</span>
<span class="n">curve</span> <span class="o">=</span> <span class="n">beforeCalibrationFunction</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">,</span> <span class="n">npoints</span><span class="p">)</span><span class="o">.</span><span class="n">getDrawable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">curve</span><span class="o">.</span><span class="n">setLegend</span><span class="p">(</span><span class="s2">&quot;Model before calibration&quot;</span><span class="p">)</span>
<span class="n">curve</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">palette</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">curve</span><span class="o">.</span><span class="n">setLineStyle</span><span class="p">(</span><span class="n">ot</span><span class="o">.</span><span class="n">ResourceMap</span><span class="o">.</span><span class="n">GetAsString</span><span class="p">(</span><span class="s2">&quot;CalibrationResult-PriorLineStyle&quot;</span><span class="p">))</span>
<span class="n">curve</span>
<span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">curve</span><span class="p">)</span>
<span class="c1"># After calibration</span>
<span class="n">curve</span> <span class="o">=</span> <span class="n">calibratedFunction</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">,</span> <span class="n">npoints</span><span class="p">)</span><span class="o">.</span><span class="n">getDrawable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">curve</span><span class="o">.</span><span class="n">setLegend</span><span class="p">(</span><span class="s2">&quot;Model after calibration&quot;</span><span class="p">)</span>
<span class="n">curve</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">palette</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="n">curve</span><span class="o">.</span><span class="n">setLineStyle</span><span class="p">(</span><span class="n">ot</span><span class="o">.</span><span class="n">ResourceMap</span><span class="o">.</span><span class="n">GetAsString</span><span class="p">(</span><span class="s2">&quot;CalibrationResult-PosteriorLineStyle&quot;</span><span class="p">))</span>
<span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">curve</span><span class="p">)</span>
<span class="c1"># Observations</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">outputDimension</span><span class="p">):</span>
    <span class="n">cloud</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Cloud</span><span class="p">(</span><span class="n">ot</span><span class="o">.</span><span class="n">Sample</span><span class="p">([[</span><span class="n">abscissas</span><span class="p">[</span><span class="n">i</span><span class="p">]]]</span> <span class="o">*</span> <span class="n">size</span><span class="p">),</span> <span class="n">outputObservations</span><span class="p">[:,</span> <span class="n">i</span><span class="p">])</span>
    <span class="n">cloud</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">palette</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">cloud</span><span class="o">.</span><span class="n">setPointStyle</span><span class="p">(</span>
        <span class="n">ot</span><span class="o">.</span><span class="n">ResourceMap</span><span class="o">.</span><span class="n">GetAsString</span><span class="p">(</span><span class="s2">&quot;CalibrationResult-ObservationPointStyle&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">cloud</span><span class="o">.</span><span class="n">setLegend</span><span class="p">(</span><span class="s2">&quot;Observations&quot;</span><span class="p">)</span>
    <span class="n">graph</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">cloud</span><span class="p">)</span>
<span class="n">view</span> <span class="o">=</span> <span class="n">otv</span><span class="o">.</span><span class="n">View</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_plot_calibration_withoutobservedinputs_001.png" srcset="../../_images/sphx_glr_plot_calibration_withoutobservedinputs_001.png" alt="Calibration without observations" class = "sphx-glr-single-img"/><p>We notice that the calibration produces a good fit to the data.
Still, we notice a small discrepancy between the true mode and the model
after calibration, but this discrepancy is very small.
Since the model is linear with respect to the parameters <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAIBAMAAADZ48iGAAAALVBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAOrOgAAAADnRSTlMAnXRIMt2Lz+mv+2AYvwxtY48AAAAJcEhZcwAADsQAAA7EAZUrDhsAAAA5SURBVAjXY2BgFDJhYGAIY6hgYGALYKhkYOBKYFjNwODnwPyAgcGOgTFgAwMXw4kJCQzcl5SvHQAAp/IKAtW27qgAAAAKdEVYdERlcHRoAAAAAAAnI+EMAAAAAElFTkSuQmCC" alt="a" style="vertical-align: 0px"/>, <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAANBAMAAABm7DILAAAALVBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAOrOgAAAADnRSTlMAMs9Ii92d+2B0GK/z6Q9P1rkAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABBSURBVAjXY2DUE2BgYLADYgZXEKEGIiqAmPHltAkMLIUMVQxMG4AC7A0MjxnWMXA+YJBhYEpg4GHoZWDg2JnAAAAY7wrDWCVedQAAAAp0RVh0RGVwdGgAAAAAACcj4QwAAAAASUVORK5CYII=" alt="b" style="vertical-align: 0px"/>, <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIBAMAAAA2IaO4AAAAJFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADHJj5lAAAAC3RSTlMAdIsyz6+d6RhI8xONfKYAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAuSURBVAjXY2BgVBRmYHBicGVgK2CQYOBWYGBgsG4AErMZGDgYuAwYlBmYA4UaAEZkBBeN279pAAAACnRFWHREZXB0aAAAAAAAJyPhDAAAAABJRU5ErkJggg==" alt="c" style="vertical-align: 0px"/>,
the <a class="reference internal" href="../../user_manual/response_surface/_generated/openturns.LinearLeastSquares.html#openturns.LinearLeastSquares" title="openturns.LinearLeastSquares"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearLeastSquares</span></code></a> class performs well.
If the model were non linear w.r.t. <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAIBAMAAADZ48iGAAAALVBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAOrOgAAAADnRSTlMAnXRIMt2Lz+mv+2AYvwxtY48AAAAJcEhZcwAADsQAAA7EAZUrDhsAAAA5SURBVAjXY2BgFDJhYGAIY6hgYGALYKhkYOBKYFjNwODnwPyAgcGOgTFgAwMXw4kJCQzcl5SvHQAAp/IKAtW27qgAAAAKdEVYdERlcHRoAAAAAAAnI+EMAAAAAElFTkSuQmCC" alt="a" style="vertical-align: 0px"/>, <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAANBAMAAABm7DILAAAALVBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAOrOgAAAADnRSTlMAMs9Ii92d+2B0GK/z6Q9P1rkAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABBSURBVAjXY2DUE2BgYLADYgZXEKEGIiqAmPHltAkMLIUMVQxMG4AC7A0MjxnWMXA+YJBhYEpg4GHoZWDg2JnAAAAY7wrDWCVedQAAAAp0RVh0RGVwdGgAAAAAACcj4QwAAAAASUVORK5CYII=" alt="b" style="vertical-align: 0px"/>, <img class="math" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIBAMAAAA2IaO4AAAAJFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADHJj5lAAAAC3RSTlMAdIsyz6+d6RhI8xONfKYAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAuSURBVAjXY2BgVBRmYHBicGVgK2CQYOBWYGBgsG4AErMZGDgYuAwYlBmYA4UaAEZkBBeN279pAAAACnRFWHREZXB0aAAAAAAAJyPhDAAAAABJRU5ErkJggg==" alt="c" style="vertical-align: 0px"/>, then the linear least
squares method would not work that well and the parameters would be estimated
with less accuracy.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otv</span><span class="o">.</span><span class="n">View</span><span class="o">.</span><span class="n">ShowAll</span><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-calibration-least-squares-and-gaussian-calibration-plot-calibration-withoutobservedinputs-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/268609e47b8f99a351387c19dad27e4c/plot_calibration_withoutobservedinputs.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_calibration_withoutobservedinputs.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/99803c0e79282178ed570b98134b0e31/plot_calibration_withoutobservedinputs.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_calibration_withoutobservedinputs.ipynb</span></code></a></p>
</div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="plot_calibration_logistic.html" title="Calibration of the logistic model"
             >next</a> |</li>
        <li class="right" >
          <a href="plot_generate_chaboche.html" title="Generate observations of the Chaboche mechanical model"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">OpenTURNS 1.21 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../contents.html" >Contents</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../examples/examples.html" >Examples</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../index.html" >Calibration</a> &#187;</li>
          <li class="nav-item nav-item-4"><a href="index.html" >Least squares and gaussian calibration</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Calibration without observed inputs</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005-2023 Airbus-EDF-IMACS-ONERA-Phimeca.
      Last updated on Jun 21, 2023.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>