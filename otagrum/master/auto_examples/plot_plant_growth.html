<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Plant growth &#8212; otagrum 0.9 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css?v=514cf933" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script src="../_static/documentation_options.js?v=049aceee"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Using otagrum" href="plot_using_otagrum.html" />
    <link rel="prev" title="Examples" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="plot_using_otagrum.html" title="Using otagrum"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Examples"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">otagrum 0.9 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Examples</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Plant growth</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-auto-examples-plot-plant-growth-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="plant-growth">
<span id="sphx-glr-auto-examples-plot-plant-growth-py"></span><h1>Plant growth<a class="headerlink" href="#plant-growth" title="Link to this heading">¶</a></h1>
<p>The study presented in that section focuses on the growth of particular plant
(not specified).
The objective is to predict which height will be reached by the plant …
for example in order to evaluate the risk that the plant might require a
greater jag on the balcony …</p>
<p>The problem is that we have no data on the height usually reached by this
kind of plant, which prohibits any use of statistics tools …
So … what ? Yet we have the following information:</p>
<blockquote>
<div><ul class="simple">
<li><p>we know the influence of the quality of the light and the influence of
the air moisture rate on the plant growth,</p></li>
<li><p>we can quantify the quality of the light we have at home and also the
air moisture rate where the plant lives.</p></li>
</ul>
</div></blockquote>
<p>…. so we can model the plant growth thanks to a Bayes net and then have
access to the variability of its final height!</p>
<p>Let us imagine (for the example purpose):</p>
<blockquote>
<div><ul class="simple">
<li><p>Some meteorological data (tropical place?):</p>
<ul>
<li><p>the balcony is in plain light 3 times out of 4,</p></li>
<li><p>in the darkness, the air is moist 8 times out of 10,</p></li>
<li><p>in plain light, the air is dry 6 times out of 10.</p></li>
</ul>
</li>
<li><p>Some remembrance of biology trainings:</p>
<ul>
<li><p>in plain light, if the air is moist, the plant is very happy: it grows
90cm on average with a variation of <img class="math" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPCEtLSBUaGlzIGZpbGUgd2FzIGdlbmVyYXRlZCBieSBkdmlzdmdtIDMuMS4yIC0tPgo8c3ZnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgd2lkdGg9JzkuMjk4NDk3cHQnIGhlaWdodD0nNy45NzAxMjdwdCcgdmlld0JveD0nMCAtNi45NzM4NTYgOS4yOTg0OTcgNy45NzAxMjcnPgo8ZGVmcz4KPHBhdGggaWQ9J2cwLTYnIGQ9J000Ljg4OTY2NC0zLjc0MTk2OEg4LjIxMzJDOC40MTY0MzgtMy43NDE5NjggOC42MzE2MzEtMy43NDE5NjggOC42MzE2MzEtMy45ODEwNzFTOC40MTY0MzgtNC4yMjAxNzQgOC4yMTMyLTQuMjIwMTc0SDQuODg5NjY0Vi03LjUxOTgwMUM0Ljg4OTY2NC03LjcxMTA4MyA0Ljg4OTY2NC03Ljk2MjE0MiA0LjY1MDU2LTcuOTYyMTQyUzQuNDExNDU3LTcuNzQ2OTQ5IDQuNDExNDU3LTcuNTU1NjY2Vi00LjIyMDE3NEgxLjA3NTk2NUMuODcyNzI3LTQuMjIwMTc0IC42NTc1MzQtNC4yMjAxNzQgLjY1NzUzNC0zLjk4MTA3MVMuODcyNzI3LTMuNzQxOTY4IDEuMDc1OTY1LTMuNzQxOTY4SDQuNDExNDU3Vi0uNDc4MjA3SDEuMDc1OTY1Qy44NzI3MjctLjQ3ODIwNyAuNjU3NTM0LS40NzgyMDcgLjY1NzUzNC0uMjM5MTAzUy44NzI3MjcgMCAxLjA3NTk2NSAwSDguMjEzMkM4LjQxNjQzOCAwIDguNjMxNjMxIDAgOC42MzE2MzEtLjIzOTEwM1M4LjQxNjQzOC0uNDc4MjA3IDguMjEzMi0uNDc4MjA3SDQuODg5NjY0Vi0zLjc0MTk2OFonLz4KPC9kZWZzPgo8ZyBpZD0ncGFnZTEnPgo8dXNlIHg9JzAnIHk9JzAnIHhsaW5rOmhyZWY9JyNnMC02Jy8+CjwvZz4KPC9zdmc+CjwhLS0gREVQVEg9MSAtLT4=" alt="\pm" style="vertical-align: -1px"/> 10 cm. If the air is too dry,
it will not grow more than 30 cm but we reasonably can expect about a
15 cm growth.</p></li>
<li><p>in the darkness, if the air is too dry, the plant suffers: it will not
grow more than 20 cm and might die as well! If the air is moist, it
will  usually grow about 30 cm, at least 15cm but not more than 50 cm.</p></li>
</ul>
</li>
</ul>
</div></blockquote>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openturns</span> <span class="k">as</span> <span class="nn">ot</span>
<span class="kn">import</span> <span class="nn">otagrum</span>
<span class="kn">import</span> <span class="nn">pyAgrum</span> <span class="k">as</span> <span class="nn">gum</span>
<span class="kn">from</span> <span class="nn">openturns.viewer</span> <span class="kn">import</span> <a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.viewer.View.html#openturns.viewer.View" title="openturns.viewer.View" class="sphx-glr-backref-module-openturns-viewer sphx-glr-backref-type-py-class"><span class="n">View</span></a>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pylab</span> <span class="k">as</span> <span class="n">plt</span>
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">showPotential</span><span class="p">(</span><span class="n">pot</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># fails outside notebook</span>
        <span class="kn">import</span> <span class="nn">pyAgrum.lib.notebook</span> <span class="k">as</span> <span class="nn">gnb</span>

        <span class="n">gnb</span><span class="o">.</span><span class="n">showPotential</span><span class="p">(</span><span class="n">pot</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
        <span class="k">pass</span>


<span class="c1"># We have to build the Bayes Net now. There are 3 variables that will be named:</span>
<span class="c1"># **Light**, **Moisture** and **Height**.</span>
</pre></div>
</div>
<p>Create variables</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">light</span> <span class="o">=</span> <span class="n">gum</span><span class="o">.</span><span class="n">LabelizedVariable</span><span class="p">(</span><span class="s2">&quot;Light&quot;</span><span class="p">,</span> <span class="s2">&quot;quality of light&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">moisture</span> <span class="o">=</span> <span class="n">gum</span><span class="o">.</span><span class="n">LabelizedVariable</span><span class="p">(</span><span class="s2">&quot;Moisture&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity of moisture&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">height</span> <span class="o">=</span> <span class="n">gum</span><span class="o">.</span><span class="n">DiscretizedVariable</span><span class="p">(</span><span class="s2">&quot;Height&quot;</span><span class="p">,</span> <span class="s2">&quot;plant growth&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Both variables <strong>Light</strong> and <strong>Moisture</strong> are categorical variables with
the following attributes:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Light</strong> has 2 attributes: <strong>Dim</strong> which refers to the darkness and
<strong>Bright</strong> which refers to plain light situations,</p></li>
<li><p><strong>Moisture</strong> has 2 attributes: <strong>Dry</strong> which refers to dry air situations
and <strong>Wet</strong> which refers to wet air situations.</p></li>
</ul>
</div></blockquote>
<p><strong>Height</strong> is a continuous variable which has to be discretized for the Bayes Net use.</p>
<p>Create labels and ticks</p>
<p>light has 2 attributes : Dim and Bright</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">light</span><span class="o">.</span><span class="n">addLabel</span><span class="p">(</span><span class="s2">&quot;Dim&quot;</span><span class="p">)</span>
<span class="n">light</span><span class="o">.</span><span class="n">addLabel</span><span class="p">(</span><span class="s2">&quot;Bright&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>(pyAgrum.LabelizedVariable@0x55a02b5ed9a0) Light:Labelized({Dim|Bright})
</pre></div>
</div>
<p>moisture has 2 attributes : Dry and Wet</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">moisture</span><span class="o">.</span><span class="n">addLabel</span><span class="p">(</span><span class="s2">&quot;Dry&quot;</span><span class="p">)</span>
<span class="n">moisture</span><span class="o">.</span><span class="n">addLabel</span><span class="p">(</span><span class="s2">&quot;Wet&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>(pyAgrum.LabelizedVariable@0x55a02b494d10) Moisture:Labelized({Dry|Wet})
</pre></div>
</div>
<p>height is a discretized variable</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">height</span><span class="o">.</span><span class="n">addTick</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">10</span><span class="p">)]</span>
<span class="n">height</span><span class="o">.</span><span class="n">domainSize</span><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>14
</pre></div>
</div>
<p>Furthermore, there are several influence links:
<strong>Light</strong> on <strong>Moisture</strong>, <strong>(Light,Moisture)</strong> on <strong>Height</strong>.</p>
<p>Create the net</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">bn</span> <span class="o">=</span> <span class="n">gum</span><span class="o">.</span><span class="n">BayesNet</span><span class="p">(</span><span class="s2">&quot;Plant Growth&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Add variables</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">indexLight</span> <span class="o">=</span> <span class="n">bn</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">light</span><span class="p">)</span>
<span class="n">indexMoisture</span> <span class="o">=</span> <span class="n">bn</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">moisture</span><span class="p">)</span>
<span class="n">indexHeight</span> <span class="o">=</span> <span class="n">bn</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
</pre></div>
</div>
<p>Add arcs</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">bn</span><span class="o">.</span><span class="n">addArc</span><span class="p">(</span><span class="n">indexLight</span><span class="p">,</span> <span class="n">indexMoisture</span><span class="p">)</span>
<span class="n">bn</span><span class="o">.</span><span class="n">addArc</span><span class="p">(</span><span class="n">indexLight</span><span class="p">,</span> <span class="n">indexHeight</span><span class="p">)</span>
<span class="n">bn</span><span class="o">.</span><span class="n">addArc</span><span class="p">(</span><span class="n">indexMoisture</span><span class="p">,</span> <span class="n">indexHeight</span><span class="p">)</span>
<span class="n">bn</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>(pyAgrum.BayesNet&lt;double&gt;@0x55a02c8aec00) BN{nodes: 3, arcs: 3, domainSize: 56, dim: 55, mem: 496o}
</pre></div>
</div>
<p>The next step is the quantification of the Bayes net.</p>
<p>The variable <strong>Light</strong> is quantified as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Light=Dim</strong> with a probability of 0.25,</p></li>
<li><p><strong>Light=Bright</strong> with a probability of 0.75.</p></li>
</ul>
</div></blockquote>
<p>Create conditional probability tables
light conditional probability table</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">bn</span><span class="o">.</span><span class="n">cpt</span><span class="p">(</span><span class="n">indexLight</span><span class="p">)[:]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">]</span>
<span class="n">showPotential</span><span class="p">(</span><span class="n">bn</span><span class="o">.</span><span class="n">cpt</span><span class="p">(</span><span class="n">indexLight</span><span class="p">))</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>/usr/lib/python3.11/site-packages/pyAgrum/lib/notebook.py:1741: UserWarning:
  ** pyAgrum.lib.notebook has to be imported from an IPython&#39;s instance (mainly notebook).

  warnings.warn(&quot;&quot;&quot;
&lt;IPython.core.display.HTML object&gt;
</pre></div>
</div>
<dl class="simple">
<dt>The influence of <strong>Light</strong> on <strong>Moisture</strong> is modelized by:</dt><dd><ul class="simple">
<li><p>when <strong>Light=Dim</strong> then <strong>Moisture=Dry</strong> with a probability of 0.2
and <em>Moisture=Wet</em> with a probability of 0.8,</p></li>
<li><p>when <strong>Light=Bright</strong> then <strong>Moisture=Dry</strong> with a probability of 0.6
and <em>Moisture=Wet</em> with a probability of 0.4.</p></li>
</ul>
</dd>
</dl>
<p>moisture conditional probability table
We show the antecedents of moisture with the order in which they were declared</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">bn</span><span class="o">.</span><span class="n">cpt</span><span class="p">(</span><span class="n">indexMoisture</span><span class="p">)[{</span><span class="s2">&quot;Light&quot;</span><span class="p">:</span> <span class="s2">&quot;Dim&quot;</span><span class="p">}]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">]</span>
<span class="n">bn</span><span class="o">.</span><span class="n">cpt</span><span class="p">(</span><span class="n">indexMoisture</span><span class="p">)[{</span><span class="s2">&quot;Light&quot;</span><span class="p">:</span> <span class="s2">&quot;Bright&quot;</span><span class="p">}]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">]</span>
<span class="n">showPotential</span><span class="p">(</span><span class="n">bn</span><span class="o">.</span><span class="n">cpt</span><span class="p">(</span><span class="n">indexMoisture</span><span class="p">))</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;IPython.core.display.HTML object&gt;
</pre></div>
</div>
<p>The influence of <strong>(Light, Moisture)</strong> on <strong>Height</strong> is modelized by:</p>
<blockquote>
<div><ul class="simple">
<li><p>when <strong>Light=Dim</strong> and <strong>Moisture=Dry</strong> then <strong>Height</strong> follows
a <strong>Uniform(min=0, max=20)</strong> distribution,</p></li>
<li><p>when <strong>Light=Dim</strong> and <strong>Moisture=Wet</strong> then <strong>Height</strong> follows
a <strong>Triangular(min=15, mod=30, max=50)</strong> distribution,</p></li>
<li><p>when <strong>Light=Bright</strong> and <strong>Moisture=Dry* then **Height</strong> follows
a <strong>Triangular(min=0, mod=15, max=30)</strong> distribution,</p></li>
<li><p>when <strong>Light=Bright</strong> and <strong>Moisture=Wet</strong> then <strong>Height</strong> follows
a <strong>Normal(mu=90, sigma=10)</strong> distribution.</p></li>
</ul>
</div></blockquote>
<p>height has a conditional probability table
We give here its conditional distributions</p>
<p>distribution when Dim and Dry</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Uniform.html#openturns.Uniform" title="openturns.Uniform" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">heightWhenDimAndDry</span></a> <span class="o">=</span> <a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Uniform.html#openturns.Uniform" title="openturns.Uniform" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-class"><span class="n">ot</span><span class="o">.</span><span class="n">Uniform</span></a><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">)</span>
<span class="c1"># distribution when Dim and Wet</span>
<a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Triangular.html#openturns.Triangular" title="openturns.Triangular" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">heightWhenDimAndWet</span></a> <span class="o">=</span> <a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Triangular.html#openturns.Triangular" title="openturns.Triangular" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-class"><span class="n">ot</span><span class="o">.</span><span class="n">Triangular</span></a><span class="p">(</span><span class="mf">15.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">)</span>
<span class="c1"># distribution when Bright and Dry</span>
<a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Triangular.html#openturns.Triangular" title="openturns.Triangular" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">heightWhenBrightAndDry</span></a> <span class="o">=</span> <a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Triangular.html#openturns.Triangular" title="openturns.Triangular" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-class"><span class="n">ot</span><span class="o">.</span><span class="n">Triangular</span></a><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">15.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">)</span>
<span class="c1"># distribution when Bright and Wet</span>
<a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Normal.html#openturns.Normal" title="openturns.Normal" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">heightWhenBrightAndWet</span></a> <span class="o">=</span> <a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Normal.html#openturns.Normal" title="openturns.Normal" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-class"><span class="n">ot</span><span class="o">.</span><span class="n">Normal</span></a><span class="p">(</span><span class="mf">90.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">)</span>
</pre></div>
</div>
<p>We have to enter some OT distributions whithin aGrUM conditional probability tables
We show the antecedents of height with the order in which they were declared
The new class Utils from otagrum is able to marry OT distributions and Agrum
conditional probability tables</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">bn</span><span class="o">.</span><span class="n">cpt</span><span class="p">(</span><span class="n">indexHeight</span><span class="p">)[{</span><span class="s2">&quot;Light&quot;</span><span class="p">:</span> <span class="s2">&quot;Dim&quot;</span><span class="p">,</span> <span class="s2">&quot;Moisture&quot;</span><span class="p">:</span> <span class="s2">&quot;Dry&quot;</span><span class="p">}]</span> <span class="o">=</span> <span class="n">otagrum</span><span class="o">.</span><span class="n">Utils</span><span class="o">.</span><span class="n">Discretize</span><span class="p">(</span>
    <a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Uniform.html#openturns.Uniform" title="openturns.Uniform" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">heightWhenDimAndDry</span></a><span class="p">,</span> <span class="n">height</span>
<span class="p">)[:]</span>
<span class="n">bn</span><span class="o">.</span><span class="n">cpt</span><span class="p">(</span><span class="n">indexHeight</span><span class="p">)[{</span><span class="s2">&quot;Light&quot;</span><span class="p">:</span> <span class="s2">&quot;Bright&quot;</span><span class="p">,</span> <span class="s2">&quot;Moisture&quot;</span><span class="p">:</span> <span class="s2">&quot;Dry&quot;</span><span class="p">}]</span> <span class="o">=</span> <span class="n">otagrum</span><span class="o">.</span><span class="n">Utils</span><span class="o">.</span><span class="n">Discretize</span><span class="p">(</span>
    <a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Triangular.html#openturns.Triangular" title="openturns.Triangular" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">heightWhenBrightAndDry</span></a><span class="p">,</span> <span class="n">height</span>
<span class="p">)[:]</span>
<span class="n">bn</span><span class="o">.</span><span class="n">cpt</span><span class="p">(</span><span class="n">indexHeight</span><span class="p">)[{</span><span class="s2">&quot;Light&quot;</span><span class="p">:</span> <span class="s2">&quot;Dim&quot;</span><span class="p">,</span> <span class="s2">&quot;Moisture&quot;</span><span class="p">:</span> <span class="s2">&quot;Wet&quot;</span><span class="p">}]</span> <span class="o">=</span> <span class="n">otagrum</span><span class="o">.</span><span class="n">Utils</span><span class="o">.</span><span class="n">Discretize</span><span class="p">(</span>
    <a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Triangular.html#openturns.Triangular" title="openturns.Triangular" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">heightWhenDimAndWet</span></a><span class="p">,</span> <span class="n">height</span>
<span class="p">)[:]</span>
<span class="n">bn</span><span class="o">.</span><span class="n">cpt</span><span class="p">(</span><span class="n">indexHeight</span><span class="p">)[{</span><span class="s2">&quot;Light&quot;</span><span class="p">:</span> <span class="s2">&quot;Bright&quot;</span><span class="p">,</span> <span class="s2">&quot;Moisture&quot;</span><span class="p">:</span> <span class="s2">&quot;Wet&quot;</span><span class="p">}]</span> <span class="o">=</span> <span class="n">otagrum</span><span class="o">.</span><span class="n">Utils</span><span class="o">.</span><span class="n">Discretize</span><span class="p">(</span>
    <a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Normal.html#openturns.Normal" title="openturns.Normal" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">heightWhenBrightAndWet</span></a><span class="p">,</span> <span class="n">height</span>
<span class="p">)[:]</span>
<span class="n">showPotential</span><span class="p">(</span><span class="n">bn</span><span class="o">.</span><span class="n">cpt</span><span class="p">(</span><span class="n">indexHeight</span><span class="p">))</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;IPython.core.display.HTML object&gt;
</pre></div>
</div>
<p>We can study the plant growth variability in different situations like:</p>
<blockquote>
<div><ul class="simple">
<li><p>I put my plant on my balcony; in that situation, I set none evidence
inside the Bayes net.</p></li>
<li><p>I put my plant in a  place where it is dark all time (in my cellar?);
in that situation, I set one evidence inside the Bayes net: <strong>Light=Dim</strong>.</p></li>
<li><p>I put my plant in a  place where it is moist all time (in my bathroom?);
in that situation, I set one evidence inside the Bayes net: <strong>Moisture=Wet</strong>.</p></li>
</ul>
</div></blockquote>
<p>Variability of the plant growth on my balcony</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">ie</span> <span class="o">=</span> <span class="n">gum</span><span class="o">.</span><span class="n">LazyPropagation</span><span class="p">(</span><span class="n">bn</span><span class="p">)</span>
<a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Distribution.html#openturns.Distribution" title="openturns.Distribution" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">h_dist</span></a> <span class="o">=</span> <span class="n">otagrum</span><span class="o">.</span><span class="n">Utils</span><span class="o">.</span><span class="n">FromMarginal</span><span class="p">(</span><span class="n">ie</span><span class="o">.</span><span class="n">posterior</span><span class="p">(</span><span class="s2">&quot;Height&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Probability (height &gt; 40cm) = &quot;</span><span class="p">,</span> <span class="mf">1.0</span> <span class="o">-</span> <a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Distribution.html#openturns.Distribution.computeCDF" title="openturns.Distribution.computeCDF" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-method"><span class="n">h_dist</span><span class="o">.</span><span class="n">computeCDF</span></a><span class="p">(</span><span class="mf">40.0</span><span class="p">))</span>
<a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.viewer.View.html#openturns.viewer.View" title="openturns.viewer.View" class="sphx-glr-backref-module-openturns-viewer sphx-glr-backref-type-py-class"><span class="n">View</span></a><span class="p">(</span><a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Distribution.html#openturns.Distribution.drawPDF" title="openturns.Distribution.drawPDF" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-method"><span class="n">h_dist</span><span class="o">.</span><span class="n">drawPDF</span></a><span class="p">())</span>
</pre></div>
</div>
<img src="../_images/sphx_glr_plot_plant_growth_001.png" srcset="../_images/sphx_glr_plot_plant_growth_001.png" alt="Height PDF" class = "sphx-glr-single-img"/><div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Probability (height &gt; 40cm) =  0.32857134257593257

&lt;openturns.viewer.View object at 0x7fb104f0ae90&gt;
</pre></div>
</div>
<p>Variability of the plant growth in my cellar</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">ie</span> <span class="o">=</span> <span class="n">gum</span><span class="o">.</span><span class="n">LazyPropagation</span><span class="p">(</span><span class="n">bn</span><span class="p">)</span>
<span class="n">ie</span><span class="o">.</span><span class="n">setEvidence</span><span class="p">({</span><span class="s2">&quot;Light&quot;</span><span class="p">:</span> <span class="s2">&quot;Dim&quot;</span><span class="p">})</span>
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Distribution.html#openturns.Distribution" title="openturns.Distribution" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">h_dist_dim</span></a> <span class="o">=</span> <span class="n">otagrum</span><span class="o">.</span><span class="n">Utils</span><span class="o">.</span><span class="n">FromMarginal</span><span class="p">(</span><span class="n">ie</span><span class="o">.</span><span class="n">posterior</span><span class="p">(</span><span class="s2">&quot;Height&quot;</span><span class="p">))</span>
<a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Distribution.html#openturns.Distribution.setDescription" title="openturns.Distribution.setDescription" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-method"><span class="n">h_dist_dim</span><span class="o">.</span><span class="n">setDescription</span></a><span class="p">([</span><span class="s2">&quot;Height|Light=Dim&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Probability (height &gt; 40cm)|Light=Dim = &quot;</span><span class="p">,</span> <span class="mf">1.0</span> <span class="o">-</span> <a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Distribution.html#openturns.Distribution.computeCDF" title="openturns.Distribution.computeCDF" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-method"><span class="n">h_dist_dim</span><span class="o">.</span><span class="n">computeCDF</span></a><span class="p">(</span><span class="mf">40.0</span><span class="p">))</span>
<a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.viewer.View.html#openturns.viewer.View" title="openturns.viewer.View" class="sphx-glr-backref-module-openturns-viewer sphx-glr-backref-type-py-class"><span class="n">View</span></a><span class="p">(</span><a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Distribution.html#openturns.Distribution.drawPDF" title="openturns.Distribution.drawPDF" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-method"><span class="n">h_dist_dim</span><span class="o">.</span><span class="n">drawPDF</span></a><span class="p">())</span>
</pre></div>
</div>
<img src="../_images/sphx_glr_plot_plant_growth_002.png" srcset="../_images/sphx_glr_plot_plant_growth_002.png" alt="Height|Light=Dim PDF" class = "sphx-glr-single-img"/><div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Probability (height &gt; 40cm)|Light=Dim =  0.11428571428571432

&lt;openturns.viewer.View object at 0x7fb0ffd38690&gt;
</pre></div>
</div>
<p>Variability of the plant growth when the atmosphere is very wet</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">ie</span> <span class="o">=</span> <span class="n">gum</span><span class="o">.</span><span class="n">LazyPropagation</span><span class="p">(</span><span class="n">bn</span><span class="p">)</span>
<span class="n">ie</span><span class="o">.</span><span class="n">setEvidence</span><span class="p">({</span><span class="s2">&quot;Moisture&quot;</span><span class="p">:</span> <span class="s2">&quot;Wet&quot;</span><span class="p">})</span>
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Distribution.html#openturns.Distribution" title="openturns.Distribution" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">h_dist_wet</span></a> <span class="o">=</span> <span class="n">otagrum</span><span class="o">.</span><span class="n">Utils</span><span class="o">.</span><span class="n">FromMarginal</span><span class="p">(</span><span class="n">ie</span><span class="o">.</span><span class="n">posterior</span><span class="p">(</span><span class="s2">&quot;Height&quot;</span><span class="p">))</span>
<a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Distribution.html#openturns.Distribution.setDescription" title="openturns.Distribution.setDescription" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-method"><span class="n">h_dist_wet</span><span class="o">.</span><span class="n">setDescription</span></a><span class="p">([</span><span class="s2">&quot;Height|Moisture=Wet&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Probability (height &gt; 40cm)|Moisture=Wet = &quot;</span><span class="p">,</span> <span class="mf">1.0</span> <span class="o">-</span> <a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Distribution.html#openturns.Distribution.computeCDF" title="openturns.Distribution.computeCDF" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-method"><span class="n">h_dist_wet</span><span class="o">.</span><span class="n">computeCDF</span></a><span class="p">(</span><span class="mf">40.0</span><span class="p">))</span>
<a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.viewer.View.html#openturns.viewer.View" title="openturns.viewer.View" class="sphx-glr-backref-module-openturns-viewer sphx-glr-backref-type-py-class"><span class="n">View</span></a><span class="p">(</span><a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Distribution.html#openturns.Distribution.drawPDF" title="openturns.Distribution.drawPDF" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-method"><span class="n">h_dist_wet</span><span class="o">.</span><span class="n">drawPDF</span></a><span class="p">())</span>
</pre></div>
</div>
<img src="../_images/sphx_glr_plot_plant_growth_003.png" srcset="../_images/sphx_glr_plot_plant_growth_003.png" alt="Height|Moisture=Wet PDF" class = "sphx-glr-single-img"/><div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Probability (height &gt; 40cm)|Moisture=Wet =  0.6571426851518651

&lt;openturns.viewer.View object at 0x7fb10503f210&gt;
</pre></div>
</div>
<p>Get the distribution of the variable “Light”</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Distribution.html#openturns.Distribution" title="openturns.Distribution" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">l_dist_wet</span></a> <span class="o">=</span> <span class="n">otagrum</span><span class="o">.</span><span class="n">Utils</span><span class="o">.</span><span class="n">FromPotential</span><span class="p">(</span><span class="n">ie</span><span class="o">.</span><span class="n">posterior</span><span class="p">(</span><span class="s2">&quot;Light&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Distribution.html#openturns.Distribution" title="openturns.Distribution" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">l_dist_wet</span></a><span class="p">)</span>
<a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.viewer.View.html#openturns.viewer.View" title="openturns.viewer.View" class="sphx-glr-backref-module-openturns-viewer sphx-glr-backref-type-py-class"><span class="n">View</span></a><span class="p">(</span><a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Distribution.html#openturns.Distribution.drawPDF" title="openturns.Distribution.drawPDF" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-method"><span class="n">l_dist_wet</span><span class="o">.</span><span class="n">drawPDF</span></a><span class="p">())</span>
</pre></div>
</div>
<img src="../_images/sphx_glr_plot_plant_growth_004.png" srcset="../_images/sphx_glr_plot_plant_growth_004.png" alt="Light PDF" class = "sphx-glr-single-img"/><div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>UserDefined({x = [0], p = 0.4}, {x = [1], p = 0.6})

&lt;openturns.viewer.View object at 0x7fb0ff64fe10&gt;
</pre></div>
</div>
<p>Get the joint distribution [H, M]</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">ie</span> <span class="o">=</span> <span class="n">gum</span><span class="o">.</span><span class="n">LazyPropagation</span><span class="p">(</span><span class="n">bn</span><span class="p">)</span>
<span class="n">ie</span><span class="o">.</span><span class="n">addJointTarget</span><span class="p">({</span><span class="s2">&quot;Height&quot;</span><span class="p">,</span> <span class="s2">&quot;Moisture&quot;</span><span class="p">})</span>
<span class="n">ie</span><span class="o">.</span><span class="n">makeInference</span><span class="p">()</span>
<a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Distribution.html#openturns.Distribution" title="openturns.Distribution" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">h_m_dist</span></a> <span class="o">=</span> <span class="n">otagrum</span><span class="o">.</span><span class="n">Utils</span><span class="o">.</span><span class="n">FromPotential</span><span class="p">(</span><span class="n">ie</span><span class="o">.</span><span class="n">jointPosterior</span><span class="p">({</span><span class="s2">&quot;Height&quot;</span><span class="p">,</span> <span class="s2">&quot;Moisture&quot;</span><span class="p">}))</span>
<span class="nb">print</span><span class="p">(</span><a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Distribution.html#openturns.Distribution.getDescription" title="openturns.Distribution.getDescription" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-method"><span class="n">h_m_dist</span><span class="o">.</span><span class="n">getDescription</span></a><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><a href="http://openturns.github.io/openturns/latest/user_manual/_generated/openturns.Distribution.html#openturns.Distribution.getMarginal" title="openturns.Distribution.getMarginal" class="sphx-glr-backref-module-openturns sphx-glr-backref-type-py-method"><span class="n">h_m_dist</span><span class="o">.</span><span class="n">getMarginal</span></a><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[Moisture,Height]
UserDefined({x = [0], p = 0.5}, {x = [1], p = 0.5})
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (0 minutes 0.569 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-plot-plant-growth-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/a1db101856b791da0196ee9f109a8220/plot_plant_growth.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_plant_growth.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/82c3675708534fe0d37186acf7047e67/plot_plant_growth.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_plant_growth.py</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="index.html"
                          title="previous chapter">Examples</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="plot_using_otagrum.html"
                          title="next chapter">Using otagrum</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/auto_examples/plot_plant_growth.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="plot_using_otagrum.html" title="Using otagrum"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Examples"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">otagrum 0.9 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Examples</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Plant growth</a></li> 
      </ul>
    </div>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

  </body>
</html>