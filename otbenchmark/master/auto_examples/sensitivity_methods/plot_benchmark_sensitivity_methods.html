<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Benchmark sensitivity analysis methods &#8212; otbenchmark 0.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../../_static/openturns.css?v=8eaafb59" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script src="../../_static/documentation_options.js?v=f6d3da1f"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Sensitivity problems" href="../sensitivity_problems/index.html" />
    <link rel="prev" title="Convergence of estimators on Ishigami" href="plot_convergence_ishigami.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="../../index.html">Home</a></li>
    <li><a href="../../user_manual/user_manual.html">Doc</a></li>
    <li><a href="../../examples/examples.html">Examples</a></li>
  </ul>
  <a href="../../index.html">
    <h1>
      <img src="../../_static/logo-openturns-wo-bg.png" alt="" width=100px height=100px />
      otbenchmark
    </h1>
    <h2> Module otbenchmark </h2>
  </a>
</div>

    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../sensitivity_problems/index.html" title="Sensitivity problems"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="plot_convergence_ishigami.html" title="Convergence of estimators on Ishigami"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">otbenchmark 0.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../examples/examples.html" >Examples</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" >General examples</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="index.html" accesskey="U">Sensitivity methods</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Benchmark sensitivity analysis methods</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h3><a href="../../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../user_manual/user_manual.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../examples/examples.html">Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html">General examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#reliability-methods">Reliability methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#reliability-problems">Reliability problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#sensitivity-methods">Sensitivity methods</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#sensitivity-problems">Sensitivity problems</a></li>
</ul>
</li>
</ul>

  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="plot_convergence_ishigami.html"
                          title="previous chapter">Convergence of estimators on Ishigami</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="../sensitivity_problems/index.html"
                          title="next chapter">Sensitivity problems</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/auto_examples/sensitivity_methods/plot_benchmark_sensitivity_methods.rst"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-auto-examples-sensitivity-methods-plot-benchmark-sensitivity-methods-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code.</p>
</div>
<section class="sphx-glr-example-title" id="benchmark-sensitivity-analysis-methods">
<span id="sphx-glr-auto-examples-sensitivity-methods-plot-benchmark-sensitivity-methods-py"></span><h1>Benchmark sensitivity analysis methods<a class="headerlink" href="#benchmark-sensitivity-analysis-methods" title="Link to this heading">¶</a></h1>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openturns</span> <span class="k">as</span> <span class="nn">ot</span>
<span class="kn">import</span> <span class="nn">otbenchmark</span> <span class="k">as</span> <span class="nn">otb</span>
</pre></div>
</div>
<p>When we estimate Sobol’ indices, we may encounter the following warning messages:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">WRN</span> <span class="pre">-</span> <span class="pre">The</span> <span class="pre">estimated</span> <span class="pre">first</span> <span class="pre">order</span> <span class="pre">Sobol</span> <span class="pre">index</span> <span class="pre">(2)</span> <span class="pre">is</span> <span class="pre">greater</span> <span class="pre">than</span> <span class="pre">its</span> <span class="pre">total</span> <span class="pre">order</span> <span class="pre">index</span> <span class="pre">...</span>
<span class="pre">WRN</span> <span class="pre">-</span> <span class="pre">The</span> <span class="pre">estimated</span> <span class="pre">total</span> <span class="pre">order</span> <span class="pre">Sobol</span> <span class="pre">index</span> <span class="pre">(2)</span> <span class="pre">is</span> <span class="pre">lesser</span> <span class="pre">than</span> <span class="pre">first</span> <span class="pre">order</span> <span class="pre">index</span> <span class="pre">...</span>
<span class="pre">`</span></code>
Lots of these messages are printed in the current Notebook. This is why we disable them with:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">ot</span><span class="o">.</span><span class="n">Log</span><span class="o">.</span><span class="n">Show</span><span class="p">(</span><span class="n">ot</span><span class="o">.</span><span class="n">Log</span><span class="o">.</span><span class="n">NONE</span><span class="p">)</span>
</pre></div>
</div>
<p>Use Borgonovo problem</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">problem</span> <span class="o">=</span> <span class="n">otb</span><span class="o">.</span><span class="n">BorgonovoSensitivity</span><span class="p">()</span>
<span class="n">distribution</span> <span class="o">=</span> <span class="n">problem</span><span class="o">.</span><span class="n">getInputDistribution</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">problem</span><span class="o">.</span><span class="n">getFunction</span><span class="p">()</span>
</pre></div>
</div>
<p>Exact first and total order</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">exact_first_order</span> <span class="o">=</span> <span class="n">problem</span><span class="o">.</span><span class="n">getFirstOrderIndices</span><span class="p">()</span>
<span class="n">exact_total_order</span> <span class="o">=</span> <span class="n">problem</span><span class="o">.</span><span class="n">getTotalOrderIndices</span><span class="p">()</span>
</pre></div>
</div>
<section id="saltelli-estimator-with-monte-carlo-sample">
<h2>Saltelli estimator with Monte-Carlo sample<a class="headerlink" href="#saltelli-estimator-with-monte-carlo-sample" title="Link to this heading">¶</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">sample_size</span> <span class="o">=</span> <span class="mi">10000</span>
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">inputDesign</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">SobolIndicesExperiment</span><span class="p">(</span><span class="n">distribution</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">)</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
<span class="n">outputDesign</span> <span class="o">=</span> <span class="n">model</span><span class="p">(</span><span class="n">inputDesign</span><span class="p">)</span>
</pre></div>
</div>
<p>Compute first order indices using the Saltelli estimator</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">sensitivityAnalysis</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">SaltelliSensitivityAlgorithm</span><span class="p">(</span>
    <span class="n">inputDesign</span><span class="p">,</span> <span class="n">outputDesign</span><span class="p">,</span> <span class="n">sample_size</span>
<span class="p">)</span>
<span class="n">computed_first_order</span> <span class="o">=</span> <span class="n">sensitivityAnalysis</span><span class="o">.</span><span class="n">getFirstOrderIndices</span><span class="p">()</span>
<span class="n">computed_total_order</span> <span class="o">=</span> <span class="n">sensitivityAnalysis</span><span class="o">.</span><span class="n">getTotalOrderIndices</span><span class="p">()</span>
</pre></div>
</div>
<p>Compare with exact results</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sample size : &quot;</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">)</span>
<span class="c1"># First order</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Computed first order = &quot;</span><span class="p">,</span> <span class="n">computed_first_order</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exact first order = &quot;</span><span class="p">,</span> <span class="n">exact_first_order</span><span class="p">)</span>
<span class="c1"># Total order</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Computed total order = &quot;</span><span class="p">,</span> <span class="n">computed_total_order</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exact total order = &quot;</span><span class="p">,</span> <span class="n">exact_total_order</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Sample size :  10000
Computed first order =  [0.156823,0.161461,0.634277]
Exact first order =  [0.157895,0.157895,0.631579]
Computed total order =  [0.209326,0.214636,0.639424]
Exact total order =  [0.210526,0.210526,0.631579]
</pre></div>
</div>
</section>
<section id="saltelli-estimator-with-quasi-monte-carlo-sample">
<h2>Saltelli estimator with Quasi Monte-Carlo sample<a class="headerlink" href="#saltelli-estimator-with-quasi-monte-carlo-sample" title="Link to this heading">¶</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">sample_size</span> <span class="o">=</span> <span class="mi">500</span>
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">dimension</span> <span class="o">=</span> <span class="n">distribution</span><span class="o">.</span><span class="n">getDimension</span><span class="p">()</span>
<span class="n">sequence</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">SobolSequence</span><span class="p">(</span><span class="n">dimension</span><span class="p">)</span>
<span class="n">restart</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">experiment</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">LowDiscrepancyExperiment</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">distribution</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">,</span> <span class="n">restart</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">inputDesign</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">SobolIndicesExperiment</span><span class="p">(</span><span class="n">experiment</span><span class="p">)</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
<span class="n">outputDesign</span> <span class="o">=</span> <span class="n">model</span><span class="p">(</span><span class="n">inputDesign</span><span class="p">)</span>
</pre></div>
</div>
<p>Compute first order indices using the Saltelli estimator</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">sensitivityAnalysis</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">SaltelliSensitivityAlgorithm</span><span class="p">(</span>
    <span class="n">inputDesign</span><span class="p">,</span> <span class="n">outputDesign</span><span class="p">,</span> <span class="n">sample_size</span>
<span class="p">)</span>
<span class="n">first_order</span> <span class="o">=</span> <span class="n">sensitivityAnalysis</span><span class="o">.</span><span class="n">getFirstOrderIndices</span><span class="p">()</span>
<span class="n">total_order</span> <span class="o">=</span> <span class="n">sensitivityAnalysis</span><span class="o">.</span><span class="n">getTotalOrderIndices</span><span class="p">()</span>
</pre></div>
</div>
<p>Compare with exact results</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sample size : &quot;</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">)</span>
<span class="c1"># First order</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Computed first order = &quot;</span><span class="p">,</span> <span class="n">computed_first_order</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exact first order = &quot;</span><span class="p">,</span> <span class="n">exact_first_order</span><span class="p">)</span>
<span class="c1"># Total order</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Computed total order = &quot;</span><span class="p">,</span> <span class="n">computed_total_order</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exact total order = &quot;</span><span class="p">,</span> <span class="n">exact_total_order</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Sample size :  500
Computed first order =  [0.156823,0.161461,0.634277]
Exact first order =  [0.157895,0.157895,0.631579]
Computed total order =  [0.209326,0.214636,0.639424]
Exact total order =  [0.210526,0.210526,0.631579]
</pre></div>
</div>
</section>
<section id="loop-over-the-estimators">
<h2>Loop over the estimators<a class="headerlink" href="#loop-over-the-estimators" title="Link to this heading">¶</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Available estimators:&quot;</span><span class="p">)</span>
<span class="n">estimators_list</span> <span class="o">=</span> <span class="n">otb</span><span class="o">.</span><span class="n">SensitivityBenchmarkMetaAlgorithm</span><span class="o">.</span><span class="n">GetEstimators</span><span class="p">()</span>
<span class="k">for</span> <span class="n">sobolAlgorithm</span> <span class="ow">in</span> <span class="n">estimators_list</span><span class="p">:</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">sobolAlgorithm</span><span class="o">.</span><span class="n">getClassName</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; - &quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Available estimators:
 -  SaltelliSensitivityAlgorithm
 -  MartinezSensitivityAlgorithm
 -  JansenSensitivityAlgorithm
 -  MauntzKucherenkoSensitivityAlgorithm
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">metaSAAlgorithm</span> <span class="o">=</span> <span class="n">otb</span><span class="o">.</span><span class="n">SensitivityBenchmarkMetaAlgorithm</span><span class="p">(</span><span class="n">problem</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Monte-Carlo sampling&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">sobolAlgorithm</span> <span class="ow">in</span> <span class="n">estimators_list</span><span class="p">:</span>
    <span class="p">(</span>
        <span class="n">computed_first_order</span><span class="p">,</span>
        <span class="n">computed_total_order</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="n">metaSAAlgorithm</span><span class="o">.</span><span class="n">runSamplingEstimator</span><span class="p">(</span><span class="n">sample_size</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">sobolAlgorithm</span><span class="o">.</span><span class="n">getClassName</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    S = &quot;</span><span class="p">,</span> <span class="n">computed_first_order</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    T = &quot;</span><span class="p">,</span> <span class="n">computed_total_order</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Monte-Carlo sampling
SaltelliSensitivityAlgorithm
    S =  [0.143836,0.16279,0.54157]
    T =  [0.236648,0.281946,0.562707]
MartinezSensitivityAlgorithm
    S =  [0.099833,0.120081,0.706197]
    T =  [0.229993,0.214,0.649706]
JansenSensitivityAlgorithm
    S =  [0.177528,0.164591,0.586526]
    T =  [0.195121,0.180157,0.68538]
MauntzKucherenkoSensitivityAlgorithm
    S =  [0.160346,0.16923,0.548474]
    T =  [0.229613,0.246127,0.62042]
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Quasi Monte-Carlo sampling&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">estimator</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Saltelli&quot;</span><span class="p">,</span> <span class="s2">&quot;Martinez&quot;</span><span class="p">,</span> <span class="s2">&quot;Jansen&quot;</span><span class="p">,</span> <span class="s2">&quot;MauntzKucherenko&quot;</span><span class="p">]:</span>
    <span class="p">(</span>
        <span class="n">computed_first_order</span><span class="p">,</span>
        <span class="n">computed_total_order</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="n">metaSAAlgorithm</span><span class="o">.</span><span class="n">runSamplingEstimator</span><span class="p">(</span>
        <span class="n">sample_size</span><span class="p">,</span> <span class="n">estimator</span><span class="o">=</span><span class="n">estimator</span><span class="p">,</span> <span class="n">sampling_method</span><span class="o">=</span><span class="s2">&quot;QMC&quot;</span>
    <span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">sobolAlgorithm</span><span class="o">.</span><span class="n">getClassName</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    S = &quot;</span><span class="p">,</span> <span class="n">computed_first_order</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    T = &quot;</span><span class="p">,</span> <span class="n">computed_total_order</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Quasi Monte-Carlo sampling
MauntzKucherenkoSensitivityAlgorithm
    S =  [0.147144,0.151326,0.624455]
    T =  [0.212622,0.209087,0.643622]
MauntzKucherenkoSensitivityAlgorithm
    S =  [0.147601,0.150976,0.629051]
    T =  [0.210037,0.210799,0.640943]
MauntzKucherenkoSensitivityAlgorithm
    S =  [0.151099,0.149846,0.632098]
    T =  [0.20915,0.21105,0.635553]
MauntzKucherenkoSensitivityAlgorithm
    S =  [0.159027,0.163209,0.636338]
    T =  [0.212622,0.209087,0.643622]
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Polynomial chaos&quot;</span><span class="p">)</span>
<span class="n">sample_size</span> <span class="o">=</span> <span class="mi">500</span>
<span class="p">(</span>
    <span class="n">computed_first_order</span><span class="p">,</span>
    <span class="n">computed_total_order</span><span class="p">,</span>
<span class="p">)</span> <span class="o">=</span> <span class="n">metaSAAlgorithm</span><span class="o">.</span><span class="n">runPolynomialChaosEstimator</span><span class="p">(</span>
    <span class="n">sample_size_train</span><span class="o">=</span><span class="n">sample_size</span><span class="p">,</span>
    <span class="n">sample_size_test</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">total_degree</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">hyperbolic_quasinorm</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    S = &quot;</span><span class="p">,</span> <span class="n">computed_first_order</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    T = &quot;</span><span class="p">,</span> <span class="n">computed_total_order</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Polynomial chaos
    S =  [0.157895,0.157895,0.631579]
    T =  [0.210526,0.210526,0.631579]
</pre></div>
</div>
</section>
<section id="define-the-metric">
<h2>Define the metric<a class="headerlink" href="#define-the-metric" title="Link to this heading">¶</a></h2>
<p>We consider the following accuracy metrics:
* the vector or log relative errors for a given index (first order or total order),
* the mean log relative error, as the mean of the LRE vector (first order or total order),
* the average mean log relative error, as the mean of the first and total order mean log relative error.</p>
<p>Larger LRE values are prefered.</p>
<p>The first order (resp. total order) mean LRE represents the mean number of digits for all components
of the first order indices (resp. total order indices).
The average mean LRE represents the mean LRE for both first and total order indices.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">S_LRE</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Point</span><span class="p">(</span><span class="n">dimension</span><span class="p">)</span>
<span class="n">T_LRE</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">Point</span><span class="p">(</span><span class="n">dimension</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">dimension</span><span class="p">):</span>
    <span class="n">S_LRE</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">otb</span><span class="o">.</span><span class="n">ComputeLogRelativeError</span><span class="p">(</span>
        <span class="n">computed_first_order</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">exact_first_order</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">T_LRE</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">otb</span><span class="o">.</span><span class="n">ComputeLogRelativeError</span><span class="p">(</span>
        <span class="n">computed_total_order</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">exact_total_order</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="p">)</span>
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;LRE S = &quot;</span><span class="p">,</span> <span class="n">S_LRE</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;LRE T = &quot;</span><span class="p">,</span> <span class="n">T_LRE</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>LRE S =  [14.7136,14.5509,15.153]
LRE T =  [15.0349,14.8008,15.153]
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">mean_LRE_S</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">S_LRE</span><span class="p">)</span> <span class="o">/</span> <span class="n">dimension</span>
<span class="n">mean_LRE_T</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">T_LRE</span><span class="p">)</span> <span class="o">/</span> <span class="n">dimension</span>
<span class="n">mean_LRE</span> <span class="o">=</span> <span class="p">(</span><span class="n">mean_LRE_S</span> <span class="o">+</span> <span class="n">mean_LRE_T</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mean LRE S = </span><span class="si">%.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">mean_LRE_S</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mean LRE T = </span><span class="si">%.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">mean_LRE_T</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mean LRE = </span><span class="si">%.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">mean_LRE</span><span class="p">))</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Mean LRE S = 14.81
Mean LRE T = 15.00
Mean LRE = 14.90
</pre></div>
</div>
<p>The digit per point ratio measure the number of digits relatively to the sample size. A greater value is prefered.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">digit_per_point_ratio</span> <span class="o">=</span> <span class="n">mean_LRE</span> <span class="o">/</span> <span class="n">sample_size</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Digit / point = </span><span class="si">%.3e</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">digit_per_point_ratio</span><span class="p">))</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Digit / point = 2.980e-02
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (0 minutes 0.044 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-sensitivity-methods-plot-benchmark-sensitivity-methods-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/4dee1dfd28b61b3e55a7798f565541ce/plot_benchmark_sensitivity_methods.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_benchmark_sensitivity_methods.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/e628122c791f3e04d718f2ad6620a450/plot_benchmark_sensitivity_methods.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_benchmark_sensitivity_methods.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-zip docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/740eed1fcb6a2dedc335ebc049354b66/plot_benchmark_sensitivity_methods.zip"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">zipped:</span> <span class="pre">plot_benchmark_sensitivity_methods.zip</span></code></a></p>
</div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../sensitivity_problems/index.html" title="Sensitivity problems"
             >next</a> |</li>
        <li class="right" >
          <a href="plot_convergence_ishigami.html" title="Convergence of estimators on Ishigami"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">otbenchmark 0.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../examples/examples.html" >Examples</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" >General examples</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="index.html" >Sensitivity methods</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Benchmark sensitivity analysis methods</a></li> 
      </ul>
    </div>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

  </body>
</html>