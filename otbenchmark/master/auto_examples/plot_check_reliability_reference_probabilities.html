<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Check reliability problems reference probabilities &#8212; otbenchmark 0.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d75fae25" />
    <link rel="stylesheet" type="text/css" href="../_static/openturns.css?v=8eaafb59" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=f6d3da1f"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Demonstration of the DrawEvent class" href="plot_drawevent.html" />
    <link rel="prev" title="Demonstration of the Factory classes for reliability problems" href="plot_methodFactory.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="../index.html">Home</a></li>
    <li><a href="../user_manual/user_manual.html">Doc</a></li>
    <li><a href="../examples/examples.html">Examples</a></li>
  </ul>
  <a href="../index.html">
    <h1>
      <img src="../_static/logo-openturns-wo-bg.png" alt="" width=100px height=100px />
      otbenchmark
    </h1>
    <h2> Module otbenchmark </h2>
  </a>
</div>

    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="plot_drawevent.html" title="Demonstration of the DrawEvent class"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="plot_methodFactory.html" title="Demonstration of the Factory classes for reliability problems"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">otbenchmark 0.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../examples/examples.html" >Examples</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">General examples</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Check reliability problems reference probabilities</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h3><a href="../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user_manual/user_manual.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../examples/examples.html">Examples</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">General examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#reliability-methods">Reliability methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#reliability-problems">Reliability problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#sensitivity-methods">Sensitivity methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#sensitivity-problems">Sensitivity problems</a></li>
</ul>
</li>
</ul>

  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="plot_methodFactory.html"
                          title="previous chapter">Demonstration of the Factory classes for reliability problems</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="plot_drawevent.html"
                          title="next chapter">Demonstration of the DrawEvent class</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/auto_examples/plot_check_reliability_reference_probabilities.rst"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-auto-examples-plot-check-reliability-reference-probabilities-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code.</p>
</div>
<section class="sphx-glr-example-title" id="check-reliability-problems-reference-probabilities">
<span id="sphx-glr-auto-examples-plot-check-reliability-reference-probabilities-py"></span><h1>Check reliability problems reference probabilities<a class="headerlink" href="#check-reliability-problems-reference-probabilities" title="Link to this heading">¶</a></h1>
<p>In this example, we check that the reference probabilities in the reliability problems
are consistent with confidence bounds from Monte-Carlo simulations.
These 95% confidence bounds are stored in ‘reliability_compute_reference_proba.csv’
and required approximately than <img class="math" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPCEtLSBUaGlzIGZpbGUgd2FzIGdlbmVyYXRlZCBieSBkdmlzdmdtIDMuMi4xIC0tPgo8c3ZnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgd2lkdGg9JzE1Ljk0MDE2M3B0JyBoZWlnaHQ9JzkuNDc0NzM5cHQnIHZpZXdCb3g9JzAgLTkuNDc0NzM5IDE1Ljk0MDE2MyA5LjQ3NDczOSc+CjxkZWZzPgo8cGF0aCBpZD0nZzAtNTcnIGQ9J00zLjEyNDI4NC0yLjM1MTE4M0MzLjEyNDI4NC0uNDA2NDc2IDIuMTk5NzUxLS4wNzE3MzEgMS43Mzc0ODQtLjA3MTczMUMxLjU3MDExMi0uMDcxNzMxIDEuMTU1NjY2LS4wOTU2NDEgLjk0MDQ3My0uMzQyNzE1QzEuMjkxMTU4LS4zNzQ1OTUgMS4zMTUwNjgtLjYzNzYwOSAxLjMxNTA2OC0uNzE3MzFDMS4zMTUwNjgtLjk1NjQxMyAxLjEzMTc1Ni0xLjA5MTkwNSAuOTQwNDczLTEuMDkxOTA1Qy43OTcwMTEtMS4wOTE5MDUgLjU2NTg3OC0xLjAwNDIzNCAuNTY1ODc4LS43MDEzN0MuNTY1ODc4LS4xNTk0MDIgMS4wMTIyMDQgLjE2NzM3MiAxLjc0NTQ1NSAuMTY3MzcyQzIuODM3MzYgLjE2NzM3MiAzLjg3MzQ3NC0uOTE2NTYzIDMuODczNDc0LTIuNjIyMTY3QzMuODczNDc0LTQuNjk0Mzk2IDIuOTU2OTEyLTUuMzAwMTI1IDIuMTM1OTktNS4zMDAxMjVDMS4xOTU1MTctNS4zMDAxMjUgLjM1MDY4NS00LjU2Njg3NCAuMzUwNjg1LTMuNTIyNzlDLjM1MDY4NS0yLjQ5NDY0NSAxLjEyMzc4Ni0xLjc0NTQ1NSAyLjAyNDQwOC0xLjc0NTQ1NUMyLjU5MDI4Ni0xLjc0NTQ1NSAyLjkzMzAwMS0yLjEwNDExIDMuMTI0Mjg0LTIuNTEwNTg1Vi0yLjM1MTE4M1pNMi4wNTYyODktMS45Njg2MThDMS42ODk2NjQtMS45Njg2MTggMS40NTg1MzEtMi4xMzU5OSAxLjI4MzE4OC0yLjQzMDg4NEMxLjA5OTg3NS0yLjcyNTc3OCAxLjA5OTg3NS0zLjEwODM0NCAxLjA5OTg3NS0zLjUxNDgxOUMxLjA5OTg3NS0zLjk4NTA1NiAxLjA5OTg3NS00LjMxOTgwMSAxLjMxNTA2OC00LjY0NjU3NUMxLjUxNDMyMS00LjkzMzQ5OSAxLjc2OTM2NS01LjA5MjkwMiAyLjE0Mzk2LTUuMDkyOTAyQzIuNjc3OTU4LTUuMDkyOTAyIDIuOTA5MDkxLTQuNTY2ODc0IDIuOTMzMDAxLTQuNTI3MDI0QzMuMTAwMzc0LTQuMTM2NDg4IDMuMTA4MzQ0LTMuNTE0ODE5IDMuMTA4MzQ0LTMuMzU1NDE3QzMuMTA4MzQ0LTIuNzI1Nzc4IDIuNzY1NjI5LTEuOTY4NjE4IDIuMDU2Mjg5LTEuOTY4NjE4WicvPgo8cGF0aCBpZD0nZzEtNDgnIGQ9J001LjM1NTkxNS0zLjgyNTY1NEM1LjM1NTkxNS00LjgxNzkzMyA1LjI5NjEzOS01Ljc4NjMwMSA0Ljg2NTc1My02LjY5NDg5NEM0LjM3NTU5Mi03LjY4NzE3MyAzLjUxNDgxOS03Ljk1MDE4NyAyLjkyOTAxNi03Ljk1MDE4N0MyLjIzNTYxNi03Ljk1MDE4NyAxLjM4NjgtNy42MDM0ODcgLjk0NDQ1OC02LjYxMTIwOEMuNjA5NzE0LTUuODU4MDMyIC40OTAxNjItNS4xMTY4MTIgLjQ5MDE2Mi0zLjgyNTY1NEMuNDkwMTYyLTIuNjY2MDAyIC41NzM4NDgtMS43OTMyNzUgMS4wMDQyMzQtLjk0NDQ1OEMxLjQ3MDQ4Ni0uMDM1ODY2IDIuMjk1MzkyIC4yNTEwNTkgMi45MTcwNjEgLjI1MTA1OUMzLjk1NzE2MSAuMjUxMDU5IDQuNTU0OTE5LS4zNzA2MSA0LjkwMTYxOS0xLjA2NDAxQzUuMzMyMDA1LTEuOTYwNjQ4IDUuMzU1OTE1LTMuMTMyMjU0IDUuMzU1OTE1LTMuODI1NjU0Wk0yLjkxNzA2MSAuMDExOTU1QzIuNTM0NDk2IC4wMTE5NTUgMS43NTc0MS0uMjAzMjM4IDEuNTMwMjYyLTEuNTA2MzUxQzEuMzk4NzU1LTIuMjIzNjYxIDEuMzk4NzU1LTMuMTMyMjU0IDEuMzk4NzU1LTMuOTY5MTE2QzEuMzk4NzU1LTQuOTQ5NDQgMS4zOTg3NTUtNS44MzQxMjIgMS41OTAwMzctNi41Mzk0NzdDMS43OTMyNzUtNy4zNDA0NzMgMi40MDI5ODktNy43MTEwODMgMi45MTcwNjEtNy43MTEwODNDMy4zNzEzNTctNy43MTEwODMgNC4wNjQ3NTctNy40MzYxMTUgNC4yOTE5MDUtNi40MDc5N0M0LjQ0NzMyMy01LjcyNjUyNiA0LjQ0NzMyMy00Ljc4MjA2NyA0LjQ0NzMyMy0zLjk2OTExNkM0LjQ0NzMyMy0zLjE2ODEyIDQuNDQ3MzIzLTIuMjU5NTI3IDQuMzE1ODE2LTEuNTMwMjYyQzQuMDg4NjY3LS4yMTUxOTMgMy4zMzU0OTIgLjAxMTk1NSAyLjkxNzA2MSAuMDExOTU1WicvPgo8cGF0aCBpZD0nZzEtNDknIGQ9J00zLjQ0MzA4OC03LjY2MzI2M0MzLjQ0MzA4OC03LjkzODIzMiAzLjQ0MzA4OC03Ljk1MDE4NyAzLjIwMzk4NS03Ljk1MDE4N0MyLjkxNzA2MS03LjYyNzM5NyAyLjMxOTMwMy03LjE4NTA1NiAxLjA4NzkyLTcuMTg1MDU2Vi02LjgzODM1NkMxLjM2Mjg4OS02LjgzODM1NiAxLjk2MDY0OC02LjgzODM1NiAyLjYxODE4Mi03LjE0OTE5MVYtLjkyMDU0OEMyLjYxODE4Mi0uNDkwMTYyIDIuNTgyMzE2LS4zNDY3IDEuNTMwMjYyLS4zNDY3SDEuMTU5NjUxVjBDMS40ODI0NDEtLjAyMzkxIDIuNjQyMDkyLS4wMjM5MSAzLjAzNjYxMy0uMDIzOTFTNC41Nzg4MjktLjAyMzkxIDQuOTAxNjE5IDBWLS4zNDY3SDQuNTMxMDA5QzMuNDc4OTU0LS4zNDY3IDMuNDQzMDg4LS40OTAxNjIgMy40NDMwODgtLjkyMDU0OFYtNy42NjMyNjNaJy8+CjwvZGVmcz4KPGcgaWQ9J3BhZ2UxJz4KPHVzZSB4PScwJyB5PScwJyB4bGluazpocmVmPScjZzEtNDknLz4KPHVzZSB4PSc1Ljg1Mjk5JyB5PScwJyB4bGluazpocmVmPScjZzEtNDgnLz4KPHVzZSB4PScxMS43MDU5ODEnIHk9Jy00LjMzODQzNycgeGxpbms6aHJlZj0nI2cwLTU3Jy8+CjwvZz4KPC9zdmc+CjwhLS0gREVQVEg9MCAtLT4=" alt="10^9" style="vertical-align: 0px"/> function evaluations for each problem.</p>
<p>We consider two different metrics:</p>
<ul class="simple">
<li><p>we check if the reference probability is within the 95% confidence bounds,</p></li>
<li><p>we compute the number of significant digits by comparing the Monte-Carlo estimator and the reference value.</p></li>
</ul>
<p>The number of significant digits may be as high as 17 when all decimal digits are correct.
However, the reference probabilities are only known up to 3 digits for most problems.
In order to keep some safeguard, we will be happy with 2 correct digits.</p>
<p>These metrics may fail.</p>
<ul class="simple">
<li><p>On average, a fraction equal to 5% of the estimates are outside the confidence bounds.</p></li>
<li><p>The Monte-Carlo estimator may not be accurate enough, e.g. if the probability is very close to zero.</p></li>
</ul>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">otbenchmark</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">otb</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;reliability_compute_reference_proba.csv&quot;</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Unnamed: 0</th>
      <th>PF</th>
      <th>N. function calls</th>
      <th>PMin</th>
      <th>PMax</th>
      <th>C.O.V.</th>
      <th>Digits</th>
      <th>Time (s)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>RP8</td>
      <td>7.908179e-04</td>
      <td>2.413400e+08</td>
      <td>7.872713e-04</td>
      <td>7.943646e-04</td>
      <td>0.002288</td>
      <td>1.640503</td>
      <td>300.011341</td>
    </tr>
    <tr>
      <th>1</th>
      <td>RP14</td>
      <td>7.708905e-04</td>
      <td>7.441900e+08</td>
      <td>7.688964e-04</td>
      <td>7.728846e-04</td>
      <td>0.001320</td>
      <td>1.879484</td>
      <td>300.004585</td>
    </tr>
    <tr>
      <th>2</th>
      <td>RP22</td>
      <td>4.207357e-03</td>
      <td>1.495610e+09</td>
      <td>4.204076e-03</td>
      <td>4.210637e-03</td>
      <td>0.000398</td>
      <td>2.400308</td>
      <td>300.000947</td>
    </tr>
    <tr>
      <th>3</th>
      <td>RP24</td>
      <td>2.860848e-03</td>
      <td>1.644700e+09</td>
      <td>2.858266e-03</td>
      <td>2.863429e-03</td>
      <td>0.000460</td>
      <td>2.336891</td>
      <td>300.001723</td>
    </tr>
    <tr>
      <th>4</th>
      <td>RP25</td>
      <td>4.175883e-05</td>
      <td>1.567860e+09</td>
      <td>4.143895e-05</td>
      <td>4.207871e-05</td>
      <td>0.003908</td>
      <td>1.408015</td>
      <td>300.015279</td>
    </tr>
    <tr>
      <th>5</th>
      <td>RP28</td>
      <td>1.315725e-07</td>
      <td>1.839290e+09</td>
      <td>1.149947e-07</td>
      <td>1.481503e-07</td>
      <td>0.064286</td>
      <td>0.191886</td>
      <td>300.000353</td>
    </tr>
    <tr>
      <th>6</th>
      <td>RP31</td>
      <td>3.227556e-03</td>
      <td>1.787260e+09</td>
      <td>3.224926e-03</td>
      <td>3.230186e-03</td>
      <td>0.000416</td>
      <td>2.381211</td>
      <td>300.000409</td>
    </tr>
    <tr>
      <th>7</th>
      <td>RP33</td>
      <td>2.574817e-03</td>
      <td>1.430700e+09</td>
      <td>2.572190e-03</td>
      <td>2.577443e-03</td>
      <td>0.000520</td>
      <td>2.283686</td>
      <td>300.000557</td>
    </tr>
    <tr>
      <th>8</th>
      <td>RP35</td>
      <td>3.478964e-03</td>
      <td>1.415140e+09</td>
      <td>3.475896e-03</td>
      <td>3.482032e-03</td>
      <td>0.000450</td>
      <td>2.346860</td>
      <td>300.002611</td>
    </tr>
    <tr>
      <th>9</th>
      <td>RP38</td>
      <td>8.059349e-03</td>
      <td>7.765700e+08</td>
      <td>8.053061e-03</td>
      <td>8.065638e-03</td>
      <td>0.000398</td>
      <td>2.399976</td>
      <td>300.003572</td>
    </tr>
    <tr>
      <th>10</th>
      <td>RP53</td>
      <td>3.131966e-02</td>
      <td>1.420390e+09</td>
      <td>3.131060e-02</td>
      <td>3.132872e-02</td>
      <td>0.000148</td>
      <td>2.831000</td>
      <td>300.002226</td>
    </tr>
    <tr>
      <th>11</th>
      <td>RP55</td>
      <td>5.600269e-01</td>
      <td>1.523630e+09</td>
      <td>5.600020e-01</td>
      <td>5.600519e-01</td>
      <td>0.000023</td>
      <td>3.643809</td>
      <td>300.000719</td>
    </tr>
    <tr>
      <th>12</th>
      <td>RP54</td>
      <td>9.927480e-04</td>
      <td>1.715400e+08</td>
      <td>9.880351e-04</td>
      <td>9.974610e-04</td>
      <td>0.002422</td>
      <td>1.615796</td>
      <td>300.018069</td>
    </tr>
    <tr>
      <th>13</th>
      <td>RP57</td>
      <td>2.822772e-02</td>
      <td>1.249510e+09</td>
      <td>2.821854e-02</td>
      <td>2.823691e-02</td>
      <td>0.000166</td>
      <td>2.779904</td>
      <td>300.000954</td>
    </tr>
    <tr>
      <th>14</th>
      <td>RP75</td>
      <td>9.818417e-03</td>
      <td>1.597510e+09</td>
      <td>9.813582e-03</td>
      <td>9.823253e-03</td>
      <td>0.000251</td>
      <td>2.599863</td>
      <td>300.000640</td>
    </tr>
    <tr>
      <th>15</th>
      <td>RP89</td>
      <td>5.469847e-03</td>
      <td>1.366180e+09</td>
      <td>5.465935e-03</td>
      <td>5.473758e-03</td>
      <td>0.000365</td>
      <td>2.437911</td>
      <td>300.000577</td>
    </tr>
    <tr>
      <th>16</th>
      <td>RP107</td>
      <td>2.754926e-07</td>
      <td>5.227000e+08</td>
      <td>2.304941e-07</td>
      <td>3.204912e-07</td>
      <td>0.083337</td>
      <td>0.079160</td>
      <td>300.004477</td>
    </tr>
    <tr>
      <th>17</th>
      <td>RP110</td>
      <td>3.183607e-05</td>
      <td>1.344010e+09</td>
      <td>3.153441e-05</td>
      <td>3.213774e-05</td>
      <td>0.004835</td>
      <td>1.315646</td>
      <td>300.001033</td>
    </tr>
    <tr>
      <th>18</th>
      <td>RP111</td>
      <td>7.851043e-07</td>
      <td>1.552660e+09</td>
      <td>7.410290e-07</td>
      <td>8.291796e-07</td>
      <td>0.028643</td>
      <td>0.542980</td>
      <td>300.000674</td>
    </tr>
    <tr>
      <th>19</th>
      <td>RP63</td>
      <td>3.772015e-04</td>
      <td>5.360000e+07</td>
      <td>3.720028e-04</td>
      <td>3.824002e-04</td>
      <td>0.007032</td>
      <td>1.152929</td>
      <td>300.044605</td>
    </tr>
    <tr>
      <th>20</th>
      <td>RP91</td>
      <td>6.998219e-04</td>
      <td>8.196500e+08</td>
      <td>6.980114e-04</td>
      <td>7.016324e-04</td>
      <td>0.001320</td>
      <td>1.879438</td>
      <td>300.002981</td>
    </tr>
    <tr>
      <th>21</th>
      <td>RP60</td>
      <td>4.483579e-02</td>
      <td>3.014400e+08</td>
      <td>4.481243e-02</td>
      <td>4.485916e-02</td>
      <td>0.000266</td>
      <td>2.575352</td>
      <td>300.002735</td>
    </tr>
    <tr>
      <th>22</th>
      <td>RP77</td>
      <td>2.711905e-07</td>
      <td>1.342230e+09</td>
      <td>2.433297e-07</td>
      <td>2.990513e-07</td>
      <td>0.052417</td>
      <td>0.280529</td>
      <td>300.000783</td>
    </tr>
    <tr>
      <th>23</th>
      <td>Four-branch serial system</td>
      <td>2.225032e-03</td>
      <td>1.351070e+09</td>
      <td>2.222519e-03</td>
      <td>2.227545e-03</td>
      <td>0.000576</td>
      <td>2.239469</td>
      <td>300.000255</td>
    </tr>
    <tr>
      <th>24</th>
      <td>R-S</td>
      <td>7.864349e-02</td>
      <td>1.839670e+09</td>
      <td>7.863119e-02</td>
      <td>7.865579e-02</td>
      <td>0.000080</td>
      <td>3.097966</td>
      <td>300.000382</td>
    </tr>
    <tr>
      <th>25</th>
      <td>Axial stressed beam</td>
      <td>2.919903e-02</td>
      <td>1.391830e+09</td>
      <td>2.919019e-02</td>
      <td>2.920788e-02</td>
      <td>0.000155</td>
      <td>2.810891</td>
      <td>300.001095</td>
    </tr>
  </tbody>
</table>
</div>
</div>
<br />
<br /><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">pf_reference</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">pmin</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">pmax</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">benchmarkProblemList</span> <span class="o">=</span> <span class="n">otb</span><span class="o">.</span><span class="n">ReliabilityBenchmarkProblemList</span><span class="p">()</span>
<span class="n">numberOfProblems</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">benchmarkProblemList</span><span class="p">)</span>
<span class="n">numberOfProblems</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>26
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">digitsMinimum</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">categoryA</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">categoryB</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">categoryC</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">categoryD</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfProblems</span><span class="p">):</span>
    <span class="n">problem</span> <span class="o">=</span> <span class="n">benchmarkProblemList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">problem</span><span class="o">.</span><span class="n">getName</span><span class="p">()</span>
    <span class="n">pf</span> <span class="o">=</span> <span class="n">problem</span><span class="o">.</span><span class="n">getProbability</span><span class="p">()</span>
    <span class="n">event</span> <span class="o">=</span> <span class="n">problem</span><span class="o">.</span><span class="n">getEvent</span><span class="p">()</span>
    <span class="n">antecedent</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">getAntecedent</span><span class="p">()</span>
    <span class="n">distribution</span> <span class="o">=</span> <span class="n">antecedent</span><span class="o">.</span><span class="n">getDistribution</span><span class="p">()</span>
    <span class="n">dimension</span> <span class="o">=</span> <span class="n">distribution</span><span class="o">.</span><span class="n">getDimension</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">pf</span> <span class="o">&gt;</span> <span class="n">pmin</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">and</span> <span class="n">pf</span> <span class="o">&lt;</span> <span class="n">pmax</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
        <span class="n">tagBounds</span> <span class="o">=</span> <span class="s2">&quot;In&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">tagBounds</span> <span class="o">=</span> <span class="s2">&quot;Out&quot;</span>
    <span class="n">digits</span> <span class="o">=</span> <span class="n">otb</span><span class="o">.</span><span class="n">ComputeLogRelativeError</span><span class="p">(</span><span class="n">pf_reference</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">pf</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">tagBounds</span> <span class="o">==</span> <span class="s2">&quot;In&quot;</span> <span class="ow">and</span> <span class="n">digits</span> <span class="o">&gt;=</span> <span class="n">digitsMinimum</span><span class="p">:</span>
        <span class="n">categoryA</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">tagBounds</span> <span class="o">==</span> <span class="s2">&quot;Out&quot;</span> <span class="ow">and</span> <span class="n">digits</span> <span class="o">&gt;=</span> <span class="n">digitsMinimum</span><span class="p">:</span>
        <span class="n">categoryB</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">tagBounds</span> <span class="o">==</span> <span class="s2">&quot;In&quot;</span> <span class="ow">and</span> <span class="n">digits</span> <span class="o">&lt;</span> <span class="n">digitsMinimum</span><span class="p">:</span>
        <span class="n">categoryC</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">categoryD</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span>
        <span class="s2">&quot;#</span><span class="si">%d</span><span class="s2">, </span><span class="si">%-10s</span><span class="s2">, pf=</span><span class="si">%.2e</span><span class="s2">, ref=</span><span class="si">%.2e</span><span class="s2">, C.I.=[</span><span class="si">%.2e</span><span class="s2">,</span><span class="si">%.2e</span><span class="s2">], digits=</span><span class="si">%d</span><span class="s2"> : </span><span class="si">%s</span><span class="s2">&quot;</span>
        <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">name</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">],</span> <span class="n">pf</span><span class="p">,</span> <span class="n">pf_reference</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">pmin</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">pmax</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">digits</span><span class="p">,</span> <span class="n">tagBounds</span><span class="p">)</span>
    <span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>#0, RP8       , pf=7.90e-04, ref=7.91e-04, C.I.=[7.87e-04,7.94e-04], digits=2 : In
#1, RP14      , pf=7.73e-04, ref=7.71e-04, C.I.=[7.69e-04,7.73e-04], digits=2 : In
#2, RP22      , pf=4.21e-03, ref=4.21e-03, C.I.=[4.20e-03,4.21e-03], digits=4 : In
#3, RP24      , pf=2.86e-03, ref=2.86e-03, C.I.=[2.86e-03,2.86e-03], digits=3 : In
#4, RP25      , pf=4.15e-05, ref=4.18e-05, C.I.=[4.14e-05,4.21e-05], digits=2 : In
#5, RP28      , pf=1.45e-07, ref=1.32e-07, C.I.=[1.15e-07,1.48e-07], digits=0 : In
#6, RP31      , pf=3.23e-03, ref=3.23e-03, C.I.=[3.22e-03,3.23e-03], digits=3 : In
#7, RP33      , pf=2.57e-03, ref=2.57e-03, C.I.=[2.57e-03,2.58e-03], digits=2 : Out
#8, RP35      , pf=3.48e-03, ref=3.48e-03, C.I.=[3.48e-03,3.48e-03], digits=5 : In
#9, RP38      , pf=8.10e-03, ref=8.06e-03, C.I.=[8.05e-03,8.07e-03], digits=2 : Out
#10, RP53      , pf=3.13e-02, ref=3.13e-02, C.I.=[3.13e-02,3.13e-02], digits=3 : Out
#11, RP55      , pf=5.60e-01, ref=5.60e-01, C.I.=[5.60e-01,5.60e-01], digits=4 : In
#12, RP54      , pf=9.98e-04, ref=9.93e-04, C.I.=[9.88e-04,9.97e-04], digits=2 : Out
#13, RP57      , pf=2.84e-02, ref=2.82e-02, C.I.=[2.82e-02,2.82e-02], digits=2 : Out
#14, RP75      , pf=9.82e-03, ref=9.82e-03, C.I.=[9.81e-03,9.82e-03], digits=4 : In
#15, RP89      , pf=5.43e-03, ref=5.47e-03, C.I.=[5.47e-03,5.47e-03], digits=2 : Out
#16, RP107     , pf=2.92e-07, ref=2.75e-07, C.I.=[2.30e-07,3.20e-07], digits=1 : In
#17, RP110     , pf=3.19e-05, ref=3.18e-05, C.I.=[3.15e-05,3.21e-05], digits=2 : In
#18, RP111     , pf=7.65e-07, ref=7.85e-07, C.I.=[7.41e-07,8.29e-07], digits=1 : In
#19, RP63      , pf=3.79e-04, ref=3.77e-04, C.I.=[3.72e-04,3.82e-04], digits=2 : In
#20, RP91      , pf=6.97e-04, ref=7.00e-04, C.I.=[6.98e-04,7.02e-04], digits=2 : Out
#21, RP60      , pf=4.56e-02, ref=4.48e-02, C.I.=[4.48e-02,4.49e-02], digits=1 : Out
#22, RP77      , pf=2.87e-07, ref=2.71e-07, C.I.=[2.43e-07,2.99e-07], digits=1 : In
#23, Four-branc, pf=2.22e-03, ref=2.23e-03, C.I.=[2.22e-03,2.23e-03], digits=2 : In
#24, R-S       , pf=7.86e-02, ref=7.86e-02, C.I.=[7.86e-02,7.87e-02], digits=4 : In
#25, Axial stre, pf=2.92e-02, ref=2.92e-02, C.I.=[2.92e-02,2.92e-02], digits=4 : In
</pre></div>
</div>
<p>There are four different cases.</p>
<ul class="simple">
<li><p>Category A: all good. For some problems, both metrics are correct in the sense
that the reference probability is within the bounds and the number of significant digits is larger than 2.
The RP24, RP55, RP110, RP63, R-S, Axial stressed beam problems fall in that category.</p></li>
<li><p>Category B: correct digits, not in bounds.
We see that the RP8 problem has a reference probability outside of the 95% confidence bounds,
but has 2 significant digits.</p></li>
<li><p>Category C: insufficient digits, in bounds. The difficult RP28 problem fall in that category.</p></li>
<li><p>Category D: insufficient digits, not in bounds. These are suspicious problems.</p></li>
</ul>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">categoryA</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[&#39;RP8&#39;, &#39;RP14&#39;, &#39;RP22&#39;, &#39;RP24&#39;, &#39;RP25&#39;, &#39;RP31&#39;, &#39;RP35&#39;, &#39;RP55&#39;, &#39;RP75&#39;, &#39;RP110&#39;, &#39;RP63&#39;, &#39;Four-branch serial system&#39;, &#39;R-S&#39;, &#39;Axial stressed beam&#39;]
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">categoryB</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[&#39;RP33&#39;, &#39;RP38&#39;, &#39;RP53&#39;, &#39;RP54&#39;, &#39;RP57&#39;, &#39;RP89&#39;, &#39;RP91&#39;]
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">categoryC</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[&#39;RP28&#39;, &#39;RP107&#39;, &#39;RP111&#39;, &#39;RP77&#39;]
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">categoryD</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[&#39;RP60&#39;]
</pre></div>
</div>
<p>The number of suspicious problems seems very large.
However, we notice that all these cases are so that the reference probability is close,
in absolute value, to the Monte-Carlo estimator.</p>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (0 minutes 0.515 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-plot-check-reliability-reference-probabilities-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/4314b698e56f611a280931fc186637f1/plot_check_reliability_reference_probabilities.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_check_reliability_reference_probabilities.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/c1b1bb96cf5a7c6f0d91a3b760805791/plot_check_reliability_reference_probabilities.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_check_reliability_reference_probabilities.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-zip docutils container">
<p><a class="reference download internal" download="" href="../_downloads/cea39a76e1f090175bed354fb16c89b5/plot_check_reliability_reference_probabilities.zip"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">zipped:</span> <span class="pre">plot_check_reliability_reference_probabilities.zip</span></code></a></p>
</div>
</div>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="plot_drawevent.html" title="Demonstration of the DrawEvent class"
             >next</a> |</li>
        <li class="right" >
          <a href="plot_methodFactory.html" title="Demonstration of the Factory classes for reliability problems"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">otbenchmark 0.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../examples/examples.html" >Examples</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >General examples</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Check reliability problems reference probabilities</a></li> 
      </ul>
    </div>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

  </body>
</html>